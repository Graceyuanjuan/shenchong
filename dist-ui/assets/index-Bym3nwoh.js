(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ir={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=Symbol.for("react.transitional.element"),Wh=Symbol.for("react.fragment");function Fr(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:Fh,type:e,key:a,ref:t!==void 0?t:null,props:n}}Cl.Fragment=Wh;Cl.jsx=Fr;Cl.jsxs=Fr;Ir.exports=Cl;var b=Ir.exports,Wr={exports:{}},O={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.transitional.element"),Ph=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),nd=Symbol.for("react.profiler"),ad=Symbol.for("react.consumer"),id=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),sd=Symbol.for("react.suspense"),ud=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),xo=Symbol.iterator;function od(e){return e===null||typeof e!="object"?null:(e=xo&&e[xo]||e["@@iterator"],typeof e=="function"?e:null)}var tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ec=Object.assign,nc={};function la(e,t,n){this.props=e,this.context=t,this.refs=nc,this.updater=n||tc}la.prototype.isReactComponent={};la.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};la.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ac(){}ac.prototype=la.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=nc,this.updater=n||tc}var Au=Cu.prototype=new ac;Au.constructor=Cu;ec(Au,la.prototype);Au.isPureReactComponent=!0;var Co=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ic=Object.prototype.hasOwnProperty;function Mu(e,t,n,a,i,l){return n=l.ref,{$$typeof:xu,type:e,key:t,ref:n!==void 0?n:null,props:l}}function rd(e,t){return Mu(e.type,t,void 0,void 0,void 0,e.props)}function Du(e){return typeof e=="object"&&e!==null&&e.$$typeof===xu}function cd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ao=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cd(""+e.key):t.toString(36)}function Mo(){}function fd(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Mo,Mo):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function bn(e,t,n,a,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xu:case Ph:s=!0;break;case Pr:return s=e._init,bn(s(e._payload),t,n,a,i)}}if(s)return i=i(e),s=a===""?"."+Ql(e,0):a,Co(i)?(n="",s!=null&&(n=s.replace(Ao,"$&/")+"/"),bn(i,t,n,"",function(c){return c})):i!=null&&(Du(i)&&(i=rd(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Ao,"$&/")+"/")+s)),t.push(i)),1;s=0;var u=a===""?".":a+":";if(Co(e))for(var o=0;o<e.length;o++)a=e[o],l=u+Ql(a,o),s+=bn(a,t,n,l,i);else if(o=od(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,l=u+Ql(a,o++),s+=bn(a,t,n,l,i);else if(l==="object"){if(typeof e.then=="function")return bn(fd(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Si(e,t,n){if(e==null)return e;var a=[],i=0;return bn(e,a,"","",function(l){return t.call(n,l,i++)}),a}function hd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Do=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dd(){}O.Children={map:Si,forEach:function(e,t,n){Si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Si(e,function(){t++}),t},toArray:function(e){return Si(e,function(t){return t})||[]},only:function(e){if(!Du(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Component=la;O.Fragment=td;O.Profiler=nd;O.PureComponent=Cu;O.StrictMode=ed;O.Suspense=sd;O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W;O.__COMPILER_RUNTIME={__proto__:null,c:function(e){return W.H.useMemoCache(e)}};O.cache=function(e){return function(){return e.apply(null,arguments)}};O.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=ec({},e.props),i=e.key,l=void 0;if(t!=null)for(s in t.ref!==void 0&&(l=void 0),t.key!==void 0&&(i=""+t.key),t)!ic.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var u=Array(s),o=0;o<s;o++)u[o]=arguments[o+2];a.children=u}return Mu(e.type,i,void 0,void 0,l,a)};O.createContext=function(e){return e={$$typeof:id,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ad,_context:e},e};O.createElement=function(e,t,n){var a,i={},l=null;if(t!=null)for(a in t.key!==void 0&&(l=""+t.key),t)ic.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),o=0;o<s;o++)u[o]=arguments[o+2];i.children=u}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return Mu(e,l,void 0,void 0,null,i)};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:ld,render:e}};O.isValidElement=Du;O.lazy=function(e){return{$$typeof:Pr,_payload:{_status:-1,_result:e},_init:hd}};O.memo=function(e,t){return{$$typeof:ud,type:e,compare:t===void 0?null:t}};O.startTransition=function(e){var t=W.T,n={};W.T=n;try{var a=e(),i=W.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(dd,Do)}catch(l){Do(l)}finally{W.T=t}};O.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()};O.use=function(e){return W.H.use(e)};O.useActionState=function(e,t,n){return W.H.useActionState(e,t,n)};O.useCallback=function(e,t){return W.H.useCallback(e,t)};O.useContext=function(e){return W.H.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e,t){return W.H.useDeferredValue(e,t)};O.useEffect=function(e,t,n){var a=W.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};O.useId=function(){return W.H.useId()};O.useImperativeHandle=function(e,t,n){return W.H.useImperativeHandle(e,t,n)};O.useInsertionEffect=function(e,t){return W.H.useInsertionEffect(e,t)};O.useLayoutEffect=function(e,t){return W.H.useLayoutEffect(e,t)};O.useMemo=function(e,t){return W.H.useMemo(e,t)};O.useOptimistic=function(e,t){return W.H.useOptimistic(e,t)};O.useReducer=function(e,t,n){return W.H.useReducer(e,t,n)};O.useRef=function(e){return W.H.useRef(e)};O.useState=function(e){return W.H.useState(e)};O.useSyncExternalStore=function(e,t,n){return W.H.useSyncExternalStore(e,t,n)};O.useTransition=function(){return W.H.useTransition()};O.version="19.1.0";Wr.exports=O;var G=Wr.exports;const gd=Jr(G);var lc={exports:{}},Al={},sc={exports:{}},uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var N=A.length;A.push(U);t:for(;0<N;){var lt=N-1>>>1,gt=A[lt];if(0<i(gt,U))A[lt]=U,A[N]=gt,N=lt;else break t}}function n(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var U=A[0],N=A.pop();if(N!==U){A[0]=N;t:for(var lt=0,gt=A.length,yi=gt>>>1;lt<yi;){var pi=2*(lt+1)-1,Xl=A[pi],We=pi+1,vi=A[We];if(0>i(Xl,N))We<gt&&0>i(vi,Xl)?(A[lt]=vi,A[We]=N,lt=We):(A[lt]=Xl,A[pi]=N,lt=pi);else if(We<gt&&0>i(vi,N))A[lt]=vi,A[We]=N,lt=We;else break t}}return U}function i(A,U){var N=A.sortIndex-U.sortIndex;return N!==0?N:A.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var o=[],c=[],m=1,p=null,r=3,g=!1,T=!1,x=!1,w=!1,d=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function S(A){for(var U=n(c);U!==null;){if(U.callback===null)a(c);else if(U.startTime<=A)a(c),U.sortIndex=U.expirationTime,t(o,U);else break;U=n(c)}}function C(A){if(x=!1,S(A),!T)if(n(o)!==null)T=!0,R||(R=!0,et());else{var U=n(c);U!==null&&kl(C,U.startTime-A)}}var R=!1,M=-1,D=5,tt=-1;function _(){return w?!0:!(e.unstable_now()-tt<D)}function z(){if(w=!1,R){var A=e.unstable_now();tt=A;var U=!0;try{t:{T=!1,x&&(x=!1,f(M),M=-1),g=!0;var N=r;try{e:{for(S(A),p=n(o);p!==null&&!(p.expirationTime>A&&_());){var lt=p.callback;if(typeof lt=="function"){p.callback=null,r=p.priorityLevel;var gt=lt(p.expirationTime<=A);if(A=e.unstable_now(),typeof gt=="function"){p.callback=gt,S(A),U=!0;break e}p===n(o)&&a(o),S(A)}else a(o);p=n(o)}if(p!==null)U=!0;else{var yi=n(c);yi!==null&&kl(C,yi.startTime-A),U=!1}}break t}finally{p=null,r=N,g=!1}U=void 0}}finally{U?et():R=!1}}}var et;if(typeof y=="function")et=function(){y(z)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ih=Fe.port2;Fe.port1.onmessage=z,et=function(){Ih.postMessage(null)}}else et=function(){d(z,0)};function kl(A,U){M=d(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return r},e.unstable_next=function(A){switch(r){case 1:case 2:case 3:var U=3;break;default:U=r}var N=r;r=U;try{return A()}finally{r=N}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var N=r;r=A;try{return U()}finally{r=N}},e.unstable_scheduleCallback=function(A,U,N){var lt=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?lt+N:lt):N=lt,A){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=N+gt,A={id:m++,callback:U,priorityLevel:A,startTime:N,expirationTime:gt,sortIndex:-1},N>lt?(A.sortIndex=N,t(c,A),n(o)===null&&A===n(c)&&(x?(f(M),M=-1):x=!0,kl(C,N-lt))):(A.sortIndex=gt,t(o,A),T||g||(T=!0,R||(R=!0,et()))),A},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(A){var U=r;return function(){var N=r;r=U;try{return A.apply(this,arguments)}finally{r=N}}}})(uc);sc.exports=uc;var md=sc.exports,oc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=G;function rc(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xe(){}var Ct={d:{f:xe,r:function(){throw Error(rc(522))},D:xe,C:xe,L:xe,m:xe,X:xe,S:xe,M:xe},p:0,findDOMNode:null},pd=Symbol.for("react.portal");function vd(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Ca=yd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ml(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct;At.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(rc(299));return vd(e,t,null,n)};At.flushSync=function(e){var t=Ca.T,n=Ct.p;try{if(Ca.T=null,Ct.p=2,e)return e()}finally{Ca.T=t,Ct.p=n,Ct.d.f()}};At.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ct.d.C(e,t))};At.prefetchDNS=function(e){typeof e=="string"&&Ct.d.D(e)};At.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Ml(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ct.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:l}):n==="script"&&Ct.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};At.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ml(t.as,t.crossOrigin);Ct.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ct.d.M(e)};At.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Ml(n,t.crossOrigin);Ct.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};At.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ml(t.as,t.crossOrigin);Ct.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ct.d.m(e)};At.requestFormReset=function(e){Ct.d.r(e)};At.unstable_batchedUpdates=function(e,t){return e(t)};At.useFormState=function(e,t,n){return Ca.H.useFormState(e,t,n)};At.useFormStatus=function(){return Ca.H.useHostTransitionStatus()};At.version="19.1.0";function cc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cc)}catch(e){console.error(e)}}cc(),oc.exports=At;var Sd=oc.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=md,fc=G,Ed=Sd;function E(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bo(e){if(ti(e)!==e)throw Error(E(188))}function bd(e){var t=e.alternate;if(!t){if(t=ti(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Bo(i),e;if(l===a)return Bo(i),t;l=l.sibling}throw Error(E(188))}if(n.return!==a.return)n=i,a=l;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,a=l;break}if(u===a){s=!0,a=i,n=l;break}u=u.sibling}if(!s){for(u=l.child;u;){if(u===n){s=!0,n=l,a=i;break}if(u===a){s=!0,a=l,n=i;break}u=u.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==a)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function gc(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gc(e),t!==null)return t;e=e.sibling}return null}var I=Object.assign,_d=Symbol.for("react.element"),Ei=Symbol.for("react.transitional.element"),ba=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Ms=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),yc=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Bu=Symbol.for("react.forward_ref"),Ds=Symbol.for("react.suspense"),Bs=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Rs=Symbol.for("react.activity"),xd=Symbol.for("react.memo_cache_sentinel"),Ro=Symbol.iterator;function da(e){return e===null||typeof e!="object"?null:(e=Ro&&e[Ro]||e["@@iterator"],typeof e=="function"?e:null)}var Cd=Symbol.for("react.client.reference");function ws(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Cd?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Ms:return"Profiler";case mc:return"StrictMode";case Ds:return"Suspense";case Bs:return"SuspenseList";case Rs:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ba:return"Portal";case he:return(e.displayName||"Context")+".Provider";case yc:return(e._context.displayName||"Context")+".Consumer";case Bu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ru:return t=e.displayName||null,t!==null?t:ws(e.type)||"Memo";case De:t=e._payload,e=e._init;try{return ws(e(t))}catch{}}return null}var _a=Array.isArray,B=fc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Ed.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,an={pending:!1,data:null,method:null,action:null},zs=[],Mn=-1;function se(e){return{current:e}}function vt(e){0>Mn||(e.current=zs[Mn],zs[Mn]=null,Mn--)}function P(e,t){Mn++,zs[Mn]=e.current,e.current=t}var ae=se(null),$a=se(null),je=se(null),Ji=se(null);function Ii(e,t){switch(P(je,t),P($a,e),P(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nr(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nr(t),e=Hh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}vt(ae),P(ae,e)}function Kn(){vt(ae),vt($a),vt(je)}function Os(e){e.memoizedState!==null&&P(Ji,e);var t=ae.current,n=Hh(t,e.type);t!==n&&(P($a,e),P(ae,n))}function Fi(e){$a.current===e&&(vt(ae),vt($a)),Ji.current===e&&(vt(Ji),Ia._currentValue=an)}var Hs=Object.prototype.hasOwnProperty,wu=dt.unstable_scheduleCallback,Zl=dt.unstable_cancelCallback,Ad=dt.unstable_shouldYield,Md=dt.unstable_requestPaint,ie=dt.unstable_now,Dd=dt.unstable_getCurrentPriorityLevel,pc=dt.unstable_ImmediatePriority,vc=dt.unstable_UserBlockingPriority,Wi=dt.unstable_NormalPriority,Bd=dt.unstable_LowPriority,Sc=dt.unstable_IdlePriority,Rd=dt.log,wd=dt.unstable_setDisableYieldValue,ei=null,Ut=null;function He(e){if(typeof Rd=="function"&&wd(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(ei,e)}catch{}}var qt=Math.clz32?Math.clz32:Hd,zd=Math.log,Od=Math.LN2;function Hd(e){return e>>>=0,e===0?32:31-(zd(e)/Od|0)|0}var bi=256,_i=4194304;function tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~l,a!==0?i=tn(a):(s&=u,s!==0?i=tn(s):n||(n=u&~e,n!==0&&(i=tn(n))))):(u=a&~l,u!==0?i=tn(u):s!==0?i=tn(s):n||(n=a&~e,n!==0&&(i=tn(n)))),i===0?0:t!==0&&t!==i&&!(t&l)&&(l=i&-i,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:i}function ni(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nd(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var e=bi;return bi<<=1,!(bi&4194048)&&(bi=256),e}function bc(){var e=_i;return _i<<=1,!(_i&62914560)&&(_i=4194304),e}function Vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ai(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ud(e,t,n,a,i,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var m=31-qt(n),p=1<<m;u[m]=0,o[m]=-1;var r=c[m];if(r!==null)for(c[m]=null,m=0;m<r.length;m++){var g=r[m];g!==null&&(g.lane&=-536870913)}n&=~p}a!==0&&_c(e,a,0),l!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=l&~(s&~t))}function _c(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-qt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Tc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-qt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function zu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ou(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function xc(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Xh(e.type))}function qd(e,t){var n=k.p;try{return k.p=e,t()}finally{k.p=n}}var Je=Math.random().toString(36).slice(2),_t="__reactFiber$"+Je,Rt="__reactProps$"+Je,sa="__reactContainer$"+Je,Ns="__reactEvents$"+Je,jd="__reactListeners$"+Je,Ld="__reactHandles$"+Je,wo="__reactResources$"+Je,ii="__reactMarker$"+Je;function Hu(e){delete e[_t],delete e[Rt],delete e[Ns],delete e[jd],delete e[Ld]}function Dn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sa]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jr(e);e!==null;){if(n=e[_t])return n;e=jr(e)}return t}e=n,n=e.parentNode}return null}function ua(e){if(e=e[_t]||e[sa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ta(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(E(33))}function Ln(e){var t=e[wo];return t||(t=e[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[ii]=!0}var Cc=new Set,Ac={};function mn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Ac[e]=t,e=0;e<t.length;e++)Cc.add(t[e])}var $d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Oo={};function Gd(e){return Hs.call(Oo,e)?!0:Hs.call(zo,e)?!1:$d.test(e)?Oo[e]=!0:(zo[e]=!0,!1)}function Ni(e,t,n){if(Gd(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ti(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function oe(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Kl,Ho;function _n(e){if(Kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||"",Ho=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kl+e+Ho}var Jl=!1;function Il(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var r=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){r=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){r=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&r&&typeof g.stack=="string")return[g.stack,r.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),s=l[0],u=l[1];if(s&&u){var o=s.split(`
`),c=u.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===c.length)for(a=o.length-1,i=c.length-1;1<=a&&0<=i&&o[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==c[i]){var m=`
`+o[a].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=a&&0<=i);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_n(n):""}function Yd(e){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return Il(e.type,!1);case 11:return Il(e.type.render,!1);case 1:return Il(e.type,!0);case 31:return _n("Activity");default:return""}}function No(e){try{var t="";do t+=Yd(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kd(e){var t=Mc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){a=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=kd(e))}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Mc(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xd=/[\n"\\]/g;function Qt(e){return e.replace(Xd,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Us(e,t,n,a,i,l,s,u){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?qs(e,s,Yt(t)):n!=null?qs(e,s,Yt(n)):a!=null&&e.removeAttribute("value"),i==null&&l!=null&&(e.defaultChecked=!!l),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Yt(u):e.removeAttribute("name")}function Bc(e,t,n,a,i,l,s,u){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;n=n!=null?""+Yt(n):"",t=t!=null?""+Yt(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function qs(e,t,n){t==="number"&&tl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $n(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rc(e,t,n){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yt(n):""}function wc(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(E(92));if(_a(a)){if(1<a.length)throw Error(E(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Yt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function In(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Qd.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function zc(e,t,n){if(t!=null&&typeof t!="object")throw Error(E(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Uo(e,i,a)}else for(var l in t)t.hasOwnProperty(l)&&Uo(e,l,t[l])}function Nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(e){return Vd.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var js=null;function Uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,Gn=null;function qo(e){var t=ua(e);if(t&&(e=t.stateNode)){var n=e[Rt]||null;t:switch(e=t.stateNode,t.type){case"input":if(Us(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Rt]||null;if(!i)throw Error(E(90));Us(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Dc(a)}break t;case"textarea":Rc(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}}}var Fl=!1;function Oc(e,t,n){if(Fl)return e(t,n);Fl=!0;try{var a=e(t);return a}finally{if(Fl=!1,(Bn!==null||Gn!==null)&&(jl(),Bn&&(t=Bn,e=Gn,Gn=Bn=null,qo(t),e)))for(t=0;t<e.length;t++)qo(e[t])}}function Ga(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Rt]||null;if(a===null)return null;n=a[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Se=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Se)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Ls=!1}var Ne=null,qu=null,qi=null;function Hc(){if(qi)return qi;var e,t=qu,n=t.length,a,i="value"in Ne?Ne.value:Ne.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===i[l-a];a++);return qi=i.slice(e,1<a?1-a:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function jo(){return!1}function wt(e){function t(n,a,i,l,s){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?xi:jo,this.isPropagationStopped=jo,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=wt(yn),li=I({},yn,{view:0,detail:0}),Kd=wt(li),Wl,Pl,ma,Rl=I({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(Wl=e.screenX-ma.screenX,Pl=e.screenY-ma.screenY):Pl=Wl=0,ma=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Lo=wt(Rl),Jd=I({},Rl,{dataTransfer:0}),Id=wt(Jd),Fd=I({},li,{relatedTarget:0}),ts=wt(Fd),Wd=I({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pd=wt(Wd),tg=I({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eg=wt(tg),ng=I({},yn,{data:0}),$o=wt(ng),ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lg[e])?!!t[e]:!1}function ju(){return sg}var ug=I({},li,{key:function(e){if(e.key){var t=ag[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),og=wt(ug),rg=I({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=wt(rg),cg=I({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),fg=wt(cg),hg=I({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dg=wt(hg),gg=I({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mg=wt(gg),yg=I({},yn,{newState:0,oldState:0}),pg=wt(yg),vg=[9,13,27,32],Lu=Se&&"CompositionEvent"in window,Aa=null;Se&&"documentMode"in document&&(Aa=document.documentMode);var Sg=Se&&"TextEvent"in window&&!Aa,Nc=Se&&(!Lu||Aa&&8<Aa&&11>=Aa),Yo=" ",ko=!1;function Uc(e,t){switch(e){case"keyup":return vg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function Eg(e,t){switch(e){case"compositionend":return qc(t);case"keypress":return t.which!==32?null:(ko=!0,Yo);case"textInput":return e=t.data,e===Yo&&ko?null:e;default:return null}}function bg(e,t){if(Rn)return e==="compositionend"||!Lu&&Uc(e,t)?(e=Hc(),qi=qu=Ne=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nc&&t.locale!=="ko"?null:t.data;default:return null}}var _g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_g[e.type]:t==="textarea"}function jc(e,t,n,a){Bn?Gn?Gn.push(a):Gn=[a]:Bn=a,t=vl(t,"onChange"),0<t.length&&(n=new Bl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ma=null,Ya=null;function Tg(e){wh(e,0)}function wl(e){var t=Ta(e);if(Dc(t))return e}function Qo(e,t){if(e==="change")return t}var Lc=!1;if(Se){var es;if(Se){var ns="oninput"in document;if(!ns){var Zo=document.createElement("div");Zo.setAttribute("oninput","return;"),ns=typeof Zo.oninput=="function"}es=ns}else es=!1;Lc=es&&(!document.documentMode||9<document.documentMode)}function Vo(){Ma&&(Ma.detachEvent("onpropertychange",$c),Ya=Ma=null)}function $c(e){if(e.propertyName==="value"&&wl(Ya)){var t=[];jc(t,Ya,e,Uu(e)),Oc(Tg,t)}}function xg(e,t,n){e==="focusin"?(Vo(),Ma=t,Ya=n,Ma.attachEvent("onpropertychange",$c)):e==="focusout"&&Vo()}function Cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(Ya)}function Ag(e,t){if(e==="click")return wl(t)}function Mg(e,t){if(e==="input"||e==="change")return wl(t)}function Dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Dg;function ka(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Hs.call(t,i)||!$t(e[i],t[i]))return!1}return!0}function Ko(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jo(e,t){var n=Ko(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ko(n)}}function Gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tl(e.document)}return t}function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bg=Se&&"documentMode"in document&&11>=document.documentMode,wn=null,$s=null,Da=null,Gs=!1;function Io(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gs||wn==null||wn!==tl(a)||(a=wn,"selectionStart"in a&&$u(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Da&&ka(Da,a)||(Da=a,a=vl($s,"onSelect"),0<a.length&&(t=new Bl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=wn)))}function Pe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:Pe("Animation","AnimationEnd"),animationiteration:Pe("Animation","AnimationIteration"),animationstart:Pe("Animation","AnimationStart"),transitionrun:Pe("Transition","TransitionRun"),transitionstart:Pe("Transition","TransitionStart"),transitioncancel:Pe("Transition","TransitionCancel"),transitionend:Pe("Transition","TransitionEnd")},as={},kc={};Se&&(kc=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function pn(e){if(as[e])return as[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kc)return as[e]=t[n];return e}var Xc=pn("animationend"),Qc=pn("animationiteration"),Zc=pn("animationstart"),Rg=pn("transitionrun"),wg=pn("transitionstart"),zg=pn("transitioncancel"),Vc=pn("transitionend"),Kc=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function Wt(e,t){Kc.set(e,t),mn(t,[e])}var Fo=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var n=Fo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:No(t)},Fo.set(e,t),t)}return{value:e,source:t,stack:No(t)}}var Gt=[],On=0,Gu=0;function zl(){for(var e=On,t=Gu=On=0;t<e;){var n=Gt[t];Gt[t++]=null;var a=Gt[t];Gt[t++]=null;var i=Gt[t];Gt[t++]=null;var l=Gt[t];if(Gt[t++]=null,a!==null&&i!==null){var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}l!==0&&Jc(n,i,l)}}function Ol(e,t,n,a){Gt[On++]=e,Gt[On++]=t,Gt[On++]=n,Gt[On++]=a,Gu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Yu(e,t,n,a){return Ol(e,t,n,a),el(e)}function oa(e,t){return Ol(e,null,null,t),el(e)}function Jc(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,l=e.return;l!==null;)l.childLanes|=n,a=l.alternate,a!==null&&(a.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(i=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,i&&t!==null&&(i=31-qt(n),e=l.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),l):null}function el(e){if(50<ja)throw ja=0,ru=null,Error(E(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hn={};function Og(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,a){return new Og(e,t,n,a)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pe(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ic(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Li(e,t,n,a,i,l){var s=0;if(a=e,typeof e=="function")ku(e)&&(s=1);else if(typeof e=="string")s=Nm(e,n,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Rs:return e=Nt(31,n,t,i),e.elementType=Rs,e.lanes=l,e;case An:return ln(n.children,i,l,t);case mc:s=8,i|=24;break;case Ms:return e=Nt(12,n,t,i|2),e.elementType=Ms,e.lanes=l,e;case Ds:return e=Nt(13,n,t,i),e.elementType=Ds,e.lanes=l,e;case Bs:return e=Nt(19,n,t,i),e.elementType=Bs,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Td:case he:s=10;break t;case yc:s=9;break t;case Bu:s=11;break t;case Ru:s=14;break t;case De:s=16,a=null;break t}s=29,n=Error(E(130,e===null?"null":typeof e,"")),a=null}return t=Nt(s,n,t,i),t.elementType=e,t.type=a,t.lanes=l,t}function ln(e,t,n,a){return e=Nt(7,e,a,t),e.lanes=n,e}function is(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function ls(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nn=[],Un=0,nl=null,al=0,kt=[],Xt=0,sn=null,de=1,ge="";function en(e,t){Nn[Un++]=al,Nn[Un++]=nl,nl=e,al=t}function Fc(e,t,n){kt[Xt++]=de,kt[Xt++]=ge,kt[Xt++]=sn,sn=e;var a=de;e=ge;var i=32-qt(a)-1;a&=~(1<<i),n+=1;var l=32-qt(t)+i;if(30<l){var s=i-i%5;l=(a&(1<<s)-1).toString(32),a>>=s,i-=s,de=1<<32-qt(t)+i|n<<i|a,ge=l+e}else de=1<<l|n<<i|a,ge=e}function Xu(e){e.return!==null&&(en(e,1),Fc(e,1,0))}function Qu(e){for(;e===nl;)nl=Nn[--Un],Nn[Un]=null,al=Nn[--Un],Nn[Un]=null;for(;e===sn;)sn=kt[--Xt],kt[Xt]=null,ge=kt[--Xt],kt[Xt]=null,de=kt[--Xt],kt[Xt]=null}var xt=null,at=null,Y=!1,un=null,ee=!1,ks=Error(E(519));function fn(e){var t=Error(E(418,""));throw Xa(Zt(t,e)),ks}function Wo(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[_t]=e,t[Rt]=a,n){case"dialog":q("cancel",t),q("close",t);break;case"iframe":case"object":case"embed":q("load",t);break;case"video":case"audio":for(n=0;n<Va.length;n++)q(Va[n],t);break;case"source":q("error",t);break;case"img":case"image":case"link":q("error",t),q("load",t);break;case"details":q("toggle",t);break;case"input":q("invalid",t),Bc(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Pi(t);break;case"select":q("invalid",t);break;case"textarea":q("invalid",t),wc(t,a.value,a.defaultValue,a.children),Pi(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Oh(t.textContent,n)?(a.popover!=null&&(q("beforetoggle",t),q("toggle",t)),a.onScroll!=null&&q("scroll",t),a.onScrollEnd!=null&&q("scrollend",t),a.onClick!=null&&(t.onclick=Gl),t=!0):t=!1,t||fn(e)}function Po(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 13:ee=!1;return;case 27:case 3:ee=!0;return;default:xt=xt.return}}function ya(e){if(e!==xt)return!1;if(!Y)return Po(e),Y=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||mu(e.type,e.memoizedProps)),n=!n),n&&at&&fn(e),Po(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){at=Ft(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}at=null}}else t===27?(t=at,Ie(e.type)?(e=vu,vu=null,at=e):at=t):at=xt?Ft(e.stateNode.nextSibling):null;return!0}function si(){at=xt=null,Y=!1}function tr(){var e=un;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),un=null),e}function Xa(e){un===null?un=[e]:un.push(e)}var Xs=se(null),vn=null,me=null;function Re(e,t,n){P(Xs,t._currentValue),t._currentValue=n}function ve(e){e._currentValue=Xs.current,vt(Xs)}function Qs(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Zs(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){var s=i.child;l=l.firstContext;t:for(;l!==null;){var u=l;l=i;for(var o=0;o<t.length;o++)if(u.context===t[o]){l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Qs(l.return,n,e),a||(s=null);break t}l=u.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(E(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qs(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function ui(e,t,n,a){e=null;for(var i=t,l=!1;i!==null;){if(!l){if(i.flags&524288)l=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(E(387));if(s=s.memoizedProps,s!==null){var u=i.type;$t(i.pendingProps.value,s.value)||(e!==null?e.push(u):e=[u])}}else if(i===Ji.current){if(s=i.alternate,s===null)throw Error(E(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ia):e=[Ia])}i=i.return}e!==null&&Zs(t,e,n,a),t.flags|=262144}function il(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hn(e){vn=e,me=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return Wc(vn,e)}function Ci(e,t){return vn===null&&hn(e),Wc(e,t)}function Wc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},me===null){if(e===null)throw Error(E(308));me=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else me=me.next=t;return n}var Hg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ng=dt.unstable_scheduleCallback,Ug=dt.unstable_NormalPriority,ft={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zu(){return{controller:new Hg,data:new Map,refCount:0}}function oi(e){e.refCount--,e.refCount===0&&Ng(Ug,function(){e.controller.abort()})}var Ba=null,Vs=0,Fn=0,Yn=null;function qg(e,t){if(Ba===null){var n=Ba=[];Vs=0,Fn=yo(),Yn={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Vs++,t.then(er,er),t}function er(){if(--Vs===0&&Ba!==null){Yn!==null&&(Yn.status="fulfilled");var e=Ba;Ba=null,Fn=0,Yn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jg(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var nr=B.S;B.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&qg(e,t),nr!==null&&nr(e,t)};var on=se(null);function Vu(){var e=on.current;return e!==null?e:J.pooledCache}function $i(e,t){t===null?P(on,on.current):P(on,t.pool)}function Pc(){var e=Vu();return e===null?null:{parent:ft._currentValue,pool:e}}var ri=Error(E(460)),tf=Error(E(474)),Hl=Error(E(542)),Ks={then:function(){}};function ar(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ai(){}function ef(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ai,Ai),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lr(e),e;default:if(typeof t.status=="string")t.then(Ai,Ai);else{if(e=J,e!==null&&100<e.shellSuspendCounter)throw Error(E(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lr(e),e}throw Ra=t,ri}}var Ra=null;function ir(){if(Ra===null)throw Error(E(459));var e=Ra;return Ra=null,e}function lr(e){if(e===ri||e===Hl)throw Error(E(483))}var Be=!1;function Ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Le(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $e(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Q&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=el(e),Jc(e,null,n),t}return Ol(e,a,t,n),el(e)}function wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tc(e,n)}}function ss(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?i=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Is=!1;function za(){if(Is){var e=Yn;if(e!==null)throw e}}function Oa(e,t,n,a){Is=!1;var i=e.updateQueue;Be=!1;var l=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var o=u,c=o.next;o.next=null,s===null?l=c:s.next=c,s=o;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==s&&(u===null?m.firstBaseUpdate=c:u.next=c,m.lastBaseUpdate=o))}if(l!==null){var p=i.baseState;s=0,m=c=o=null,u=l;do{var r=u.lane&-536870913,g=r!==u.lane;if(g?($&r)===r:(a&r)===r){r!==0&&r===Fn&&(Is=!0),m!==null&&(m=m.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});t:{var T=e,x=u;r=t;var w=n;switch(x.tag){case 1:if(T=x.payload,typeof T=="function"){p=T.call(w,p,r);break t}p=T;break t;case 3:T.flags=T.flags&-65537|128;case 0:if(T=x.payload,r=typeof T=="function"?T.call(w,p,r):T,r==null)break t;p=I({},p,r);break t;case 2:Be=!0}}r=u.callback,r!==null&&(e.flags|=64,g&&(e.flags|=8192),g=i.callbacks,g===null?i.callbacks=[r]:g.push(r))}else g={lane:r,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(c=m=g,o=p):m=m.next=g,s|=r;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);m===null&&(o=p),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=m,l===null&&(i.shared.lanes=0),Ke|=s,e.lanes=s,e.memoizedState=p}}function nf(e,t){if(typeof e!="function")throw Error(E(191,e));e.call(t)}function af(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)nf(n[e],t)}var Wn=se(null),ll=se(0);function sr(e,t){e=_e,P(ll,e),P(Wn,t),_e=e|t.baseLanes}function Fs(){P(ll,_e),P(Wn,Wn.current)}function Ju(){_e=ll.current,vt(Wn),vt(ll)}var Ze=0,H=null,V=null,rt=null,sl=!1,kn=!1,dn=!1,ul=0,Qa=0,Xn=null,Lg=0;function st(){throw Error(E(321))}function Iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Fu(e,t,n,a,i,l){return Ze=l,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Nf:Uf,dn=!1,l=n(a,i),dn=!1,kn&&(l=sf(t,n,a,i)),lf(e),l}function lf(e){B.H=ol;var t=V!==null&&V.next!==null;if(Ze=0,rt=V=H=null,sl=!1,Qa=0,Xn=null,t)throw Error(E(300));e===null||pt||(e=e.dependencies,e!==null&&il(e)&&(pt=!0))}function sf(e,t,n,a){H=e;var i=0;do{if(kn&&(Xn=null),Qa=0,kn=!1,25<=i)throw Error(E(301));if(i+=1,rt=V=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}B.H=Zg,l=t(n,a)}while(kn);return l}function $g(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?ci(t):t,e=e.useState()[0],(V!==null?V.memoizedState:null)!==e&&(H.flags|=1024),t}function Wu(){var e=ul!==0;return ul=0,e}function Pu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function to(e){if(sl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}sl=!1}Ze=0,rt=V=H=null,kn=!1,Qa=ul=0,Xn=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?H.memoizedState=rt=e:rt=rt.next=e,rt}function ct(){if(V===null){var e=H.alternate;e=e!==null?e.memoizedState:null}else e=V.next;var t=rt===null?H.memoizedState:rt.next;if(t!==null)rt=t,V=e;else{if(e===null)throw H.alternate===null?Error(E(467)):Error(E(310));V=e,e={memoizedState:V.memoizedState,baseState:V.baseState,baseQueue:V.baseQueue,queue:V.queue,next:null},rt===null?H.memoizedState=rt=e:rt=rt.next=e}return rt}function eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ci(e){var t=Qa;return Qa+=1,Xn===null&&(Xn=[]),e=ef(Xn,e,t),t=H,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Nf:Uf),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ci(e);if(e.$$typeof===he)return Tt(e)}throw Error(E(438,String(e)))}function no(e){var t=null,n=H.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=H.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=eo(),H.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=xd;return t.index++,n}function Ee(e,t){return typeof t=="function"?t(e):t}function Gi(e){var t=ct();return ao(t,V,e)}function ao(e,t,n){var a=e.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=n;var i=e.baseQueue,l=a.pending;if(l!==null){if(i!==null){var s=i.next;i.next=l.next,l.next=s}t.baseQueue=i=l,a.pending=null}if(l=e.baseState,i===null)e.memoizedState=l;else{t=i.next;var u=s=null,o=null,c=t,m=!1;do{var p=c.lane&-536870913;if(p!==c.lane?($&p)===p:(Ze&p)===p){var r=c.revertLane;if(r===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Fn&&(m=!0);else if((Ze&r)===r){c=c.next,r===Fn&&(m=!0);continue}else p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(u=o=p,s=l):o=o.next=p,H.lanes|=r,Ke|=r;p=c.action,dn&&n(l,p),l=c.hasEagerState?c.eagerState:n(l,p)}else r={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(u=o=r,s=l):o=o.next=r,H.lanes|=p,Ke|=p;c=c.next}while(c!==null&&c!==t);if(o===null?s=l:o.next=u,!$t(l,e.memoizedState)&&(pt=!0,m&&(n=Yn,n!==null)))throw n;e.memoizedState=l,e.baseState=s,e.baseQueue=o,a.lastRenderedState=l}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function us(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do l=e(l,s.action),s=s.next;while(s!==i);$t(l,t.memoizedState)||(pt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function uf(e,t,n){var a=H,i=ct(),l=Y;if(l){if(n===void 0)throw Error(E(407));n=n()}else n=t();var s=!$t((V||i).memoizedState,n);s&&(i.memoizedState=n,pt=!0),i=i.queue;var u=cf.bind(null,a,i,e);if(fi(2048,8,u,[e]),i.getSnapshot!==t||s||rt!==null&&rt.memoizedState.tag&1){if(a.flags|=2048,Pn(9,Ul(),rf.bind(null,a,i,n,t),null),J===null)throw Error(E(349));l||Ze&124||of(a,t,n)}return n}function of(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t=eo(),H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rf(e,t,n,a){t.value=n,t.getSnapshot=a,ff(t)&&hf(e)}function cf(e,t,n){return n(function(){ff(t)&&hf(e)})}function ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function hf(e){var t=oa(e,2);t!==null&&Lt(t,e,2)}function Ws(e){var t=Mt();if(typeof e=="function"){var n=e;if(e=n(),dn){He(!0);try{n()}finally{He(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,lastRenderedState:e},t}function df(e,t,n,a){return e.baseState=n,ao(e,V,typeof a=="function"?a:Ee)}function Gg(e,t,n,a,i){if(ql(e))throw Error(E(485));if(e=t.action,e!==null){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};B.T!==null?n(!0):l.isTransition=!1,a(l),n=t.pending,n===null?(l.next=t.pending=l,gf(t,l)):(l.next=n.next,t.pending=n.next=l)}}function gf(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var l=B.T,s={};B.T=s;try{var u=n(i,a),o=B.S;o!==null&&o(s,u),ur(e,t,u)}catch(c){Ps(e,t,c)}finally{B.T=l}}else try{l=n(i,a),ur(e,t,l)}catch(c){Ps(e,t,c)}}function ur(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){or(e,t,a)},function(a){return Ps(e,t,a)}):or(e,t,n)}function or(e,t,n){t.status="fulfilled",t.value=n,mf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,gf(e,n)))}function Ps(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,mf(t),t=t.next;while(t!==a)}e.action=null}function mf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yf(e,t){return t}function rr(e,t){if(Y){var n=J.formState;if(n!==null){t:{var a=H;if(Y){if(at){e:{for(var i=at,l=ee;i.nodeType!==8;){if(!l){i=null;break e}if(i=Ft(i.nextSibling),i===null){i=null;break e}}l=i.data,i=l==="F!"||l==="F"?i:null}if(i){at=Ft(i.nextSibling),a=i.data==="F!";break t}}fn(a)}a=!1}a&&(t=n[0])}}return n=Mt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},n.queue=a,n=zf.bind(null,H,a),a.dispatch=n,a=Ws(!1),l=uo.bind(null,H,!1,a.queue),a=Mt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Gg.bind(null,H,i,l,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function cr(e){var t=ct();return pf(t,V,e)}function pf(e,t,n){if(t=ao(e,t,yf)[0],e=Gi(Ee)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ci(t)}catch(s){throw s===ri?Hl:s}else a=t;t=ct();var i=t.queue,l=i.dispatch;return n!==t.memoizedState&&(H.flags|=2048,Pn(9,Ul(),Yg.bind(null,i,n),null)),[a,l,e]}function Yg(e,t){e.action=t}function fr(e){var t=ct(),n=V;if(n!==null)return pf(t,n,e);ct(),t=t.memoizedState,n=ct();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Pn(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=H.updateQueue,t===null&&(t=eo(),H.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ul(){return{destroy:void 0,resource:void 0}}function vf(){return ct().memoizedState}function Yi(e,t,n,a){var i=Mt();a=a===void 0?null:a,H.flags|=e,i.memoizedState=Pn(1|t,Ul(),n,a)}function fi(e,t,n,a){var i=ct();a=a===void 0?null:a;var l=i.memoizedState.inst;V!==null&&a!==null&&Iu(a,V.memoizedState.deps)?i.memoizedState=Pn(t,l,n,a):(H.flags|=e,i.memoizedState=Pn(1|t,l,n,a))}function hr(e,t){Yi(8390656,8,e,t)}function Sf(e,t){fi(2048,8,e,t)}function Ef(e,t){return fi(4,2,e,t)}function bf(e,t){return fi(4,4,e,t)}function _f(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tf(e,t,n){n=n!=null?n.concat([e]):null,fi(4,4,_f.bind(null,t,e),n)}function io(){}function xf(e,t){var n=ct();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Iu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Cf(e,t){var n=ct();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Iu(t,a[1]))return a[0];if(a=e(),dn){He(!0);try{e()}finally{He(!1)}}return n.memoizedState=[a,t],a}function lo(e,t,n){return n===void 0||Ze&1073741824?e.memoizedState=t:(e.memoizedState=n,e=mh(),H.lanes|=e,Ke|=e,n)}function Af(e,t,n,a){return $t(n,t)?n:Wn.current!==null?(e=lo(e,n,a),$t(e,t)||(pt=!0),e):Ze&42?(e=mh(),H.lanes|=e,Ke|=e,t):(pt=!0,e.memoizedState=n)}function Mf(e,t,n,a,i){var l=k.p;k.p=l!==0&&8>l?l:8;var s=B.T,u={};B.T=u,uo(e,!1,t,n);try{var o=i(),c=B.S;if(c!==null&&c(u,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=jg(o,a);Ha(e,t,m,jt(e))}else Ha(e,t,a,jt(e))}catch(p){Ha(e,t,{then:function(){},status:"rejected",reason:p},jt())}finally{k.p=l,B.T=s}}function kg(){}function tu(e,t,n,a){if(e.tag!==5)throw Error(E(476));var i=Df(e).queue;Mf(e,i,t,an,n===null?kg:function(){return Bf(e),n(a)})}function Df(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:an,baseState:an,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,lastRenderedState:an},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bf(e){var t=Df(e).next.queue;Ha(e,t,{},jt())}function so(){return Tt(Ia)}function Rf(){return ct().memoizedState}function wf(){return ct().memoizedState}function Xg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=jt();e=Le(n);var a=$e(t,e,n);a!==null&&(Lt(a,t,n),wa(a,t,n)),t={cache:Zu()},e.payload=t;return}t=t.return}}function Qg(e,t,n){var a=jt();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ql(e)?Of(t,n):(n=Yu(e,t,n,a),n!==null&&(Lt(n,e,a),Hf(n,t,a)))}function zf(e,t,n){var a=jt();Ha(e,t,n,a)}function Ha(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ql(e))Of(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,u=l(s,n);if(i.hasEagerState=!0,i.eagerState=u,$t(u,s))return Ol(e,t,i,0),J===null&&zl(),!1}catch{}finally{}if(n=Yu(e,t,i,a),n!==null)return Lt(n,e,a),Hf(n,t,a),!0}return!1}function uo(e,t,n,a){if(a={lane:2,revertLane:yo(),action:a,hasEagerState:!1,eagerState:null,next:null},ql(e)){if(t)throw Error(E(479))}else t=Yu(e,n,a,2),t!==null&&Lt(t,e,2)}function ql(e){var t=e.alternate;return e===H||t!==null&&t===H}function Of(e,t){kn=sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hf(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tc(e,n)}}var ol={readContext:Tt,use:Nl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},Nf={readContext:Tt,use:Nl,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:hr,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yi(4194308,4,_f.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yi(4194308,4,e,t)},useInsertionEffect:function(e,t){Yi(4,2,e,t)},useMemo:function(e,t){var n=Mt();t=t===void 0?null:t;var a=e();if(dn){He(!0);try{e()}finally{He(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Mt();if(n!==void 0){var i=n(t);if(dn){He(!0);try{n(t)}finally{He(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Qg.bind(null,H,e),[a.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ws(e);var t=e.queue,n=zf.bind(null,H,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:io,useDeferredValue:function(e,t){var n=Mt();return lo(n,e,t)},useTransition:function(){var e=Ws(!1);return e=Mf.bind(null,H,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=H,i=Mt();if(Y){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),J===null)throw Error(E(349));$&124||of(a,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,hr(cf.bind(null,a,l,e),[e]),a.flags|=2048,Pn(9,Ul(),rf.bind(null,a,l,n,t),null),n},useId:function(){var e=Mt(),t=J.identifierPrefix;if(Y){var n=ge,a=de;n=(a&~(1<<32-qt(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Lg++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:rr,useActionState:rr,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,H,!0,n),n.dispatch=t,[e,t]},useMemoCache:no,useCacheRefresh:function(){return Mt().memoizedState=Xg.bind(null,H)}},Uf={readContext:Tt,use:Nl,useCallback:xf,useContext:Tt,useEffect:Sf,useImperativeHandle:Tf,useInsertionEffect:Ef,useLayoutEffect:bf,useMemo:Cf,useReducer:Gi,useRef:vf,useState:function(){return Gi(Ee)},useDebugValue:io,useDeferredValue:function(e,t){var n=ct();return Af(n,V.memoizedState,e,t)},useTransition:function(){var e=Gi(Ee)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:ci(e),t]},useSyncExternalStore:uf,useId:Rf,useHostTransitionStatus:so,useFormState:cr,useActionState:cr,useOptimistic:function(e,t){var n=ct();return df(n,V,e,t)},useMemoCache:no,useCacheRefresh:wf},Zg={readContext:Tt,use:Nl,useCallback:xf,useContext:Tt,useEffect:Sf,useImperativeHandle:Tf,useInsertionEffect:Ef,useLayoutEffect:bf,useMemo:Cf,useReducer:us,useRef:vf,useState:function(){return us(Ee)},useDebugValue:io,useDeferredValue:function(e,t){var n=ct();return V===null?lo(n,e,t):Af(n,V.memoizedState,e,t)},useTransition:function(){var e=us(Ee)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:ci(e),t]},useSyncExternalStore:uf,useId:Rf,useHostTransitionStatus:so,useFormState:fr,useActionState:fr,useOptimistic:function(e,t){var n=ct();return V!==null?df(n,V,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:no,useCacheRefresh:wf},Qn=null,Za=0;function Mi(e){var t=Za;return Za+=1,Qn===null&&(Qn=[]),ef(Qn,e,t)}function pa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Di(e,t){throw t.$$typeof===_d?Error(E(525)):(e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dr(e){var t=e._init;return t(e._payload)}function qf(e){function t(d,f){if(e){var y=d.deletions;y===null?(d.deletions=[f],d.flags|=16):y.push(f)}}function n(d,f){if(!e)return null;for(;f!==null;)t(d,f),f=f.sibling;return null}function a(d){for(var f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function i(d,f){return d=pe(d,f),d.index=0,d.sibling=null,d}function l(d,f,y){return d.index=y,e?(y=d.alternate,y!==null?(y=y.index,y<f?(d.flags|=67108866,f):y):(d.flags|=67108866,f)):(d.flags|=1048576,f)}function s(d){return e&&d.alternate===null&&(d.flags|=67108866),d}function u(d,f,y,S){return f===null||f.tag!==6?(f=is(y,d.mode,S),f.return=d,f):(f=i(f,y),f.return=d,f)}function o(d,f,y,S){var C=y.type;return C===An?m(d,f,y.props.children,S,y.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===De&&dr(C)===f.type)?(f=i(f,y.props),pa(f,y),f.return=d,f):(f=Li(y.type,y.key,y.props,null,d.mode,S),pa(f,y),f.return=d,f)}function c(d,f,y,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=ls(y,d.mode,S),f.return=d,f):(f=i(f,y.children||[]),f.return=d,f)}function m(d,f,y,S,C){return f===null||f.tag!==7?(f=ln(y,d.mode,S,C),f.return=d,f):(f=i(f,y),f.return=d,f)}function p(d,f,y){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=is(""+f,d.mode,y),f.return=d,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ei:return y=Li(f.type,f.key,f.props,null,d.mode,y),pa(y,f),y.return=d,y;case ba:return f=ls(f,d.mode,y),f.return=d,f;case De:var S=f._init;return f=S(f._payload),p(d,f,y)}if(_a(f)||da(f))return f=ln(f,d.mode,y,null),f.return=d,f;if(typeof f.then=="function")return p(d,Mi(f),y);if(f.$$typeof===he)return p(d,Ci(d,f),y);Di(d,f)}return null}function r(d,f,y,S){var C=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return C!==null?null:u(d,f,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ei:return y.key===C?o(d,f,y,S):null;case ba:return y.key===C?c(d,f,y,S):null;case De:return C=y._init,y=C(y._payload),r(d,f,y,S)}if(_a(y)||da(y))return C!==null?null:m(d,f,y,S,null);if(typeof y.then=="function")return r(d,f,Mi(y),S);if(y.$$typeof===he)return r(d,f,Ci(d,y),S);Di(d,y)}return null}function g(d,f,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return d=d.get(y)||null,u(f,d,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ei:return d=d.get(S.key===null?y:S.key)||null,o(f,d,S,C);case ba:return d=d.get(S.key===null?y:S.key)||null,c(f,d,S,C);case De:var R=S._init;return S=R(S._payload),g(d,f,y,S,C)}if(_a(S)||da(S))return d=d.get(y)||null,m(f,d,S,C,null);if(typeof S.then=="function")return g(d,f,y,Mi(S),C);if(S.$$typeof===he)return g(d,f,y,Ci(f,S),C);Di(f,S)}return null}function T(d,f,y,S){for(var C=null,R=null,M=f,D=f=0,tt=null;M!==null&&D<y.length;D++){M.index>D?(tt=M,M=null):tt=M.sibling;var _=r(d,M,y[D],S);if(_===null){M===null&&(M=tt);break}e&&M&&_.alternate===null&&t(d,M),f=l(_,f,D),R===null?C=_:R.sibling=_,R=_,M=tt}if(D===y.length)return n(d,M),Y&&en(d,D),C;if(M===null){for(;D<y.length;D++)M=p(d,y[D],S),M!==null&&(f=l(M,f,D),R===null?C=M:R.sibling=M,R=M);return Y&&en(d,D),C}for(M=a(M);D<y.length;D++)tt=g(M,d,D,y[D],S),tt!==null&&(e&&tt.alternate!==null&&M.delete(tt.key===null?D:tt.key),f=l(tt,f,D),R===null?C=tt:R.sibling=tt,R=tt);return e&&M.forEach(function(z){return t(d,z)}),Y&&en(d,D),C}function x(d,f,y,S){if(y==null)throw Error(E(151));for(var C=null,R=null,M=f,D=f=0,tt=null,_=y.next();M!==null&&!_.done;D++,_=y.next()){M.index>D?(tt=M,M=null):tt=M.sibling;var z=r(d,M,_.value,S);if(z===null){M===null&&(M=tt);break}e&&M&&z.alternate===null&&t(d,M),f=l(z,f,D),R===null?C=z:R.sibling=z,R=z,M=tt}if(_.done)return n(d,M),Y&&en(d,D),C;if(M===null){for(;!_.done;D++,_=y.next())_=p(d,_.value,S),_!==null&&(f=l(_,f,D),R===null?C=_:R.sibling=_,R=_);return Y&&en(d,D),C}for(M=a(M);!_.done;D++,_=y.next())_=g(M,d,D,_.value,S),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?D:_.key),f=l(_,f,D),R===null?C=_:R.sibling=_,R=_);return e&&M.forEach(function(et){return t(d,et)}),Y&&en(d,D),C}function w(d,f,y,S){if(typeof y=="object"&&y!==null&&y.type===An&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ei:t:{for(var C=y.key;f!==null;){if(f.key===C){if(C=y.type,C===An){if(f.tag===7){n(d,f.sibling),S=i(f,y.props.children),S.return=d,d=S;break t}}else if(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===De&&dr(C)===f.type){n(d,f.sibling),S=i(f,y.props),pa(S,y),S.return=d,d=S;break t}n(d,f);break}else t(d,f);f=f.sibling}y.type===An?(S=ln(y.props.children,d.mode,S,y.key),S.return=d,d=S):(S=Li(y.type,y.key,y.props,null,d.mode,S),pa(S,y),S.return=d,d=S)}return s(d);case ba:t:{for(C=y.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(d,f.sibling),S=i(f,y.children||[]),S.return=d,d=S;break t}else{n(d,f);break}else t(d,f);f=f.sibling}S=ls(y,d.mode,S),S.return=d,d=S}return s(d);case De:return C=y._init,y=C(y._payload),w(d,f,y,S)}if(_a(y))return T(d,f,y,S);if(da(y)){if(C=da(y),typeof C!="function")throw Error(E(150));return y=C.call(y),x(d,f,y,S)}if(typeof y.then=="function")return w(d,f,Mi(y),S);if(y.$$typeof===he)return w(d,f,Ci(d,y),S);Di(d,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,f!==null&&f.tag===6?(n(d,f.sibling),S=i(f,y),S.return=d,d=S):(n(d,f),S=is(y,d.mode,S),S.return=d,d=S),s(d)):n(d,f)}return function(d,f,y,S){try{Za=0;var C=w(d,f,y,S);return Qn=null,C}catch(M){if(M===ri||M===Hl)throw M;var R=Nt(29,M,null,d.mode);return R.lanes=S,R.return=d,R}finally{}}}var ta=qf(!0),jf=qf(!1),Kt=se(null),le=null;function we(e){var t=e.alternate;P(ht,ht.current&1),P(Kt,e),le===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&(le=e)}function Lf(e){if(e.tag===22){if(P(ht,ht.current),P(Kt,e),le===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(le=e)}}else ze()}function ze(){P(ht,ht.current),P(Kt,Kt.current)}function ye(e){vt(Kt),le===e&&(le=null),vt(ht)}var ht=se(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||pu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function os(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:I({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=jt(),i=Le(a);i.payload=t,n!=null&&(i.callback=n),t=$e(e,i,a),t!==null&&(Lt(t,e,a),wa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=jt(),i=Le(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$e(e,i,a),t!==null&&(Lt(t,e,a),wa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),a=Le(n);a.tag=2,t!=null&&(a.callback=t),t=$e(e,a,n),t!==null&&(Lt(t,e,n),wa(t,e,n))}};function gr(e,t,n,a,i,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,s):t.prototype&&t.prototype.isPureReactComponent?!ka(n,a)||!ka(i,l):!0}function mr(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function gn(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=I({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $f(e){cl(e)}function Gf(e){console.error(e)}function Yf(e){cl(e)}function fl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function yr(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function nu(e,t,n){return n=Le(n),n.tag=3,n.payload={element:null},n.callback=function(){fl(e,t)},n}function kf(e){return e=Le(e),e.tag=3,e}function Xf(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var l=a.value;e.payload=function(){return i(l)},e.callback=function(){yr(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){yr(t,n,a),typeof i!="function"&&(Ge===null?Ge=new Set([this]):Ge.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function Vg(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ui(t,n,i,!0),n=Kt.current,n!==null){switch(n.tag){case 13:return le===null?cu():n.alternate===null&&it===0&&(it=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Ks?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ss(e,a,i)),!1;case 22:return n.flags|=65536,a===Ks?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ss(e,a,i)),!1}throw Error(E(435,n.tag))}return Ss(e,a,i),cu(),!1}if(Y)return t=Kt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==ks&&(e=Error(E(422),{cause:a}),Xa(Zt(e,n)))):(a!==ks&&(t=Error(E(423),{cause:a}),Xa(Zt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Zt(a,n),i=nu(e.stateNode,a,i),ss(e,i),it!==4&&(it=2)),!1;var l=Error(E(520),{cause:a});if(l=Zt(l,n),qa===null?qa=[l]:qa.push(l),it!==4&&(it=2),t===null)return!0;a=Zt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=nu(n.stateNode,a,e),ss(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Ge===null||!Ge.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,i=kf(i),Xf(i,e,n,a),ss(n,i),!1}n=n.return}while(n!==null);return!1}var Qf=Error(E(461)),pt=!1;function St(e,t,n,a){t.child=e===null?jf(t,null,n,a):ta(t,e.child,n,a)}function pr(e,t,n,a,i){n=n.render;var l=t.ref;if("ref"in a){var s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}else s=a;return hn(t),a=Fu(e,t,n,s,l,i),u=Wu(),e!==null&&!pt?(Pu(e,t,i),be(e,t,i)):(Y&&u&&Xu(t),t.flags|=1,St(e,t,a,i),t.child)}function vr(e,t,n,a,i){if(e===null){var l=n.type;return typeof l=="function"&&!ku(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,Zf(e,t,l,a,i)):(e=Li(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!oo(e,i)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:ka,n(s,a)&&e.ref===t.ref)return be(e,t,i)}return t.flags|=1,e=pe(l,a),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,n,a,i){if(e!==null){var l=e.memoizedProps;if(ka(l,a)&&e.ref===t.ref)if(pt=!1,t.pendingProps=a=l,oo(e,i))e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,be(e,t,i)}return au(e,t,n,a,i)}function Vf(e,t,n){var a=t.pendingProps,i=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=l!==null?l.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;t.childLanes=l&~a}else t.childLanes=0,t.child=null;return Sr(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$i(t,l!==null?l.cachePool:null),l!==null?sr(t,l):Fs(),Lf(t);else return t.lanes=t.childLanes=536870912,Sr(e,t,l!==null?l.baseLanes|n:n,n)}else l!==null?($i(t,l.cachePool),sr(t,l),ze(),t.memoizedState=null):(e!==null&&$i(t,null),Fs(),ze());return St(e,t,i,n),t.child}function Sr(e,t,n,a){var i=Vu();return i=i===null?null:{parent:ft._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&$i(t,null),Fs(),Lf(t),e!==null&&ui(e,t,a,!0),null}function ki(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(E(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function au(e,t,n,a,i){return hn(t),n=Fu(e,t,n,a,void 0,i),a=Wu(),e!==null&&!pt?(Pu(e,t,i),be(e,t,i)):(Y&&a&&Xu(t),t.flags|=1,St(e,t,n,i),t.child)}function Er(e,t,n,a,i,l){return hn(t),t.updateQueue=null,n=sf(t,a,n,i),lf(e),a=Wu(),e!==null&&!pt?(Pu(e,t,l),be(e,t,l)):(Y&&a&&Xu(t),t.flags|=1,St(e,t,n,l),t.child)}function br(e,t,n,a,i){if(hn(t),t.stateNode===null){var l=Hn,s=n.contextType;typeof s=="object"&&s!==null&&(l=Tt(s)),l=new n(a,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=eu,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=a,l.state=t.memoizedState,l.refs={},Ku(t),s=n.contextType,l.context=typeof s=="object"&&s!==null?Tt(s):Hn,l.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(os(t,n,s,a),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&eu.enqueueReplaceState(l,l.state,null),Oa(t,a,l,i),za(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){l=t.stateNode;var u=t.memoizedProps,o=gn(n,u);l.props=o;var c=l.context,m=n.contextType;s=Hn,typeof m=="object"&&m!==null&&(s=Tt(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u||c!==s)&&mr(t,l,a,s),Be=!1;var r=t.memoizedState;l.state=r,Oa(t,a,l,i),za(),c=t.memoizedState,u||r!==c||Be?(typeof p=="function"&&(os(t,n,p,a),c=t.memoizedState),(o=Be||gr(t,n,o,a,r,c,s))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=s,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Js(e,t),s=t.memoizedProps,m=gn(n,s),l.props=m,p=t.pendingProps,r=l.context,c=n.contextType,o=Hn,typeof c=="object"&&c!==null&&(o=Tt(c)),u=n.getDerivedStateFromProps,(c=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==p||r!==o)&&mr(t,l,a,o),Be=!1,r=t.memoizedState,l.state=r,Oa(t,a,l,i),za();var g=t.memoizedState;s!==p||r!==g||Be||e!==null&&e.dependencies!==null&&il(e.dependencies)?(typeof u=="function"&&(os(t,n,u,a),g=t.memoizedState),(m=Be||gr(t,n,m,a,r,g,o)||e!==null&&e.dependencies!==null&&il(e.dependencies))?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,g,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,g,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&r===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&r===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),l.props=a,l.state=g,l.context=o,a=m):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&r===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&r===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,ki(e,t),a=(t.flags&128)!==0,l||a?(l=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&a?(t.child=ta(t,e.child,null,i),t.child=ta(t,null,n,i)):St(e,t,n,i),t.memoizedState=l.state,e=t.child):e=be(e,t,i),e}function _r(e,t,n,a){return si(),t.flags|=256,St(e,t,n,a),t.child}var rs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cs(e){return{baseLanes:e,cachePool:Pc()}}function fs(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vt),e}function Kf(e,t,n){var a=t.pendingProps,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Y){if(i?we(t):ze(),Y){var u=at,o;if(o=u){t:{for(o=u,u=ee;o.nodeType!==8;){if(!u){u=null;break t}if(o=Ft(o.nextSibling),o===null){u=null;break t}}u=o}u!==null?(t.memoizedState={dehydrated:u,treeContext:sn!==null?{id:de,overflow:ge}:null,retryLane:536870912,hydrationErrors:null},o=Nt(18,null,null,0),o.stateNode=u,o.return=t,t.child=o,xt=t,at=null,o=!0):o=!1}o||fn(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return pu(u)?t.lanes=32:t.lanes=536870912,null;ye(t)}return u=a.children,a=a.fallback,i?(ze(),i=t.mode,u=hl({mode:"hidden",children:u},i),a=ln(a,i,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,i=t.child,i.memoizedState=cs(n),i.childLanes=fs(e,s,n),t.memoizedState=rs,a):(we(t),iu(t,u))}if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null)){if(l)t.flags&256?(we(t),t.flags&=-257,t=hs(e,t,n)):t.memoizedState!==null?(ze(),t.child=e.child,t.flags|=128,t=null):(ze(),i=a.fallback,u=t.mode,a=hl({mode:"visible",children:a.children},u),i=ln(i,u,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,ta(t,e.child,null,n),a=t.child,a.memoizedState=cs(n),a.childLanes=fs(e,s,n),t.memoizedState=rs,t=i);else if(we(t),pu(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var c=s.dgst;s=c,a=Error(E(419)),a.stack="",a.digest=s,Xa({value:a,source:null,stack:null}),t=hs(e,t,n)}else if(pt||ui(e,t,n,!1),s=(n&e.childLanes)!==0,pt||s){if(s=J,s!==null&&(a=n&-n,a=a&42?1:zu(a),a=a&(s.suspendedLanes|n)?0:a,a!==0&&a!==o.retryLane))throw o.retryLane=a,oa(e,a),Lt(s,e,a),Qf;u.data==="$?"||cu(),t=hs(e,t,n)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,at=Ft(u.nextSibling),xt=t,Y=!0,un=null,ee=!1,e!==null&&(kt[Xt++]=de,kt[Xt++]=ge,kt[Xt++]=sn,de=e.id,ge=e.overflow,sn=t),t=iu(t,a.children),t.flags|=4096);return t}return i?(ze(),i=a.fallback,u=t.mode,o=e.child,c=o.sibling,a=pe(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,c!==null?i=pe(c,i):(i=ln(i,u,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,u=e.child.memoizedState,u===null?u=cs(n):(o=u.cachePool,o!==null?(c=ft._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Pc(),u={baseLanes:u.baseLanes|n,cachePool:o}),i.memoizedState=u,i.childLanes=fs(e,s,n),t.memoizedState=rs,a):(we(t),n=e.child,e=n.sibling,n=pe(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function iu(e,t){return t=hl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hl(e,t){return e=Nt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hs(e,t,n){return ta(t,e.child,null,n),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tr(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Qs(e.return,t,n)}function ds(e,t,n,a,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=i)}function Jf(e,t,n){var a=t.pendingProps,i=a.revealOrder,l=a.tail;if(St(e,t,a.children,n),a=ht.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tr(e,n,t);else if(e.tag===19)Tr(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(P(ht,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ds(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ds(t,!0,n,null,l);break;case"together":ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function be(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ke|=t.lanes,!(n&t.childLanes))if(e!==null){if(ui(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=pe(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pe(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oo(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&il(e)))}function Kg(e,t,n){switch(t.tag){case 3:Ii(t,t.stateNode.containerInfo),Re(t,ft,e.memoizedState.cache),si();break;case 27:case 5:Os(t);break;case 4:Ii(t,t.stateNode.containerInfo);break;case 10:Re(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(we(t),t.flags|=128,null):n&t.child.childLanes?Kf(e,t,n):(we(t),e=be(e,t,n),e!==null?e.sibling:null);we(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ui(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Jf(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),P(ht,ht.current),a)break;return null;case 22:case 23:return t.lanes=0,Vf(e,t,n);case 24:Re(t,ft,e.memoizedState.cache)}return be(e,t,n)}function If(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!oo(e,n)&&!(t.flags&128))return pt=!1,Kg(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Y&&t.flags&1048576&&Fc(t,al,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")ku(a)?(e=gn(a,e),t.tag=1,t=br(null,t,a,e,n)):(t.tag=0,t=au(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===Bu){t.tag=11,t=pr(null,t,a,e,n);break t}else if(i===Ru){t.tag=14,t=vr(null,t,a,e,n);break t}}throw t=ws(a)||a,Error(E(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=gn(a,t.pendingProps),br(e,t,a,i,n);case 3:t:{if(Ii(t,t.stateNode.containerInfo),e===null)throw Error(E(387));a=t.pendingProps;var l=t.memoizedState;i=l.element,Js(e,t),Oa(t,a,null,n);var s=t.memoizedState;if(a=s.cache,Re(t,ft,a),a!==l.cache&&Zs(t,[ft],n,!0),za(),a=s.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=_r(e,t,a,n);break t}else if(a!==i){i=Zt(Error(E(424)),t),Xa(i),t=_r(e,t,a,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Ft(e.firstChild),xt=t,Y=!0,un=null,ee=!0,n=jf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(si(),a===i){t=be(e,t,n);break t}St(e,t,a,n)}t=t.child}return t;case 26:return ki(e,t),e===null?(n=$r(t.type,null,t.pendingProps,null))?t.memoizedState=n:Y||(n=t.type,e=t.pendingProps,a=Sl(je.current).createElement(n),a[_t]=t,a[Rt]=e,bt(a,n,e),yt(a),t.stateNode=a):t.memoizedState=$r(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Os(t),e===null&&Y&&(a=t.stateNode=Uh(t.type,t.pendingProps,je.current),xt=t,ee=!0,i=at,Ie(t.type)?(vu=i,at=Ft(a.firstChild)):at=i),St(e,t,t.pendingProps.children,n),ki(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Y&&((i=a=at)&&(a=_m(a,t.type,t.pendingProps,ee),a!==null?(t.stateNode=a,xt=t,at=Ft(a.firstChild),ee=!1,i=!0):i=!1),i||fn(t)),Os(t),i=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,mu(i,l)?a=null:s!==null&&mu(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Fu(e,t,$g,null,null,n),Ia._currentValue=i),ki(e,t),St(e,t,a,n),t.child;case 6:return e===null&&Y&&((e=n=at)&&(n=Tm(n,t.pendingProps,ee),n!==null?(t.stateNode=n,xt=t,at=null,e=!0):e=!1),e||fn(t)),null;case 13:return Kf(e,t,n);case 4:return Ii(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ta(t,null,a,n):St(e,t,a,n),t.child;case 11:return pr(e,t,t.type,t.pendingProps,n);case 7:return St(e,t,t.pendingProps,n),t.child;case 8:return St(e,t,t.pendingProps.children,n),t.child;case 12:return St(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Re(t,t.type,a.value),St(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,hn(t),i=Tt(i),a=a(i),t.flags|=1,St(e,t,a,n),t.child;case 14:return vr(e,t,t.type,t.pendingProps,n);case 15:return Zf(e,t,t.type,t.pendingProps,n);case 19:return Jf(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=hl(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=pe(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Vf(e,t,n);case 24:return hn(t),a=Tt(ft),e===null?(i=Vu(),i===null&&(i=J,l=Zu(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:a,cache:i},Ku(t),Re(t,ft,i)):(e.lanes&n&&(Js(e,t),Oa(t,null,null,n),za()),i=e.memoizedState,l=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Re(t,ft,a)):(a=l.cache,Re(t,ft,a),a!==i.cache&&Zs(t,[ft],n,!0))),St(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(E(156,t.tag))}function re(e){e.flags|=4}function xr(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Lh(t)){if(t=Kt.current,t!==null&&(($&4194048)===$?le!==null:($&62914560)!==$&&!($&536870912)||t!==le))throw Ra=Ks,tf;e.flags|=8192}}function Bi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bc():536870912,e.lanes|=t,ea|=t)}function va(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Jg(e,t,n){var a=t.pendingProps;switch(Qu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ve(ft),Kn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ya(t)?re(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr())),nt(t),null;case 26:return n=t.memoizedState,e===null?(re(t),n!==null?(nt(t),xr(t,n)):(nt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(re(t),nt(t),xr(t,n)):(nt(t),t.flags&=-16777217):(e.memoizedProps!==a&&re(t),nt(t),t.flags&=-16777217),null;case 27:Fi(t),n=je.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&re(t);else{if(!a){if(t.stateNode===null)throw Error(E(166));return nt(t),null}e=ae.current,ya(t)?Wo(t):(e=Uh(i,a,n),t.stateNode=e,re(t))}return nt(t),null;case 5:if(Fi(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&re(t);else{if(!a){if(t.stateNode===null)throw Error(E(166));return nt(t),null}if(e=ae.current,ya(t))Wo(t);else{switch(i=Sl(je.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[_t]=t,e[Rt]=a;t:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;t:switch(bt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&re(t)}}return nt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&re(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(E(166));if(e=je.current,ya(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=xt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Oh(e.nodeValue,n)),e||fn(t)}else e=Sl(e).createTextNode(a),e[_t]=t,t.stateNode=e}return nt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ya(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[_t]=t}else si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),i=!1}else i=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ye(t),t):(ye(t),null)}if(ye(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var l=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Bi(t,t.updateQueue),nt(t),null;case 4:return Kn(),e===null&&po(t.stateNode.containerInfo),nt(t),null;case 10:return ve(t.type),nt(t),null;case 19:if(vt(ht),i=t.memoizedState,i===null)return nt(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)va(i,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=rl(e),l!==null){for(t.flags|=128,va(i,!1),e=l.updateQueue,t.updateQueue=e,Bi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ic(n,e),n=n.sibling;return P(ht,ht.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>gl&&(t.flags|=128,a=!0,va(i,!1),t.lanes=4194304)}else{if(!a)if(e=rl(l),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Bi(t,e),va(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Y)return nt(t),null}else 2*ie()-i.renderingStartTime>gl&&n!==536870912&&(t.flags|=128,a=!0,va(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(e=i.last,e!==null?e.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,e=ht.current,P(ht,a?e&1|2:e&1),t):(nt(t),null);case 22:case 23:return ye(t),Ju(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),n=t.updateQueue,n!==null&&Bi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&vt(on),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ve(ft),nt(t),null;case 25:return null;case 30:return null}throw Error(E(156,t.tag))}function Ig(e,t){switch(Qu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ve(ft),Kn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Fi(t),null;case 13:if(ye(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(ht),null;case 4:return Kn(),null;case 10:return ve(t.type),null;case 22:case 23:return ye(t),Ju(),e!==null&&vt(on),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ve(ft),null;case 25:return null;default:return null}}function Ff(e,t){switch(Qu(t),t.tag){case 3:ve(ft),Kn();break;case 26:case 27:case 5:Fi(t);break;case 4:Kn();break;case 13:ye(t);break;case 19:vt(ht);break;case 10:ve(t.type);break;case 22:case 23:ye(t),Ju(),e!==null&&vt(on);break;case 24:ve(ft)}}function hi(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var l=n.create,s=n.inst;a=l(),s.destroy=a}n=n.next}while(n!==i)}}catch(u){K(t,t.return,u)}}function Ve(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var l=i.next;a=l;do{if((a.tag&e)===e){var s=a.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,i=t;var o=n,c=u;try{c()}catch(m){K(i,o,m)}}}a=a.next}while(a!==l)}}catch(m){K(t,t.return,m)}}function Wf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{af(t,n)}catch(a){K(e,e.return,a)}}}function Pf(e,t,n){n.props=gn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){K(e,t,a)}}function Na(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){K(e,t,i)}}function ne(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){K(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){K(e,t,i)}else n.current=null}function th(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){K(e,e.return,i)}}function gs(e,t,n){try{var a=e.stateNode;pm(a,e.type,n,t),a[Rt]=t}catch(i){K(e,e.return,i)}}function eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ie(e.type)||e.tag===4}function ms(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ie(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gl));else if(a!==4&&(a===27&&Ie(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(lu(e,t,n),e=e.sibling;e!==null;)lu(e,t,n),e=e.sibling}function dl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ie(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}function nh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);bt(t,a,n),t[_t]=e,t[Rt]=n}catch(l){K(e,e.return,l)}}var fe=!1,ot=!1,ys=!1,Cr=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Fg(e,t){if(e=e.containerInfo,du=Tl,e=Yc(e),$u(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break t}var s=0,u=-1,o=-1,c=0,m=0,p=e,r=null;e:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(u=s+i),p!==l||a!==0&&p.nodeType!==3||(o=s+a),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)r=p,p=g;for(;;){if(p===e)break e;if(r===n&&++c===i&&(u=s),r===l&&++m===a&&(o=s),(g=p.nextSibling)!==null)break;p=r,r=p.parentNode}p=g}n=u===-1||o===-1?null:{start:u,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},Tl=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var T=gn(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(T,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){K(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(E(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function ah(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ce(e,n),a&4&&hi(5,n);break;case 1:if(Ce(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){K(n,n.return,s)}else{var i=gn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){K(n,n.return,s)}}a&64&&Wf(n),a&512&&Na(n,n.return);break;case 3:if(Ce(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{af(e,t)}catch(s){K(n,n.return,s)}}break;case 27:t===null&&a&4&&nh(n);case 26:case 5:Ce(e,n),t===null&&a&4&&th(n),a&512&&Na(n,n.return);break;case 12:Ce(e,n);break;case 13:Ce(e,n),a&4&&sh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=sm.bind(null,n),xm(e,n))));break;case 22:if(a=n.memoizedState!==null||fe,!a){t=t!==null&&t.memoizedState!==null||ot,i=fe;var l=ot;fe=a,(ot=t)&&!l?Me(e,n,(n.subtreeFlags&8772)!==0):Ce(e,n),fe=i,ot=l}break;case 30:break;default:Ce(e,n)}}function ih(e){var t=e.alternate;t!==null&&(e.alternate=null,ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var F=null,Dt=!1;function ce(e,t,n){for(n=n.child;n!==null;)lh(e,t,n),n=n.sibling}function lh(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ei,n)}catch{}switch(n.tag){case 26:ot||ne(n,t),ce(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||ne(n,t);var a=F,i=Dt;Ie(n.type)&&(F=n.stateNode,Dt=!1),ce(e,t,n),La(n.stateNode),F=a,Dt=i;break;case 5:ot||ne(n,t);case 6:if(a=F,i=Dt,F=null,ce(e,t,n),F=a,Dt=i,F!==null)if(Dt)try{(F.nodeType===9?F.body:F.nodeName==="HTML"?F.ownerDocument.body:F).removeChild(n.stateNode)}catch(l){K(n,t,l)}else try{F.removeChild(n.stateNode)}catch(l){K(n,t,l)}break;case 18:F!==null&&(Dt?(e=F,qr(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pa(e)):qr(F,n.stateNode));break;case 4:a=F,i=Dt,F=n.stateNode.containerInfo,Dt=!0,ce(e,t,n),F=a,Dt=i;break;case 0:case 11:case 14:case 15:ot||Ve(2,n,t),ot||Ve(4,n,t),ce(e,t,n);break;case 1:ot||(ne(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Pf(n,t,a)),ce(e,t,n);break;case 21:ce(e,t,n);break;case 22:ot=(a=ot)||n.memoizedState!==null,ce(e,t,n),ot=a;break;default:ce(e,t,n)}}function sh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(n){K(t,t.return,n)}}function Wg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cr),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cr),t;default:throw Error(E(435,e.tag))}}function ps(e,t){var n=Wg(e);t.forEach(function(a){var i=um.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function zt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],l=e,s=t,u=s;t:for(;u!==null;){switch(u.tag){case 27:if(Ie(u.type)){F=u.stateNode,Dt=!1;break t}break;case 5:F=u.stateNode,Dt=!1;break t;case 3:case 4:F=u.stateNode.containerInfo,Dt=!0;break t}u=u.return}if(F===null)throw Error(E(160));lh(l,s,i),F=null,Dt=!1,l=i.alternate,l!==null&&(l.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)uh(t,e),t=t.sibling}var It=null;function uh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Ot(e),a&4&&(Ve(3,e,e.return),hi(3,e),Ve(5,e,e.return));break;case 1:zt(t,e),Ot(e),a&512&&(ot||n===null||ne(n,n.return)),a&64&&fe&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=It;if(zt(t,e),Ot(e),a&512&&(ot||n===null||ne(n,n.return)),a&4){var l=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){t:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;e:switch(a){case"title":l=i.getElementsByTagName("title")[0],(!l||l[ii]||l[_t]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=i.createElement(a),i.head.insertBefore(l,i.querySelector("head > title"))),bt(l,a,n),l[_t]=e,yt(l),a=l;break t;case"link":var s=Yr("link","href",i).get(a+(n.href||""));if(s){for(var u=0;u<s.length;u++)if(l=s[u],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(u,1);break e}}l=i.createElement(a),bt(l,a,n),i.head.appendChild(l);break;case"meta":if(s=Yr("meta","content",i).get(a+(n.content||""))){for(u=0;u<s.length;u++)if(l=s[u],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(u,1);break e}}l=i.createElement(a),bt(l,a,n),i.head.appendChild(l);break;default:throw Error(E(468,a))}l[_t]=e,yt(l),a=l}e.stateNode=a}else kr(i,e.type,e.stateNode);else e.stateNode=Gr(i,a,e.memoizedProps);else l!==a?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,a===null?kr(i,e.type,e.stateNode):Gr(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&gs(e,e.memoizedProps,n.memoizedProps)}break;case 27:zt(t,e),Ot(e),a&512&&(ot||n===null||ne(n,n.return)),n!==null&&a&4&&gs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zt(t,e),Ot(e),a&512&&(ot||n===null||ne(n,n.return)),e.flags&32){i=e.stateNode;try{In(i,"")}catch(g){K(e,e.return,g)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,gs(e,i,n!==null?n.memoizedProps:i)),a&1024&&(ys=!0);break;case 6:if(zt(t,e),Ot(e),a&4){if(e.stateNode===null)throw Error(E(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(g){K(e,e.return,g)}}break;case 3:if(Zi=null,i=It,It=El(t.containerInfo),zt(t,e),It=i,Ot(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(g){K(e,e.return,g)}ys&&(ys=!1,oh(e));break;case 4:a=It,It=El(e.stateNode.containerInfo),zt(t,e),Ot(e),It=a;break;case 12:zt(t,e),Ot(e);break;case 13:zt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(go=ie()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ps(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=fe,m=ot;if(fe=c||i,ot=m||o,zt(t,e),ot=m,fe=c,Ot(e),a&8192)t:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||fe||ot||nn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(l=o.stateNode,i)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=o.stateNode;var p=o.memoizedProps.style,r=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=r==null||typeof r=="boolean"?"":(""+r).trim()}}catch(g){K(o,o.return,g)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(g){K(o,o.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ps(e,n))));break;case 19:zt(t,e),Ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ps(e,a)));break;case 30:break;case 21:break;default:zt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(eh(a)){n=a;break}a=a.return}if(n==null)throw Error(E(160));switch(n.tag){case 27:var i=n.stateNode,l=ms(e);dl(e,l,i);break;case 5:var s=n.stateNode;n.flags&32&&(In(s,""),n.flags&=-33);var u=ms(e);dl(e,u,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=ms(e);lu(e,c,o);break;default:throw Error(E(161))}}catch(m){K(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;oh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ce(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ah(e,t.alternate,t),t=t.sibling}function nn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ve(4,t,t.return),nn(t);break;case 1:ne(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Pf(t,t.return,n),nn(t);break;case 27:La(t.stateNode);case 26:case 5:ne(t,t.return),nn(t);break;case 22:t.memoizedState===null&&nn(t);break;case 30:nn(t);break;default:nn(t)}e=e.sibling}}function Me(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Me(i,l,n),hi(4,l);break;case 1:if(Me(i,l,n),a=l,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){K(a,a.return,c)}if(a=l,i=a.updateQueue,i!==null){var u=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)nf(o[i],u)}catch(c){K(a,a.return,c)}}n&&s&64&&Wf(l),Na(l,l.return);break;case 27:nh(l);case 26:case 5:Me(i,l,n),n&&a===null&&s&4&&th(l),Na(l,l.return);break;case 12:Me(i,l,n);break;case 13:Me(i,l,n),n&&s&4&&sh(i,l);break;case 22:l.memoizedState===null&&Me(i,l,n),Na(l,l.return);break;case 30:break;default:Me(i,l,n)}t=t.sibling}}function ro(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oi(n))}function co(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oi(e))}function Pt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rh(e,t,n,a),t=t.sibling}function rh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Pt(e,t,n,a),i&2048&&hi(9,t);break;case 1:Pt(e,t,n,a);break;case 3:Pt(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oi(e)));break;case 12:if(i&2048){Pt(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,u=l.onPostCommit;typeof u=="function"&&u(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){K(t,t.return,o)}}else Pt(e,t,n,a);break;case 13:Pt(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,t.memoizedState!==null?l._visibility&2?Pt(e,t,n,a):Ua(e,t):l._visibility&2?Pt(e,t,n,a):(l._visibility|=2,Tn(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&ro(s,t);break;case 24:Pt(e,t,n,a),i&2048&&co(t.alternate,t);break;default:Pt(e,t,n,a)}}function Tn(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,s=t,u=n,o=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:Tn(l,s,u,o,i),hi(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?Tn(l,s,u,o,i):Ua(l,s):(m._visibility|=2,Tn(l,s,u,o,i)),i&&c&2048&&ro(s.alternate,s);break;case 24:Tn(l,s,u,o,i),i&&c&2048&&co(s.alternate,s);break;default:Tn(l,s,u,o,i)}t=t.sibling}}function Ua(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Ua(n,a),i&2048&&ro(a.alternate,a);break;case 24:Ua(n,a),i&2048&&co(a.alternate,a);break;default:Ua(n,a)}t=t.sibling}}var xa=8192;function Sn(e){if(e.subtreeFlags&xa)for(e=e.child;e!==null;)ch(e),e=e.sibling}function ch(e){switch(e.tag){case 26:Sn(e),e.flags&xa&&e.memoizedState!==null&&qm(It,e.memoizedState,e.memoizedProps);break;case 5:Sn(e);break;case 3:case 4:var t=It;It=El(e.stateNode.containerInfo),Sn(e),It=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xa,xa=16777216,Sn(e),xa=t):Sn(e));break;default:Sn(e)}}function fh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];mt=a,dh(a,e)}fh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hh(e),e=e.sibling}function hh(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&Ve(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xi(e)):Sa(e);break;default:Sa(e)}}function Xi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];mt=a,dh(a,e)}fh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ve(8,t,t.return),Xi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xi(t));break;default:Xi(t)}e=e.sibling}}function dh(e,t){for(;mt!==null;){var n=mt;switch(n.tag){case 0:case 11:case 15:Ve(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:oi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,mt=a;else t:for(n=e;mt!==null;){a=mt;var i=a.sibling,l=a.return;if(ih(a),a===n){mt=null;break t}if(i!==null){i.return=l,mt=i;break t}mt=l}}}var Pg={getCacheForType:function(e){var t=Tt(ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},tm=typeof WeakMap=="function"?WeakMap:Map,Q=0,J=null,j=null,$=0,X=0,Ht=null,Ue=!1,ra=!1,fo=!1,_e=0,it=0,Ke=0,rn=0,ho=0,Vt=0,ea=0,qa=null,Bt=null,su=!1,go=0,gl=1/0,ml=null,Ge=null,Et=0,Ye=null,na=null,Zn=0,uu=0,ou=null,gh=null,ja=0,ru=null;function jt(){if(Q&2&&$!==0)return $&-$;if(B.T!==null){var e=Fn;return e!==0?e:yo()}return xc()}function mh(){Vt===0&&(Vt=!($&536870912)||Y?Ec():536870912);var e=Kt.current;return e!==null&&(e.flags|=32),Vt}function Lt(e,t,n){(e===J&&(X===2||X===9)||e.cancelPendingCommit!==null)&&(aa(e,0),qe(e,$,Vt,!1)),ai(e,n),(!(Q&2)||e!==J)&&(e===J&&(!(Q&2)&&(rn|=n),it===4&&qe(e,$,Vt,!1)),ue(e))}function yh(e,t,n){if(Q&6)throw Error(E(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ni(e,t),i=a?am(e,t):vs(e,t,!0),l=a;do{if(i===0){ra&&!a&&qe(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!em(n)){i=vs(e,t,!1),l=!1;continue}if(i===2){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var u=e;i=qa;var o=u.current.memoizedState.isDehydrated;if(o&&(aa(u,s).flags|=256),s=vs(u,s,!1),s!==2){if(fo&&!o){u.errorRecoveryDisabledLanes|=l,rn|=l,i=4;break t}l=Bt,Bt=i,l!==null&&(Bt===null?Bt=l:Bt.push.apply(Bt,l))}i=s}if(l=!1,i!==2)continue}}if(i===1){aa(e,0),qe(e,t,0,!0);break}t:{switch(a=e,l=i,l){case 0:case 1:throw Error(E(345));case 4:if((t&4194048)!==t)break;case 6:qe(a,t,Vt,!Ue);break t;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(E(329))}if((t&62914560)===t&&(i=go+300-ie(),10<i)){if(qe(a,t,Vt,!Ue),Dl(a,0,!0)!==0)break t;a.timeoutHandle=Nh(Ar.bind(null,a,n,Bt,ml,su,t,Vt,rn,ea,Ue,l,2,-0,0),i);break t}Ar(a,n,Bt,ml,su,t,Vt,rn,ea,Ue,l,0,-0,0)}}break}while(!0);ue(e)}function Ar(e,t,n,a,i,l,s,u,o,c,m,p,r,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(Ja={stylesheets:null,count:0,unsuspend:Um},ch(t),p=jm(),p!==null)){e.cancelPendingCommit=p(Dr.bind(null,e,t,l,n,a,i,s,u,o,m,1,r,g)),qe(e,l,s,!c);return}Dr(e,t,l,n,a,i,s,u,o)}function em(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],l=i.getSnapshot;i=i.value;try{if(!$t(l(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qe(e,t,n,a){t&=~ho,t&=~rn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var l=31-qt(i),s=1<<l;a[l]=-1,i&=~s}n!==0&&_c(e,n,t)}function jl(){return Q&6?!0:(di(0),!1)}function mo(){if(j!==null){if(X===0)var e=j.return;else e=j,me=vn=null,to(e),Qn=null,Za=0,e=j;for(;e!==null;)Ff(e.alternate,e),e=e.return;j=null}}function aa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Sm(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mo(),J=e,j=n=pe(e.current,null),$=t,X=0,Ht=null,Ue=!1,ra=ni(e,t),fo=!1,ea=Vt=ho=rn=Ke=it=0,Bt=qa=null,su=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-qt(a),l=1<<i;t|=e[i],a&=~l}return _e=t,zl(),n}function ph(e,t){H=null,B.H=ol,t===ri||t===Hl?(t=ir(),X=3):t===tf?(t=ir(),X=4):X=t===Qf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,j===null&&(it=1,fl(e,Zt(t,e.current)))}function vh(){var e=B.H;return B.H=ol,e===null?ol:e}function Sh(){var e=B.A;return B.A=Pg,e}function cu(){it=4,Ue||($&4194048)!==$&&Kt.current!==null||(ra=!0),!(Ke&134217727)&&!(rn&134217727)||J===null||qe(J,$,Vt,!1)}function vs(e,t,n){var a=Q;Q|=2;var i=vh(),l=Sh();(J!==e||$!==t)&&(ml=null,aa(e,t)),t=!1;var s=it;t:do try{if(X!==0&&j!==null){var u=j,o=Ht;switch(X){case 8:mo(),s=6;break t;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var c=X;if(X=0,Ht=null,qn(e,u,o,c),n&&ra){s=0;break t}break;default:c=X,X=0,Ht=null,qn(e,u,o,c)}}nm(),s=it;break}catch(m){ph(e,m)}while(!0);return t&&e.shellSuspendCounter++,me=vn=null,Q=a,B.H=i,B.A=l,j===null&&(J=null,$=0,zl()),s}function nm(){for(;j!==null;)Eh(j)}function am(e,t){var n=Q;Q|=2;var a=vh(),i=Sh();J!==e||$!==t?(ml=null,gl=ie()+500,aa(e,t)):ra=ni(e,t);t:do try{if(X!==0&&j!==null){t=j;var l=Ht;e:switch(X){case 1:X=0,Ht=null,qn(e,t,l,1);break;case 2:case 9:if(ar(l)){X=0,Ht=null,Mr(t);break}t=function(){X!==2&&X!==9||J!==e||(X=7),ue(e)},l.then(t,t);break t;case 3:X=7;break t;case 4:X=5;break t;case 7:ar(l)?(X=0,Ht=null,Mr(t)):(X=0,Ht=null,qn(e,t,l,7));break;case 5:var s=null;switch(j.tag){case 26:s=j.memoizedState;case 5:case 27:var u=j;if(!s||Lh(s)){X=0,Ht=null;var o=u.sibling;if(o!==null)j=o;else{var c=u.return;c!==null?(j=c,Ll(c)):j=null}break e}}X=0,Ht=null,qn(e,t,l,5);break;case 6:X=0,Ht=null,qn(e,t,l,6);break;case 8:mo(),it=6;break t;default:throw Error(E(462))}}im();break}catch(m){ph(e,m)}while(!0);return me=vn=null,B.H=a,B.A=i,Q=n,j!==null?0:(J=null,$=0,zl(),it)}function im(){for(;j!==null&&!Ad();)Eh(j)}function Eh(e){var t=If(e.alternate,e,_e);e.memoizedProps=e.pendingProps,t===null?Ll(e):j=t}function Mr(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Er(n,t,t.pendingProps,t.type,void 0,$);break;case 11:t=Er(n,t,t.pendingProps,t.type.render,t.ref,$);break;case 5:to(t);default:Ff(n,t),t=j=Ic(t,_e),t=If(n,t,_e)}e.memoizedProps=e.pendingProps,t===null?Ll(e):j=t}function qn(e,t,n,a){me=vn=null,to(t),Qn=null,Za=0;var i=t.return;try{if(Vg(e,i,t,n,$)){it=1,fl(e,Zt(n,e.current)),j=null;return}}catch(l){if(i!==null)throw j=i,l;it=1,fl(e,Zt(n,e.current)),j=null;return}t.flags&32768?(Y||a===1?e=!0:ra||$&536870912?e=!1:(Ue=e=!0,(a===2||a===9||a===3||a===6)&&(a=Kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),bh(t,e)):Ll(t)}function Ll(e){var t=e;do{if(t.flags&32768){bh(t,Ue);return}e=t.return;var n=Jg(t.alternate,t,_e);if(n!==null){j=n;return}if(t=t.sibling,t!==null){j=t;return}j=t=e}while(t!==null);it===0&&(it=5)}function bh(e,t){do{var n=Ig(e.alternate,e);if(n!==null){n.flags&=32767,j=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){j=e;return}j=e=n}while(e!==null);it=6,j=null}function Dr(e,t,n,a,i,l,s,u,o){e.cancelPendingCommit=null;do $l();while(Et!==0);if(Q&6)throw Error(E(327));if(t!==null){if(t===e.current)throw Error(E(177));if(l=t.lanes|t.childLanes,l|=Gu,Ud(e,n,l,s,u,o),e===J&&(j=J=null,$=0),na=t,Ye=e,Zn=n,uu=l,ou=i,gh=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,om(Wi,function(){return Ah(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=B.T,B.T=null,i=k.p,k.p=2,s=Q,Q|=4;try{Fg(e,t,n)}finally{Q=s,k.p=i,B.T=a}}Et=1,_h(),Th(),xh()}}function _h(){if(Et===1){Et=0;var e=Ye,t=na,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=B.T,B.T=null;var a=k.p;k.p=2;var i=Q;Q|=4;try{uh(t,e);var l=gu,s=Yc(e.containerInfo),u=l.focusedElem,o=l.selectionRange;if(s!==u&&u&&u.ownerDocument&&Gc(u.ownerDocument.documentElement,u)){if(o!==null&&$u(u)){var c=o.start,m=o.end;if(m===void 0&&(m=c),"selectionStart"in u)u.selectionStart=c,u.selectionEnd=Math.min(m,u.value.length);else{var p=u.ownerDocument||document,r=p&&p.defaultView||window;if(r.getSelection){var g=r.getSelection(),T=u.textContent.length,x=Math.min(o.start,T),w=o.end===void 0?x:Math.min(o.end,T);!g.extend&&x>w&&(s=w,w=x,x=s);var d=Jo(u,x),f=Jo(u,w);if(d&&f&&(g.rangeCount!==1||g.anchorNode!==d.node||g.anchorOffset!==d.offset||g.focusNode!==f.node||g.focusOffset!==f.offset)){var y=p.createRange();y.setStart(d.node,d.offset),g.removeAllRanges(),x>w?(g.addRange(y),g.extend(f.node,f.offset)):(y.setEnd(f.node,f.offset),g.addRange(y))}}}}for(p=[],g=u;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var S=p[u];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Tl=!!du,gu=du=null}finally{Q=i,k.p=a,B.T=n}}e.current=t,Et=2}}function Th(){if(Et===2){Et=0;var e=Ye,t=na,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=B.T,B.T=null;var a=k.p;k.p=2;var i=Q;Q|=4;try{ah(e,t.alternate,t)}finally{Q=i,k.p=a,B.T=n}}Et=3}}function xh(){if(Et===4||Et===3){Et=0,Md();var e=Ye,t=na,n=Zn,a=gh;t.subtreeFlags&10256||t.flags&10256?Et=5:(Et=0,na=Ye=null,Ch(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ge=null),Ou(n),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=B.T,i=k.p,k.p=2,B.T=null;try{for(var l=e.onRecoverableError,s=0;s<a.length;s++){var u=a[s];l(u.value,{componentStack:u.stack})}}finally{B.T=t,k.p=i}}Zn&3&&$l(),ue(e),i=e.pendingLanes,n&4194090&&i&42?e===ru?ja++:(ja=0,ru=e):ja=0,di(0)}}function Ch(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oi(t)))}function $l(e){return _h(),Th(),xh(),Ah()}function Ah(){if(Et!==5)return!1;var e=Ye,t=uu;uu=0;var n=Ou(Zn),a=B.T,i=k.p;try{k.p=32>n?32:n,B.T=null,n=ou,ou=null;var l=Ye,s=Zn;if(Et=0,na=Ye=null,Zn=0,Q&6)throw Error(E(331));var u=Q;if(Q|=4,hh(l.current),rh(l,l.current,s,n),Q=u,di(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ei,l)}catch{}return!0}finally{k.p=i,B.T=a,Ch(e,t)}}function Br(e,t,n){t=Zt(n,t),t=nu(e.stateNode,t,2),e=$e(e,t,2),e!==null&&(ai(e,2),ue(e))}function K(e,t,n){if(e.tag===3)Br(e,e,n);else for(;t!==null;){if(t.tag===3){Br(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ge===null||!Ge.has(a))){e=Zt(n,e),n=kf(2),a=$e(t,n,2),a!==null&&(Xf(n,a,t,e),ai(a,2),ue(a));break}}t=t.return}}function Ss(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new tm;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(fo=!0,i.add(n),e=lm.bind(null,e,t,n),t.then(e,e))}function lm(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,J===e&&($&n)===n&&(it===4||it===3&&($&62914560)===$&&300>ie()-go?!(Q&2)&&aa(e,0):ho|=n,ea===$&&(ea=0)),ue(e)}function Mh(e,t){t===0&&(t=bc()),e=oa(e,t),e!==null&&(ai(e,t),ue(e))}function sm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mh(e,n)}function um(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(E(314))}a!==null&&a.delete(t),Mh(e,n)}function om(e,t){return wu(e,t)}var yl=null,xn=null,fu=!1,pl=!1,Es=!1,cn=0;function ue(e){e!==xn&&e.next===null&&(xn===null?yl=xn=e:xn=xn.next=e),pl=!0,fu||(fu=!0,cm())}function di(e,t){if(!Es&&pl){Es=!0;do for(var n=!1,a=yl;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var l=0;else{var s=a.suspendedLanes,u=a.pingedLanes;l=(1<<31-qt(42|e)+1)-1,l&=i&~(s&~u),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,Rr(a,l))}else l=$,l=Dl(a,a===J?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(l&3)||ni(a,l)||(n=!0,Rr(a,l));a=a.next}while(n);Es=!1}}function rm(){Dh()}function Dh(){pl=fu=!1;var e=0;cn!==0&&(vm()&&(e=cn),cn=0);for(var t=ie(),n=null,a=yl;a!==null;){var i=a.next,l=Bh(a,t);l===0?(a.next=null,n===null?yl=i:n.next=i,i===null&&(xn=n)):(n=a,(e!==0||l&3)&&(pl=!0)),a=i}di(e)}function Bh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var s=31-qt(l),u=1<<s,o=i[s];o===-1?(!(u&n)||u&a)&&(i[s]=Nd(u,t)):o<=t&&(e.expiredLanes|=u),l&=~u}if(t=J,n=$,n=Dl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(X===2||X===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Zl(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ni(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Zl(a),Ou(n)){case 2:case 8:n=vc;break;case 32:n=Wi;break;case 268435456:n=Sc;break;default:n=Wi}return a=Rh.bind(null,e),n=wu(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Zl(a),e.callbackPriority=2,e.callbackNode=null,2}function Rh(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($l()&&e.callbackNode!==n)return null;var a=$;return a=Dl(e,e===J?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(yh(e,a,t),Bh(e,ie()),e.callbackNode!=null&&e.callbackNode===n?Rh.bind(null,e):null)}function Rr(e,t){if($l())return null;yh(e,t,!0)}function cm(){Em(function(){Q&6?wu(pc,rm):Dh()})}function yo(){return cn===0&&(cn=Ec()),cn}function wr(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ui(""+e)}function zr(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fm(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var l=wr((i[Rt]||null).action),s=a.submitter;s&&(t=(t=s[Rt]||null)?wr(t.formAction):s.getAttribute("formAction"),t!==null&&(l=t,s=null));var u=new Bl("action","action",null,a,i);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(cn!==0){var o=s?zr(i,s):new FormData(i);tu(n,{pending:!0,data:o,method:i.method,action:l},null,o)}}else typeof l=="function"&&(u.preventDefault(),o=s?zr(i,s):new FormData(i),tu(n,{pending:!0,data:o,method:i.method,action:l},l,o))},currentTarget:i}]})}}for(var bs=0;bs<Ys.length;bs++){var _s=Ys[bs],hm=_s.toLowerCase(),dm=_s[0].toUpperCase()+_s.slice(1);Wt(hm,"on"+dm)}Wt(Xc,"onAnimationEnd");Wt(Qc,"onAnimationIteration");Wt(Zc,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Rg,"onTransitionRun");Wt(wg,"onTransitionStart");Wt(zg,"onTransitionCancel");Wt(Vc,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Va));function wh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;t:{var l=void 0;if(t)for(var s=a.length-1;0<=s;s--){var u=a[s],o=u.instance,c=u.currentTarget;if(u=u.listener,o!==l&&i.isPropagationStopped())break t;l=u,i.currentTarget=c;try{l(i)}catch(m){cl(m)}i.currentTarget=null,l=o}else for(s=0;s<a.length;s++){if(u=a[s],o=u.instance,c=u.currentTarget,u=u.listener,o!==l&&i.isPropagationStopped())break t;l=u,i.currentTarget=c;try{l(i)}catch(m){cl(m)}i.currentTarget=null,l=o}}}}function q(e,t){var n=t[Ns];n===void 0&&(n=t[Ns]=new Set);var a=e+"__bubble";n.has(a)||(zh(t,e,2,!1),n.add(a))}function Ts(e,t,n){var a=0;t&&(a|=4),zh(n,e,a,t)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[Ri]){e[Ri]=!0,Cc.forEach(function(n){n!=="selectionchange"&&(gm.has(n)||Ts(n,!1,e),Ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ri]||(t[Ri]=!0,Ts("selectionchange",!1,t))}}function zh(e,t,n,a){switch(Xh(t)){case 2:var i=Gm;break;case 8:i=Ym;break;default:i=bo}n=i.bind(null,t,n,e),i=void 0,!Ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xs(e,t,n,a,i){var l=a;if(!(t&1)&&!(t&2)&&a!==null)t:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var u=a.stateNode.containerInfo;if(u===i)break;if(s===4)for(s=a.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;u!==null;){if(s=Dn(u),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){a=l=s;continue t}u=u.parentNode}}a=a.return}Oc(function(){var c=l,m=Uu(n),p=[];t:{var r=Kc.get(e);if(r!==void 0){var g=Bl,T=e;switch(e){case"keypress":if(ji(n)===0)break t;case"keydown":case"keyup":g=og;break;case"focusin":T="focus",g=ts;break;case"focusout":T="blur",g=ts;break;case"beforeblur":case"afterblur":g=ts;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=fg;break;case Xc:case Qc:case Zc:g=Pd;break;case Vc:g=dg;break;case"scroll":case"scrollend":g=Kd;break;case"wheel":g=mg;break;case"copy":case"cut":case"paste":g=eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Go;break;case"toggle":case"beforetoggle":g=pg}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),d=x?r!==null?r+"Capture":null:r;x=[];for(var f=c,y;f!==null;){var S=f;if(y=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||y===null||d===null||(S=Ga(f,d),S!=null&&x.push(Ka(f,S,y))),w)break;f=f.return}0<x.length&&(r=new g(r,T,null,n,m),p.push({event:r,listeners:x}))}}if(!(t&7)){t:{if(r=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",r&&n!==js&&(T=n.relatedTarget||n.fromElement)&&(Dn(T)||T[sa]))break t;if((g||r)&&(r=m.window===m?m:(r=m.ownerDocument)?r.defaultView||r.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=c,T=T?Dn(T):null,T!==null&&(w=ti(T),x=T.tag,T!==w||x!==5&&x!==27&&x!==6)&&(T=null)):(g=null,T=c),g!==T)){if(x=Lo,S="onMouseLeave",d="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=Go,S="onPointerLeave",d="onPointerEnter",f="pointer"),w=g==null?r:Ta(g),y=T==null?r:Ta(T),r=new x(S,f+"leave",g,n,m),r.target=w,r.relatedTarget=y,S=null,Dn(m)===c&&(x=new x(d,f+"enter",T,n,m),x.target=y,x.relatedTarget=w,S=x),w=S,g&&T)e:{for(x=g,d=T,f=0,y=x;y;y=En(y))f++;for(y=0,S=d;S;S=En(S))y++;for(;0<f-y;)x=En(x),f--;for(;0<y-f;)d=En(d),y--;for(;f--;){if(x===d||d!==null&&x===d.alternate)break e;x=En(x),d=En(d)}x=null}else x=null;g!==null&&Or(p,r,g,x,!1),T!==null&&w!==null&&Or(p,w,T,x,!0)}}t:{if(r=c?Ta(c):window,g=r.nodeName&&r.nodeName.toLowerCase(),g==="select"||g==="input"&&r.type==="file")var C=Qo;else if(Xo(r))if(Lc)C=Mg;else{C=Cg;var R=xg}else g=r.nodeName,!g||g.toLowerCase()!=="input"||r.type!=="checkbox"&&r.type!=="radio"?c&&Nu(c.elementType)&&(C=Qo):C=Ag;if(C&&(C=C(e,c))){jc(p,C,n,m);break t}R&&R(e,r,c),e==="focusout"&&c&&r.type==="number"&&c.memoizedProps.value!=null&&qs(r,"number",r.value)}switch(R=c?Ta(c):window,e){case"focusin":(Xo(R)||R.contentEditable==="true")&&(wn=R,$s=c,Da=null);break;case"focusout":Da=$s=wn=null;break;case"mousedown":Gs=!0;break;case"contextmenu":case"mouseup":case"dragend":Gs=!1,Io(p,n,m);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":Io(p,n,m)}var M;if(Lu)t:{switch(e){case"compositionstart":var D="onCompositionStart";break t;case"compositionend":D="onCompositionEnd";break t;case"compositionupdate":D="onCompositionUpdate";break t}D=void 0}else Rn?Uc(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Nc&&n.locale!=="ko"&&(Rn||D!=="onCompositionStart"?D==="onCompositionEnd"&&Rn&&(M=Hc()):(Ne=m,qu="value"in Ne?Ne.value:Ne.textContent,Rn=!0)),R=vl(c,D),0<R.length&&(D=new $o(D,e,null,n,m),p.push({event:D,listeners:R}),M?D.data=M:(M=qc(n),M!==null&&(D.data=M)))),(M=Sg?Eg(e,n):bg(e,n))&&(D=vl(c,"onBeforeInput"),0<D.length&&(R=new $o("onBeforeInput","beforeinput",null,n,m),p.push({event:R,listeners:D}),R.data=M)),fm(p,e,c,n,m)}wh(p,t)})}function Ka(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,l=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||l===null||(i=Ga(e,n),i!=null&&a.unshift(Ka(e,i,l)),i=Ga(e,t),i!=null&&a.push(Ka(e,i,l))),e.tag===3)return a;e=e.return}return[]}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Or(e,t,n,a,i){for(var l=t._reactName,s=[];n!==null&&n!==a;){var u=n,o=u.alternate,c=u.stateNode;if(u=u.tag,o!==null&&o===a)break;u!==5&&u!==26&&u!==27||c===null||(o=c,i?(c=Ga(n,l),c!=null&&s.unshift(Ka(n,c,o))):i||(c=Ga(n,l),c!=null&&s.push(Ka(n,c,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function Hr(e){return(typeof e=="string"?e:""+e).replace(mm,`
`).replace(ym,"")}function Oh(e,t){return t=Hr(t),Hr(e)===t}function Gl(){}function Z(e,t,n,a,i,l){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||In(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&In(e,""+a);break;case"className":Ti(e,"class",a);break;case"tabIndex":Ti(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,n,a);break;case"style":zc(e,a,l);break;case"data":if(t!=="object"){Ti(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ui(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&Z(e,t,"name",i.name,i,null),Z(e,t,"formEncType",i.formEncType,i,null),Z(e,t,"formMethod",i.formMethod,i,null),Z(e,t,"formTarget",i.formTarget,i,null)):(Z(e,t,"encType",i.encType,i,null),Z(e,t,"method",i.method,i,null),Z(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ui(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Gl);break;case"onScroll":a!=null&&q("scroll",e);break;case"onScrollEnd":a!=null&&q("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(E(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(E(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ui(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":q("beforetoggle",e),q("toggle",e),Ni(e,"popover",a);break;case"xlinkActuate":oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":oe(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":oe(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":oe(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":oe(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ni(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zd.get(n)||n,Ni(e,n,a))}}function hu(e,t,n,a,i,l){switch(n){case"style":zc(e,a,l);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(E(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(E(60));e.innerHTML=n}}break;case"children":typeof a=="string"?In(e,a):(typeof a=="number"||typeof a=="bigint")&&In(e,""+a);break;case"onScroll":a!=null&&q("scroll",e);break;case"onScrollEnd":a!=null&&q("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),l=e[Rt]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,i),typeof a=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break t}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Ni(e,n,a)}}}function bt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":q("error",e),q("load",e);var a=!1,i=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:Z(e,t,l,s,n,null)}}i&&Z(e,t,"srcSet",n.srcSet,n,null),a&&Z(e,t,"src",n.src,n,null);return;case"input":q("invalid",e);var u=l=s=i=null,o=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var m=n[a];if(m!=null)switch(a){case"name":i=m;break;case"type":s=m;break;case"checked":o=m;break;case"defaultChecked":c=m;break;case"value":l=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(E(137,t));break;default:Z(e,t,a,m,n,null)}}Bc(e,l,u,o,c,s,i,!1),Pi(e);return;case"select":q("invalid",e),a=s=l=null;for(i in n)if(n.hasOwnProperty(i)&&(u=n[i],u!=null))switch(i){case"value":l=u;break;case"defaultValue":s=u;break;case"multiple":a=u;default:Z(e,t,i,u,n,null)}t=l,n=s,e.multiple=!!a,t!=null?$n(e,!!a,t,!1):n!=null&&$n(e,!!a,n,!0);return;case"textarea":q("invalid",e),l=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(u=n[s],u!=null))switch(s){case"value":a=u;break;case"defaultValue":i=u;break;case"children":l=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(E(91));break;default:Z(e,t,s,u,n,null)}wc(e,a,i,l),Pi(e);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Z(e,t,o,a,n,null)}return;case"dialog":q("beforetoggle",e),q("toggle",e),q("cancel",e),q("close",e);break;case"iframe":case"object":q("load",e);break;case"video":case"audio":for(a=0;a<Va.length;a++)q(Va[a],e);break;case"image":q("error",e),q("load",e);break;case"details":q("toggle",e);break;case"embed":case"source":case"link":q("error",e),q("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:Z(e,t,c,a,n,null)}return;default:if(Nu(t)){for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!==void 0&&hu(e,t,m,a,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(a=n[u],a!=null&&Z(e,t,u,a,n,null))}function pm(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,s=null,u=null,o=null,c=null,m=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=p;default:a.hasOwnProperty(g)||Z(e,t,g,null,a,p)}}for(var r in a){var g=a[r];if(p=n[r],a.hasOwnProperty(r)&&(g!=null||p!=null))switch(r){case"type":l=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":m=g;break;case"value":s=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(E(137,t));break;default:g!==p&&Z(e,t,r,g,a,p)}}Us(e,s,u,o,c,m,l,i);return;case"select":g=s=u=r=null;for(l in n)if(o=n[l],n.hasOwnProperty(l)&&o!=null)switch(l){case"value":break;case"multiple":g=o;default:a.hasOwnProperty(l)||Z(e,t,l,null,a,o)}for(i in a)if(l=a[i],o=n[i],a.hasOwnProperty(i)&&(l!=null||o!=null))switch(i){case"value":r=l;break;case"defaultValue":u=l;break;case"multiple":s=l;default:l!==o&&Z(e,t,i,l,a,o)}t=u,n=s,a=g,r!=null?$n(e,!!n,r,!1):!!a!=!!n&&(t!=null?$n(e,!!n,t,!0):$n(e,!!n,n?[]:"",!1));return;case"textarea":g=r=null;for(u in n)if(i=n[u],n.hasOwnProperty(u)&&i!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Z(e,t,u,null,a,i)}for(s in a)if(i=a[s],l=n[s],a.hasOwnProperty(s)&&(i!=null||l!=null))switch(s){case"value":r=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(E(91));break;default:i!==l&&Z(e,t,s,i,a,l)}Rc(e,r,g);return;case"option":for(var T in n)if(r=n[T],n.hasOwnProperty(T)&&r!=null&&!a.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:Z(e,t,T,null,a,r)}for(o in a)if(r=a[o],g=n[o],a.hasOwnProperty(o)&&r!==g&&(r!=null||g!=null))switch(o){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Z(e,t,o,r,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)r=n[x],n.hasOwnProperty(x)&&r!=null&&!a.hasOwnProperty(x)&&Z(e,t,x,null,a,r);for(c in a)if(r=a[c],g=n[c],a.hasOwnProperty(c)&&r!==g&&(r!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(r!=null)throw Error(E(137,t));break;default:Z(e,t,c,r,a,g)}return;default:if(Nu(t)){for(var w in n)r=n[w],n.hasOwnProperty(w)&&r!==void 0&&!a.hasOwnProperty(w)&&hu(e,t,w,void 0,a,r);for(m in a)r=a[m],g=n[m],!a.hasOwnProperty(m)||r===g||r===void 0&&g===void 0||hu(e,t,m,r,a,g);return}}for(var d in n)r=n[d],n.hasOwnProperty(d)&&r!=null&&!a.hasOwnProperty(d)&&Z(e,t,d,null,a,r);for(p in a)r=a[p],g=n[p],!a.hasOwnProperty(p)||r===g||r==null&&g==null||Z(e,t,p,r,a,g)}var du=null,gu=null;function Sl(e){return e.nodeType===9?e:e.ownerDocument}function Nr(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cs=null;function vm(){var e=window.event;return e&&e.type==="popstate"?e===Cs?!1:(Cs=e,!0):(Cs=null,!1)}var Nh=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,Ur=typeof Promise=="function"?Promise:void 0,Em=typeof queueMicrotask=="function"?queueMicrotask:typeof Ur<"u"?function(e){return Ur.resolve(null).then(e).catch(bm)}:Nh;function bm(e){setTimeout(function(){throw e})}function Ie(e){return e==="head"}function qr(e,t){var n=t,a=0,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(0<a&&8>a){n=a;var s=e.ownerDocument;if(n&1&&La(s.documentElement),n&2&&La(s.body),n&4)for(n=s.head,La(n),s=n.firstChild;s;){var u=s.nextSibling,o=s.nodeName;s[ii]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}if(i===0){e.removeChild(l),Pa(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=l}while(n);Pa(t)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yu(n),Hu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _m(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ii])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Tm(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ft(e.nextSibling),e===null))return null;return e}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function xm(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var vu=null;function jr(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Uh(e,t,n){switch(t=Sl(n),e){case"html":if(e=t.documentElement,!e)throw Error(E(452));return e;case"head":if(e=t.head,!e)throw Error(E(453));return e;case"body":if(e=t.body,!e)throw Error(E(454));return e;default:throw Error(E(451))}}function La(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hu(e)}var Jt=new Map,Lr=new Set;function El(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Te=k.d;k.d={f:Cm,r:Am,D:Mm,C:Dm,L:Bm,m:Rm,X:zm,S:wm,M:Om};function Cm(){var e=Te.f(),t=jl();return e||t}function Am(e){var t=ua(e);t!==null&&t.tag===5&&t.type==="form"?Bf(t):Te.r(e)}var ca=typeof document>"u"?null:document;function qh(e,t,n){var a=ca;if(a&&typeof t=="string"&&t){var i=Qt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Lr.has(i)||(Lr.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),bt(t,"link",e),yt(t),a.head.appendChild(t)))}}function Mm(e){Te.D(e),qh("dns-prefetch",e,null)}function Dm(e,t){Te.C(e,t),qh("preconnect",e,t)}function Bm(e,t,n){Te.L(e,t,n);var a=ca;if(a&&e&&t){var i='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Qt(n.imageSizes)+'"]')):i+='[href="'+Qt(e)+'"]';var l=i;switch(t){case"style":l=ia(e);break;case"script":l=fa(e)}Jt.has(l)||(e=I({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Jt.set(l,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(gi(l))||t==="script"&&a.querySelector(mi(l))||(t=a.createElement("link"),bt(t,"link",e),yt(t),a.head.appendChild(t)))}}function Rm(e,t){Te.m(e,t);var n=ca;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Qt(a)+'"][href="'+Qt(e)+'"]',l=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=fa(e)}if(!Jt.has(l)&&(e=I({rel:"modulepreload",href:e},t),Jt.set(l,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mi(l)))return}a=n.createElement("link"),bt(a,"link",e),yt(a),n.head.appendChild(a)}}}function wm(e,t,n){Te.S(e,t,n);var a=ca;if(a&&e){var i=Ln(a).hoistableStyles,l=ia(e);t=t||"default";var s=i.get(l);if(!s){var u={loading:0,preload:null};if(s=a.querySelector(gi(l)))u.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Jt.get(l))&&vo(e,n);var o=s=a.createElement("link");yt(o),bt(o,"link",e),o._p=new Promise(function(c,m){o.onload=c,o.onerror=m}),o.addEventListener("load",function(){u.loading|=1}),o.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Qi(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:u},i.set(l,s)}}}function zm(e,t){Te.X(e,t);var n=ca;if(n&&e){var a=Ln(n).hoistableScripts,i=fa(e),l=a.get(i);l||(l=n.querySelector(mi(i)),l||(e=I({src:e,async:!0},t),(t=Jt.get(i))&&So(e,t),l=n.createElement("script"),yt(l),bt(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(i,l))}}function Om(e,t){Te.M(e,t);var n=ca;if(n&&e){var a=Ln(n).hoistableScripts,i=fa(e),l=a.get(i);l||(l=n.querySelector(mi(i)),l||(e=I({src:e,async:!0,type:"module"},t),(t=Jt.get(i))&&So(e,t),l=n.createElement("script"),yt(l),bt(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(i,l))}}function $r(e,t,n,a){var i=(i=je.current)?El(i):null;if(!i)throw Error(E(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ia(n.href),n=Ln(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ia(n.href);var l=Ln(i).hoistableStyles,s=l.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,s),(l=i.querySelector(gi(e)))&&!l._p&&(s.instance=l,s.state.loading=5),Jt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jt.set(e,n),l||Hm(i,e,n,s.state))),t&&a===null)throw Error(E(528,""));return s}if(t&&a!==null)throw Error(E(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fa(n),n=Ln(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,e))}}function ia(e){return'href="'+Qt(e)+'"'}function gi(e){return'link[rel="stylesheet"]['+e+"]"}function jh(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function Hm(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),bt(t,"link",n),yt(t),e.head.appendChild(t))}function fa(e){return'[src="'+Qt(e)+'"]'}function mi(e){return"script[async]"+e}function Gr(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Qt(n.href)+'"]');if(a)return t.instance=a,yt(a),a;var i=I({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),yt(a),bt(a,"style",i),Qi(a,n.precedence,e),t.instance=a;case"stylesheet":i=ia(n.href);var l=e.querySelector(gi(i));if(l)return t.state.loading|=4,t.instance=l,yt(l),l;a=jh(n),(i=Jt.get(i))&&vo(a,i),l=(e.ownerDocument||e).createElement("link"),yt(l);var s=l;return s._p=new Promise(function(u,o){s.onload=u,s.onerror=o}),bt(l,"link",a),t.state.loading|=4,Qi(l,n.precedence,e),t.instance=l;case"script":return l=fa(n.src),(i=e.querySelector(mi(l)))?(t.instance=i,yt(i),i):(a=n,(i=Jt.get(l))&&(a=I({},n),So(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),yt(i),bt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(E(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Qi(a,n.precedence,e));return t.instance}function Qi(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,l=i,s=0;s<a.length;s++){var u=a[s];if(u.dataset.precedence===t)l=u;else if(l!==i)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function So(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zi=null;function Yr(e,t,n){if(Zi===null){var a=new Map,i=Zi=new Map;i.set(n,a)}else i=Zi,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var l=n[i];if(!(l[ii]||l[_t]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(t)||"";s=e+s;var u=a.get(s);u?u.push(l):a.set(s,[l])}}return a}function kr(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Nm(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Lh(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ja=null;function Um(){}function qm(e,t,n){if(Ja===null)throw Error(E(475));var a=Ja;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=ia(n.href),l=e.querySelector(gi(i));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=bl.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=l,yt(l);return}l=e.ownerDocument||e,n=jh(n),(i=Jt.get(i))&&vo(n,i),l=l.createElement("link"),yt(l);var s=l;s._p=new Promise(function(u,o){s.onload=u,s.onerror=o}),bt(l,"link",n),t.instance=l}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=bl.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function jm(){if(Ja===null)throw Error(E(475));var e=Ja;return e.stylesheets&&e.count===0&&Su(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Su(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function bl(){if(this.count--,this.count===0){if(this.stylesheets)Su(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _l=null;function Su(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_l=new Map,t.forEach(Lm,e),_l=null,bl.call(e))}function Lm(e,t){if(!(t.state.loading&4)){var n=_l.get(e);if(n)var a=n.get(null);else{n=new Map,_l.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<i.length;l++){var s=i[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}i=t.instance,s=i.getAttribute("data-precedence"),l=n.get(s)||a,l===a&&n.set(null,i),n.set(s,i),this.count++,a=bl.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),l?l.parentNode.insertBefore(i,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ia={$$typeof:he,Provider:null,Consumer:null,_currentValue:an,_currentValue2:an,_threadCount:0};function $m(e,t,n,a,i,l,s,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function $h(e,t,n,a,i,l,s,u,o,c,m,p){return e=new $m(e,t,n,s,u,o,c,p),t=1,l===!0&&(t|=24),l=Nt(3,null,null,t),e.current=l,l.stateNode=e,t=Zu(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},Ku(l),e}function Gh(e){return e?(e=Hn,e):Hn}function Yh(e,t,n,a,i,l){i=Gh(i),a.context===null?a.context=i:a.pendingContext=i,a=Le(t),a.payload={element:n},l=l===void 0?null:l,l!==null&&(a.callback=l),n=$e(e,a,t),n!==null&&(Lt(n,e,t),wa(n,e,t))}function Xr(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eo(e,t){Xr(e,t),(e=e.alternate)&&Xr(e,t)}function kh(e){if(e.tag===13){var t=oa(e,67108864);t!==null&&Lt(t,e,67108864),Eo(e,67108864)}}var Tl=!0;function Gm(e,t,n,a){var i=B.T;B.T=null;var l=k.p;try{k.p=2,bo(e,t,n,a)}finally{k.p=l,B.T=i}}function Ym(e,t,n,a){var i=B.T;B.T=null;var l=k.p;try{k.p=8,bo(e,t,n,a)}finally{k.p=l,B.T=i}}function bo(e,t,n,a){if(Tl){var i=Eu(a);if(i===null)xs(e,t,a,xl,n),Qr(e,a);else if(Xm(i,e,t,n,a))a.stopPropagation();else if(Qr(e,a),t&4&&-1<km.indexOf(e)){for(;i!==null;){var l=ua(i);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=tn(l.pendingLanes);if(s!==0){var u=l;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var o=1<<31-qt(s);u.entanglements[1]|=o,s&=~o}ue(l),!(Q&6)&&(gl=ie()+500,di(0))}}break;case 13:u=oa(l,2),u!==null&&Lt(u,l,2),jl(),Eo(l,2)}if(l=Eu(a),l===null&&xs(e,t,a,xl,n),l===i)break;i=l}i!==null&&a.stopPropagation()}else xs(e,t,a,null,n)}}function Eu(e){return e=Uu(e),_o(e)}var xl=null;function _o(e){if(xl=null,e=Dn(e),e!==null){var t=ti(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xl=e,null}function Xh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dd()){case pc:return 2;case vc:return 8;case Wi:case Bd:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var bu=!1,ke=null,Xe=null,Qe=null,Fa=new Map,Wa=new Map,Oe=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qr(e,t){switch(e){case"focusin":case"focusout":ke=null;break;case"dragenter":case"dragleave":Xe=null;break;case"mouseover":case"mouseout":Qe=null;break;case"pointerover":case"pointerout":Fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function Ea(e,t,n,a,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[i]},t!==null&&(t=ua(t),t!==null&&kh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xm(e,t,n,a,i){switch(t){case"focusin":return ke=Ea(ke,e,t,n,a,i),!0;case"dragenter":return Xe=Ea(Xe,e,t,n,a,i),!0;case"mouseover":return Qe=Ea(Qe,e,t,n,a,i),!0;case"pointerover":var l=i.pointerId;return Fa.set(l,Ea(Fa.get(l)||null,e,t,n,a,i)),!0;case"gotpointercapture":return l=i.pointerId,Wa.set(l,Ea(Wa.get(l)||null,e,t,n,a,i)),!0}return!1}function Qh(e){var t=Dn(e.target);if(t!==null){var n=ti(t);if(n!==null){if(t=n.tag,t===13){if(t=dc(n),t!==null){e.blockedOn=t,qd(e.priority,function(){if(n.tag===13){var a=jt();a=zu(a);var i=oa(n,a);i!==null&&Lt(i,n,a),Eo(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);js=a,n.target.dispatchEvent(a),js=null}else return t=ua(n),t!==null&&kh(t),e.blockedOn=n,!1;t.shift()}return!0}function Zr(e,t,n){Vi(e)&&n.delete(t)}function Qm(){bu=!1,ke!==null&&Vi(ke)&&(ke=null),Xe!==null&&Vi(Xe)&&(Xe=null),Qe!==null&&Vi(Qe)&&(Qe=null),Fa.forEach(Zr),Wa.forEach(Zr)}function wi(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Qm)))}var zi=null;function Vr(e){zi!==e&&(zi=e,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,function(){zi===e&&(zi=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(_o(a||n)===null)continue;break}var l=ua(n);l!==null&&(e.splice(t,3),t-=3,tu(l,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Pa(e){function t(o){return wi(o,e)}ke!==null&&wi(ke,e),Xe!==null&&wi(Xe,e),Qe!==null&&wi(Qe,e),Fa.forEach(t),Wa.forEach(t);for(var n=0;n<Oe.length;n++){var a=Oe[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Oe.length&&(n=Oe[0],n.blockedOn===null);)Qh(n),n.blockedOn===null&&Oe.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],l=n[a+1],s=i[Rt]||null;if(typeof l=="function")s||Vr(n);else if(s){var u=null;if(l&&l.hasAttribute("formAction")){if(i=l,s=l[Rt]||null)u=s.formAction;else if(_o(i)!==null)continue}else u=s.action;typeof u=="function"?n[a+1]=u:(n.splice(a,3),a-=3),Vr(n)}}}function To(e){this._internalRoot=e}Yl.prototype.render=To.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));var n=t.current,a=jt();Yh(n,a,e,t,null,null)};Yl.prototype.unmount=To.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yh(e.current,2,null,e,null,null),jl(),t[sa]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oe.length&&t!==0&&t<Oe[n].priority;n++);Oe.splice(n,0,e),n===0&&Qh(e)}};var Kr=fc.version;if(Kr!=="19.1.0")throw Error(E(527,Kr,"19.1.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=bd(t),e=e!==null?gc(e):null,e=e===null?null:e.stateNode,e};var Zm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{ei=Oi.inject(Zm),Ut=Oi}catch{}}Al.createRoot=function(e,t){if(!hc(e))throw Error(E(299));var n=!1,a="",i=$f,l=Gf,s=Yf,u=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=$h(e,1,!1,null,null,n,a,i,l,s,u,null),e[sa]=t.current,po(e),new To(t)};Al.hydrateRoot=function(e,t,n){if(!hc(e))throw Error(E(299));var a=!1,i="",l=$f,s=Gf,u=Yf,o=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(o=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=$h(e,1,!0,t,n??null,a,i,l,s,u,o,c),t.context=Gh(null),n=t.current,a=jt(),a=zu(a),i=Le(a),i.callback=null,$e(n,i,a),n=a,t.current.lanes=n,ai(t,n),ue(t),e[sa]=t.current,po(e),new Yl(t)};Al.version="19.1.0";function Zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zh)}catch(e){console.error(e)}}Zh(),lc.exports=Al;var Vm=lc.exports;const Km=Jr(Vm);var v=(e=>(e.Idle="idle",e.Hover="hover",e.Awaken="awaken",e.Control="control",e))(v||{}),h=(e=>(e.Happy="happy",e.Calm="calm",e.Excited="excited",e.Curious="curious",e.Sleepy="sleepy",e.Focused="focused",e))(h||{}),Vn=(e=>(e.OpenAI="openai",e.Claude="claude",e.Tongyi="tongyi",e.Doubao="doubao",e.Wenxin="wenxin",e.GPT4="gpt4",e.Gemini="gemini",e.LLaMA="llama",e))(Vn||{});class Jm{constructor(){this.plugins=new Map,this.intentMapping=new Map,this.pluginStatus=new Map}async registerPlugin(t){try{if(this.plugins.has(t.id))throw new Error(`Plugin ${t.id} already registered`);await t.initialize(),this.plugins.set(t.id,t),this.pluginStatus.set(t.id,"active"),t.supportedIntents.forEach(n=>{this.intentMapping.has(n)||this.intentMapping.set(n,[]),this.intentMapping.get(n).push(t.id)}),console.log(`🧩 Plugin registered: ${t.name} (${t.id})`)}catch(n){throw this.pluginStatus.set(t.id,"error"),console.error(`❌ Failed to register plugin ${t.id}:`,n),n}}async unregisterPlugin(t){const n=this.plugins.get(t);if(!n)throw new Error(`Plugin ${t} not found`);try{n.supportedIntents.forEach(a=>{const i=this.intentMapping.get(a);if(i){const l=i.indexOf(t);l>-1&&i.splice(l,1),i.length===0&&this.intentMapping.delete(a)}}),await n.destroy(),this.plugins.delete(t),this.pluginStatus.delete(t),console.log(`🗑️ Plugin unregistered: ${n.name} (${t})`)}catch(a){throw console.error(`❌ Failed to unregister plugin ${t}:`,a),a}}getPluginsForIntent(t){return(this.intentMapping.get(t)||[]).filter(a=>this.pluginStatus.get(a)==="active").map(a=>this.plugins.get(a)).filter(Boolean)}getPlugin(t){return this.plugins.get(t)}getAllPlugins(){return Array.from(this.plugins.values())}getPluginStatus(t){return this.pluginStatus.get(t)||"not_found"}setPluginStatus(t,n){this.plugins.has(t)&&this.pluginStatus.set(t,n)}getSupportedIntents(){return Array.from(this.intentMapping.keys())}async executePlugin(t,n,a){const i=this.plugins.get(t);if(!i)throw new Error(`Plugin ${t} not found`);const l=this.pluginStatus.get(t);if(l!=="active")throw new Error(`Plugin ${t} is not active (status: ${l})`);try{return await i.execute(n,a)}catch(s){throw console.error(`❌ Plugin execution error (${t}):`,s),this.setPluginStatus(t,"error"),s}}async healthCheck(){const t={};for(const[n,a]of Array.from(this.plugins))try{t[n]=this.pluginStatus.get(n)==="active"}catch{t[n]=!1,this.setPluginStatus(n,"error")}return t}}class Im{constructor(){this.intentPatterns=new Map,this.intentKeywords=new Map,this.intentPriority=new Map,this.initializeDefaultIntents()}initializeDefaultIntents(){this.registerIntent("screenshot",{patterns:[/截图|screenshot|capture/i,/保存.*图片|save.*image/i,/记录.*屏幕|record.*screen/i],keywords:["截图","截屏","保存","拍照","screenshot","capture"],priority:8}),this.registerIntent("copy",{patterns:[/复制|copy|剪贴板/i,/拷贝|duplicate/i],keywords:["复制","拷贝","剪贴板","copy","clipboard"],priority:7}),this.registerIntent("note",{patterns:[/记录|记要|笔记|note/i,/保存.*文字|save.*text/i,/写下|记下|write.*down/i],keywords:["记录","笔记","记要","写下","note","memo"],priority:6}),this.registerIntent("cast",{patterns:[/投屏|cast|screen.*share/i,/分享.*屏幕|share.*screen/i,/镜像|mirror/i],keywords:["投屏","分享","镜像","cast","share","mirror"],priority:7}),this.registerIntent("chat",{patterns:[/聊天|chat|对话|conversation/i,/问.*问题|ask.*question/i,/讨论|discuss/i],keywords:["聊天","对话","问题","讨论","chat","talk"],priority:5}),this.registerIntent("settings",{patterns:[/设置|settings|配置|config/i,/偏好|preference/i,/选项|options/i],keywords:["设置","配置","偏好","settings","config"],priority:4}),this.registerIntent("help",{patterns:[/帮助|help|怎么.*用|how.*to/i,/指南|guide|教程|tutorial/i],keywords:["帮助","指南","教程","help","guide"],priority:3}),this.registerIntent("emotion",{patterns:[/开心|高兴|happy|excited/i,/难过|伤心|sad|upset/i,/生气|愤怒|angry|mad/i,/累了|疲惫|tired|sleepy/i],keywords:["开心","难过","生气","累","happy","sad","angry","tired"],priority:9})}registerIntent(t,n){this.intentPatterns.set(t,n.patterns),this.intentKeywords.set(t,n.keywords),this.intentPriority.set(t,n.priority)}parseIntent(t){const n=[],a=t.toLowerCase();for(const[i,l]of Array.from(this.intentPatterns)){let s=0;const u={};for(const m of l)if(m.test(t)){s+=.4;break}const o=this.intentKeywords.get(i)||[];let c=0;for(const m of o)a.includes(m.toLowerCase())&&c++;c>0&&(s+=c/o.length*.6),s>.3&&n.push({type:i,confidence:Math.min(s,1),parameters:u,rawInput:t,timestamp:Date.now()})}return n.sort((i,l)=>{const s=this.intentPriority.get(i.type)||0,u=this.intentPriority.get(l.type)||0;return Math.abs(i.confidence-l.confidence)>.1?l.confidence-i.confidence:u-s}),n}getBestIntent(t){const n=this.parseIntent(t);return n.length>0?n[0]:null}parseIntentWithContext(t,n){let a=this.parseIntent(t);if(n.previousIntents&&n.previousIntents.length>0){const i=n.previousIntents[n.previousIntents.length-1];a=a.map(l=>l.type===i.type?{...l,confidence:Math.min(l.confidence+.1,1)}:l)}if(n.currentState==="awaken"){const i=["screenshot","copy","note","cast"];a=a.map(l=>i.includes(l.type)?{...l,confidence:Math.min(l.confidence+.15,1)}:l)}if(n.emotionState==="sleepy"&&n.timeOfDay==="night"){const i=["screenshot","cast"];a=a.map(l=>i.includes(l.type)?{...l,confidence:Math.max(l.confidence-.2,0)}:l)}return a.sort((i,l)=>l.confidence-i.confidence)}extractParameters(t){const{type:n,rawInput:a}=t,i={};switch(n){case"screenshot":/全屏|full.*screen/i.test(a)?i.mode="fullscreen":/区域|area|part/i.test(a)?i.mode="area":/窗口|window/i.test(a)&&(i.mode="window");break;case"note":const l=a.match(/记录[：:]?\s*(.+)/i);l&&(i.content=l[1].trim());break;case"chat":const s=a.match(/关于\s*(.+)|about\s+(.+)/i);s&&(i.topic=(s[1]||s[2]).trim());break;case"emotion":/开心|高兴|happy|excited/i.test(a)?i.emotionType="happy":/难过|伤心|sad|upset/i.test(a)?i.emotionType="sad":/生气|愤怒|angry|mad/i.test(a)?i.emotionType="angry":/累了|疲惫|tired|sleepy/i.test(a)&&(i.emotionType="tired");break}return{...t.parameters,...i}}getSupportedIntents(){return Array.from(this.intentPatterns.keys())}}class _u{constructor(t={}){this.config=t,this.emotionHistory=[],this.lastInteractionTime=Date.now(),this.interactionCount=0,this.stateHistory=[],this.config={historyLimit:50,idleTimeoutMs:3e4,excitementThreshold:5,...t}}decideEmotion(t){const{state:n,context:a,history:i}=t;this.updateInternalState(n,a,i);const l=this.buildDecisionContext(n,a),s=this.applyEmotionRules(l);return this.recordEmotionDecision(s,n,a),console.log(`🧠 AIEmotionDriver: ${n} → ${s}`,{context:l,reason:this.getDecisionReason(s,l)}),s}updateInternalState(t,n,a){this.shouldCountAsInteraction(t)&&(this.interactionCount++,this.lastInteractionTime=Date.now()),this.stateHistory.push({state:t,timestamp:Date.now()}),this.stateHistory.length>10&&this.stateHistory.shift(),a&&(this.emotionHistory=[...this.emotionHistory,...a].slice(-this.config.historyLimit))}buildDecisionContext(t,n){const a=Date.now(),i=this.stateHistory.length>1?this.stateHistory[this.stateHistory.length-2].state:void 0,l=this.stateHistory.length>0?this.stateHistory[this.stateHistory.length-1].timestamp:a;return{currentState:t,previousState:i,stateChangedAt:l,lastInteractionTime:this.lastInteractionTime,interactionCount:this.interactionCount,timeInCurrentState:a-l,recentEmotions:this.emotionHistory.slice(-5),metadata:n}}applyEmotionRules(t){const{currentState:n,previousState:a,timeInCurrentState:i,interactionCount:l}=t,s=Date.now()-t.lastInteractionTime,u=a===v.Awaken&&i<5e3,o=l>=this.config.excitementThreshold;return n===v.Hover&&u?h.Curious:n===v.Control?h.Focused:n===v.Awaken&&o?h.Excited:n===v.Awaken?h.Happy:n===v.Hover?h.Curious:n===v.Idle&&s>this.config.idleTimeoutMs?h.Sleepy:(n===v.Idle,h.Calm)}recordEmotionDecision(t,n,a){const i={timestamp:Date.now(),emotion:t,state:n,intensity:this.calculateEmotionIntensity(t,n),context:a,trigger:this.getDecisionReason(t,this.buildDecisionContext(n,a))};this.emotionHistory.push(i),this.emotionHistory.length>this.config.historyLimit&&this.emotionHistory.shift()}calculateEmotionIntensity(t,n){switch(t){case h.Excited:return Math.min(.9,.5+this.interactionCount*.1);case h.Happy:return .7;case h.Curious:return .6;case h.Focused:return .8;case h.Sleepy:return .3;case h.Calm:default:return .5}}getDecisionReason(t,n){const{currentState:a,timeInCurrentState:i,interactionCount:l}=n,s=Date.now()-n.lastInteractionTime;switch(t){case h.Curious:return a===v.Hover?"hover_state":"recently_awakened";case h.Focused:return"control_state";case h.Excited:return`frequent_interaction_${l}`;case h.Happy:return"awaken_state";case h.Sleepy:return`idle_timeout_${Math.round(s/1e3)}s`;case h.Calm:default:return"default_idle"}}shouldCountAsInteraction(t){return t===v.Hover||t===v.Awaken||t===v.Control}getEmotionHistory(){return[...this.emotionHistory]}clearHistory(){this.emotionHistory=[],this.stateHistory=[],this.interactionCount=0,this.lastInteractionTime=Date.now()}getStatistics(){const t={};let n=0;Object.values(h).forEach(i=>{t[i]=0}),this.emotionHistory.forEach(i=>{t[i.emotion]++,n+=i.intensity});const a=this.emotionHistory.length>0?this.emotionHistory[this.emotionHistory.length-1].timestamp:0;return{totalInteractions:this.interactionCount,emotionDistribution:t,averageEmotionIntensity:this.emotionHistory.length>0?n/this.emotionHistory.length:0,lastEmotionChange:a}}}class Fm{constructor(t){this.plugins=[],this.baseModel=new _u(t)}registerPlugin(t){this.plugins.push(t),console.log(`🔌 AIEmotionDriver: 注册插件，当前插件数: ${this.plugins.length}`)}removePlugin(t){const n=this.plugins.indexOf(t);n>-1&&(this.plugins.splice(n,1),console.log(`🔌 AIEmotionDriver: 移除插件，当前插件数: ${this.plugins.length}`))}decideEmotion(t){const n=this.baseModel.decideEmotion(t);if(this.plugins.length===0)return n;try{const a={baseEmotion:n,state:t.state,context:t.context,history:t.history,timestamp:Date.now()},i=this.plugins[0].inferEmotion(a);return console.log(`🔌 AIEmotionDriver: 插件推断 ${n} → ${i}`),i}catch(a){return console.warn("⚠️ AIEmotionDriver: 插件推断失败，使用基础模型",a),n}}getStatistics(){return this.baseModel.getStatistics()}getEmotionHistory(){return this.baseModel.getEmotionHistory()}clearHistory(){this.baseModel.clearHistory()}}class Vh{static createRuleBased(t){return new _u(t)}static createPluginBased(t){return new Fm(t)}static createDefault(){return new _u}}Vh.createDefault();var Cn=(e=>(e.Inactive="inactive",e.Low="low",e.Medium="medium",e.High="high",e.Burst="burst",e))(Cn||{});function Wm(){const e=new Date().getHours();return e>=6&&e<12?"morning":e>=12&&e<18?"afternoon":e>=18&&e<22?"evening":"night"}class Pm{constructor(t){this.emotionRules=new Map,this.moodFactors={timeOfDay:1,userInteraction:1,taskSuccess:1,idleTime:1},this.emotionLogs=[],this.rhythmContextCallbacks=new Set,this.currentPetState=v.Idle,this.stateChangeTime=Date.now(),this.lastInteractionTime=Date.now(),this.interactionCount=0,this.currentContext={currentEmotion:h.Calm,intensity:.5,duration:0,triggers:[],history:[]},this.aiEmotionDriver=t||Vh.createDefault(),this.initializeEmotionRules(),console.log("🎭 EmotionEngine 初始化完成，集成 AIEmotionDriver")}initializeEmotionRules(){this.emotionRules.set("success_task",{targetEmotion:h.Happy,intensityChange:.3,duration:3e4,triggers:["task_completed","positive_feedback","achievement"]}),this.emotionRules.set("new_interaction",{targetEmotion:h.Curious,intensityChange:.4,duration:15e3,triggers:["first_time_command","unknown_input","exploration"]}),this.emotionRules.set("frequent_use",{targetEmotion:h.Excited,intensityChange:.5,duration:45e3,triggers:["rapid_interactions","complex_task","multi_plugin_use"]}),this.emotionRules.set("idle_period",{targetEmotion:h.Sleepy,intensityChange:.2,duration:12e4,triggers:["long_idle","night_time","low_activity"]}),this.emotionRules.set("work_mode",{targetEmotion:h.Focused,intensityChange:.6,duration:6e4,triggers:["work_related_task","screenshot","note_taking"]}),this.emotionRules.set("default_calm",{targetEmotion:h.Calm,intensityChange:-.1,duration:1e4,triggers:["emotion_decay","neutral_interaction"]})}analyzeInputEmotion(t){const n=t.toLowerCase(),a=["开心","高兴","棒","好","喜欢","爱","太好了","完美","great","awesome","love","happy","excited"],i=["难过","生气","烦","讨厌","糟糕","失败","不行","sad","angry","hate","terrible","bad"],l=["哇","太棒了","厉害","惊喜","激动","wow","amazing","incredible","fantastic"],s=["好的","明白","了解","谢谢","okay","thanks","understood","alright"];let u=0,o=0,c=0,m=0;a.forEach(w=>{n.includes(w)&&(u+=1)}),i.forEach(w=>{n.includes(w)&&(o+=1)}),l.forEach(w=>{n.includes(w)&&(c+=2)}),s.forEach(w=>{n.includes(w)&&(m+=1)});const p=(t.match(/[！!]/g)||[]).length,r=(t.match(/[？?]/g)||[]).length;c+=p*.5;let g=h.Calm,T=.3,x="neutral";return c>1?(g=h.Excited,T=Math.min(.8+c*.1,1),x="positive"):u>o&&u>0?(g=h.Happy,T=Math.min(.5+u*.15,1),x="positive"):o>u&&o>0?(g=h.Calm,T=Math.min(.4+o*.1,.8),x="negative"):r>0?(g=h.Curious,T=Math.min(.4+r*.2,.9),x="neutral"):m>0&&(g=h.Calm,T=.3,x="neutral"),{emotion:g,intensity:T,sentiment:x}}updateEmotionFromIntent(t){var i;const n=[];switch(t.type){case"screenshot":case"note":n.push("work_related_task"),this.applyEmotionRule("work_mode",n);break;case"chat":t.confidence>.8&&(n.push("positive_interaction"),this.applyEmotionRule("new_interaction",n));break;case"help":n.push("help_request"),this.applyEmotionRule("new_interaction",n);break;case"emotion":const l=(i=t.parameters)==null?void 0:i.emotionType;l&&this.setEmotion(this.mapUserEmotionToPetEmotion(l),.6,2e4);break}const a=this.analyzeInputEmotion(t.rawInput);a.intensity>.5&&this.blendEmotion(a.emotion,a.intensity*.3,15e3)}mapUserEmotionToPetEmotion(t){switch(t){case"happy":return h.Happy;case"sad":return h.Calm;case"angry":return h.Calm;case"tired":return h.Sleepy;default:return h.Curious}}applyEmotionRule(t,n){const a=this.emotionRules.get(t);!a||!a.triggers.some(l=>n.includes(l))||this.setEmotion(a.targetEmotion,a.intensityChange,a.duration)}setEmotion(t,n,a){this.currentContext.history.push({emotion:this.currentContext.currentEmotion,timestamp:Date.now(),cause:`transition_to_${t}`}),this.currentContext.history.length>50&&(this.currentContext.history=this.currentContext.history.slice(-30)),this.currentContext.currentEmotion=t,this.currentContext.intensity=Math.max(0,Math.min(1,n)),this.currentContext.duration=a,this.currentContext.triggers=[],console.log(`🎭 Emotion changed to: ${t} (intensity: ${this.currentContext.intensity.toFixed(2)})`),this.notifyRhythmContextUpdate()}blendEmotion(t,n,a){t===this.currentContext.currentEmotion?(this.currentContext.intensity=Math.min(1,this.currentContext.intensity+n*.5),this.currentContext.duration=Math.max(this.currentContext.duration,a)):n>this.currentContext.intensity*.8?this.setEmotion(t,n,a):this.currentContext.intensity=Math.max(.1,this.currentContext.intensity-n*.2)}updateEmotionFromTaskResult(t,n){t?(this.moodFactors.taskSuccess=Math.min(1.2,this.moodFactors.taskSuccess+.1),this.applyEmotionRule("success_task",["task_completed",n])):(this.moodFactors.taskSuccess=Math.max(.8,this.moodFactors.taskSuccess-.1),this.setEmotion(h.Calm,.4,2e4))}updateEmotionFromTime(){const t=new Date().getHours();h.Calm;let n=1;t>=6&&t<9?(h.Happy,n=1.1):t>=9&&t<18?(h.Focused,n=1):t>=18&&t<22?(h.Calm,n=.9):(h.Sleepy,n=.7),this.moodFactors.timeOfDay=n,(t>=22||t<6)&&this.currentContext.currentEmotion!==h.Sleepy&&this.blendEmotion(h.Sleepy,.2,6e4)}tick(t){this.currentContext.duration-=t,this.currentContext.duration<=0&&(this.currentContext.intensity=Math.max(.1,this.currentContext.intensity-.02),this.currentContext.intensity<.3&&this.currentContext.currentEmotion!==h.Calm&&this.setEmotion(h.Calm,.3,3e4),this.currentContext.duration=5e3),this.updateEmotionFromTime()}getCurrentEmotion(){return{...this.currentContext}}recommendStateTransition(t){const{currentEmotion:n,intensity:a}=this.currentContext;switch(n){case h.Sleepy:if(a>.6&&t!==v.Idle)return v.Idle;break;case h.Excited:if(a>.7&&t===v.Idle)return v.Hover;break;case h.Focused:if(t===v.Awaken)return null;break}return null}getEmotionDisplay(){const{currentEmotion:t,intensity:n}=this.currentContext;switch(t){case h.Happy:return{animation:n>.7?"bounce":"gentle_bob",color:"#FFD700",particle:"sparkles",sound:"happy_chime"};case h.Excited:return{animation:"vibrate",color:"#FF6B6B",particle:"energy_burst",sound:"excited_beep"};case h.Curious:return{animation:"tilt",color:"#4ECDC4",particle:"question_marks",sound:"curious_note"};case h.Focused:return{animation:"steady_glow",color:"#45B7D1",particle:"focus_rings",sound:"focus_hum"};case h.Sleepy:return{animation:"slow_breathing",color:"#9B59B6",particle:"zzz",sound:"sleepy_yawn"};case h.Calm:default:return{animation:"float",color:"#95E1D3",particle:"gentle_glow",sound:"calm_ambient"}}}updateEmotionByState(t,n){try{const a=this.aiEmotionDriver.decideEmotion({state:t,context:n,history:this.emotionLogs});a!==this.currentContext.currentEmotion&&(console.log(`🎭 EmotionEngine: 状态 ${t} 触发情绪变化 ${this.currentContext.currentEmotion} → ${a}`),this.setEmotion(a,.7,3e4),this.recordEmotionLog(a,t,n,`state_update_${t}`))}catch(a){console.error("❌ EmotionEngine: AI情绪推断失败",a)}}recordEmotionLog(t,n,a,i){const l={timestamp:Date.now(),emotion:t,state:n,intensity:this.currentContext.intensity,context:a,trigger:i};this.emotionLogs.push(l),this.emotionLogs.length>100&&(this.emotionLogs=this.emotionLogs.slice(-50))}getEmotionStatistics(){var t,n;return{aiDriverStats:((n=(t=this.aiEmotionDriver).getStatistics)==null?void 0:n.call(t))||{},emotionLogs:[...this.emotionLogs],currentEmotion:this.currentContext.currentEmotion,emotionHistory:[...this.currentContext.history]}}setAIEmotionDriver(t){this.aiEmotionDriver=t,console.log("🎭 EmotionEngine: 更新 AI 情绪驱动器")}onRhythmContextUpdate(t){this.rhythmContextCallbacks.add(t),console.log(`🎭 EmotionEngine: 注册节奏上下文回调，当前回调数: ${this.rhythmContextCallbacks.size}`)}offRhythmContextUpdate(t){this.rhythmContextCallbacks.delete(t)}updatePetState(t){t!==this.currentPetState&&(this.currentPetState=t,this.stateChangeTime=Date.now(),this.interactionCount++,this.lastInteractionTime=Date.now(),this.notifyRhythmContextUpdate(),console.log(`🎭 EmotionEngine: 宠物状态更新 ${this.currentPetState}，交互计数: ${this.interactionCount}`))}notifyRhythmContextUpdate(){const t=Date.now(),n={currentEmotion:this.currentContext.currentEmotion,emotionIntensity:this.currentContext.intensity,emotionDuration:t-(this.currentContext.duration||0),currentState:this.currentPetState,stateDuration:t-this.stateChangeTime,timeOfDay:Wm(),timestamp:t,userStats:{totalInteractions:this.interactionCount,averageInterval:this.calculateAverageInterval(),recentFrequency:this.calculateRecentFrequency(),continuousIdleTime:t-this.lastInteractionTime,lastInteractionTime:this.lastInteractionTime,interactionPattern:this.determineInteractionPattern()},activityLevel:this.determineActivityLevel(),metadata:{source:"emotion_engine",emotionHistory:this.currentContext.history.slice(-5)}};this.rhythmContextCallbacks.forEach(a=>{try{a(n)}catch(i){console.error("🎭 EmotionEngine: 节奏上下文回调执行错误:",i)}})}calculateAverageInterval(){return this.interactionCount<=1?6e4:(Date.now()-this.stateChangeTime)/(this.interactionCount-1)}calculateRecentFrequency(){const t=Date.now()-3e5;return this.lastInteractionTime>t?Math.min(this.interactionCount,5):0}determineInteractionPattern(){const t=this.calculateRecentFrequency();return Date.now()-this.lastInteractionTime>5*60*1e3?"idle":t>10?"burst":t>2?"steady":"sparse"}determineActivityLevel(){const t=this.calculateRecentFrequency();return Date.now()-this.lastInteractionTime>10*60*1e3?Cn.Inactive:t>10?Cn.Burst:t>5?Cn.High:t>2?Cn.Medium:Cn.Low}triggerRhythmContextUpdate(){this.notifyRhythmContextUpdate()}}class ty{constructor(t=1e3){this.memoryStore=new Map,this.indexByType=new Map,this.indexByTag=new Map,this.conversationContext=[],this.userPreferences={},this.behaviorPatterns=[],this.memoryLimit=t,this.initializeIndexes()}initializeIndexes(){["conversation","behavior","preference","context"].forEach(n=>{this.indexByType.set(n,new Set)})}store(t){var i;const n=this.generateId(),a={id:n,timestamp:Date.now(),...t};return this.memoryStore.set(n,a),(i=this.indexByType.get(t.type))==null||i.add(n),t.tags.forEach(l=>{this.indexByTag.has(l)||this.indexByTag.set(l,new Set),this.indexByTag.get(l).add(n)}),this.enforceMemoryLimit(),console.log(`💾 Memory stored: ${t.type} (${n})`),n}recordConversation(t,n,a,i,l){const s={id:this.generateId(),userInput:t,intent:n.type,intentConfidence:n.confidence,response:a,emotion:i,success:l,timestamp:Date.now()};return this.conversationContext.push(s),this.conversationContext.length>50&&(this.conversationContext=this.conversationContext.slice(-30)),this.store({type:"conversation",content:{userInput:t,intent:n.type,response:a,emotion:i,success:l},importance:this.calculateConversationImportance(n,l),tags:["conversation",n.type,i,l?"success":"failure"]})}recordBehavior(t,n,a=1){const i=this.behaviorPatterns.find(l=>l.action===t&&JSON.stringify(l.context)===JSON.stringify(n));if(i){i.frequency+=a,i.lastExecuted=Date.now();const l=i.memoryId,s=this.memoryStore.get(l);return s&&(s.content={...s.content,frequency:i.frequency,lastExecuted:i.lastExecuted},s.importance=this.calculateBehaviorImportance(i.frequency),s.timestamp=Date.now()),l}else{const l={action:t,context:n,frequency:a,firstExecuted:Date.now(),lastExecuted:Date.now(),memoryId:""},s=this.store({type:"behavior",content:{action:t,context:n,frequency:a,firstExecuted:l.firstExecuted,lastExecuted:l.lastExecuted},importance:this.calculateBehaviorImportance(a),tags:["behavior",t,...this.extractContextTags(n)]});return l.memoryId=s,this.behaviorPatterns.push(l),s}}recordPreference(t,n,a,i=1){return this.userPreferences[t]||(this.userPreferences[t]={}),this.userPreferences[t][n]={value:a,confidence:i,updatedAt:Date.now()},this.store({type:"preference",content:{category:t,key:n,value:a,confidence:i},importance:8,tags:["preference",t,n]})}retrieve(t){let n=[];if(t.type){const a=this.indexByType.get(t.type)||new Set;n=Array.from(a).map(i=>this.memoryStore.get(i)).filter(Boolean)}else n=Array.from(this.memoryStore.values());return t.tags&&t.tags.length>0&&(n=n.filter(a=>t.tags.some(i=>a.tags.includes(i)))),t.timeRange&&(n=n.filter(a=>a.timestamp>=t.timeRange.start&&a.timestamp<=t.timeRange.end)),t.minImportance!==void 0&&(n=n.filter(a=>a.importance>=t.minImportance)),n.sort((a,i)=>Math.abs(a.importance-i.importance)>1?i.importance-a.importance:i.timestamp-a.timestamp),t.limit&&(n=n.slice(0,t.limit)),n}getRecentConversations(t=10){return this.conversationContext.slice(-t)}getUserPreference(t,n){var a,i;return(i=(a=this.userPreferences[t])==null?void 0:a[n])==null?void 0:i.value}getAllPreferences(){return{...this.userPreferences}}getBehaviorPatterns(t){return t?this.behaviorPatterns.filter(n=>n.action===t):[...this.behaviorPatterns]}getMostFrequentActions(t=5){const n=new Map;return this.behaviorPatterns.forEach(a=>{const i=n.get(a.action)||0;n.set(a.action,i+a.frequency)}),Array.from(n.entries()).map(([a,i])=>({action:a,frequency:i})).sort((a,i)=>i.frequency-a.frequency).slice(0,t)}analyzeUsagePatterns(){const t=new Array(24).fill(0),n=new Map,a=new Map;this.conversationContext.forEach(c=>{const m=new Date(c.timestamp).getHours();t[m]++;const p=n.get(c.intent)||0;n.set(c.intent,p+1);const r=a.get(c.emotion)||0;a.set(c.emotion,r+1)});const i=Math.max(...t),l=t.map((c,m)=>({hour:m,count:c})).filter(({count:c})=>c>i*.7).map(({hour:c})=>c),s=Array.from(n.entries()).sort((c,m)=>m[1]-c[1]).slice(0,5).map(([c])=>c),u=Array.from(a.entries()).sort((c,m)=>m[1]-c[1]).slice(0,3).map(([c])=>c),o=this.conversationContext.length>0?this.conversationContext.length*2:0;return{peakHours:l,commonIntents:s,preferredEmotions:u,avgSessionLength:o}}cleanup(){const t=Date.now(),n=30*24*60*60*1e3,a=[];this.memoryStore.forEach((i,l)=>{const s=i.importance>7?n:n/2;t-i.timestamp>s&&a.push(l)}),a.forEach(i=>this.deleteMemory(i)),console.log(`🧹 Cleaned up ${a.length} expired memories`)}deleteMemory(t){var a;const n=this.memoryStore.get(t);n&&(this.memoryStore.delete(t),(a=this.indexByType.get(n.type))==null||a.delete(t),n.tags.forEach(i=>{var l;(l=this.indexByTag.get(i))==null||l.delete(t)}),this.behaviorPatterns=this.behaviorPatterns.filter(i=>i.memoryId!==t))}enforceMemoryLimit(){if(this.memoryStore.size<=this.memoryLimit)return;Array.from(this.memoryStore.values()).sort((a,i)=>Math.abs(a.importance-i.importance)>1?a.importance-i.importance:a.timestamp-i.timestamp).slice(0,this.memoryStore.size-this.memoryLimit).forEach(a=>this.deleteMemory(a.id))}calculateConversationImportance(t,n){let a=5;switch(a+=t.confidence*2,n?a+=1:a+=2,t.type){case"emotion":a+=2;break;case"settings":a+=3;break;case"help":a+=1;break}return Math.max(1,Math.min(10,a))}calculateBehaviorImportance(t){return t>=20?9:t>=10?7:t>=5?5:t>=2?3:1}extractContextTags(t){const n=[];return typeof t=="object"&&t!==null&&Object.keys(t).forEach(a=>{n.push(a),typeof t[a]=="string"&&n.push(t[a])}),n.filter(a=>a.length>0&&a.length<20)}generateId(){return`mem_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getMemoryStats(){const t={};let n=Date.now(),a=0;return this.memoryStore.forEach(i=>{t[i.type]=(t[i.type]||0)+1,n=Math.min(n,i.timestamp),a=Math.max(a,i.timestamp)}),{totalMemories:this.memoryStore.size,memoryLimit:this.memoryLimit,typeBreakdown:t,oldestMemory:n,newestMemory:a}}}class ha{log(t){console.log(`[策略-${this.name}] ${t}`)}}class ey extends ha{constructor(){super(...arguments),this.name="IdleState",this.description="空闲状态下的行为策略",this.priority=3}canApply(t){return t.state===v.Idle}generateBehaviors(t){const n=[];switch(t.emotion){case h.Happy:n.push({type:L.IDLE_ANIMATION,priority:3,duration:2e3,animation:"happy_idle",message:"😊 神宠正在开心地等待..."}),n.push({type:L.EMOTIONAL_EXPRESSION,priority:2,duration:1500,message:"✨ 散发着愉悦的光芒"});break;case h.Excited:n.push({type:L.IDLE_ANIMATION,priority:4,duration:1e3,animation:"excited_idle",message:"🎉 神宠兴奋地期待着互动！"}),n.push({type:L.USER_PROMPT,priority:3,delay:2e3,message:"💫 看起来有什么有趣的事情要发生了！"});break;case h.Curious:n.push({type:L.IDLE_ANIMATION,priority:3,duration:2500,animation:"curious_idle",message:"🔍 神宠好奇地观察着周围..."});break;case h.Sleepy:n.push({type:L.IDLE_ANIMATION,priority:2,duration:4e3,animation:"sleepy_idle",message:"😴 神宠正在打瞌睡..."});break;case h.Calm:default:n.push({type:L.IDLE_ANIMATION,priority:2,duration:3e3,animation:"calm_idle",message:"😌 神宠正在静静地冥想..."});break}return n}}class ny extends ha{constructor(){super(...arguments),this.name="HoverState",this.description="悬停状态下的交互反馈策略",this.priority=5}canApply(t){return t.state===v.Hover}generateBehaviors(t){const n=[];switch(t.emotion){case h.Happy:n.push({type:L.HOVER_FEEDBACK,priority:5,duration:800,animation:"happy_hover",message:"😊 神宠感受到了你的关注！"});break;case h.Excited:n.push({type:L.HOVER_FEEDBACK,priority:6,duration:600,animation:"excited_hover",message:"🎉 神宠兴奋地迎接你的互动！"}),n.push({type:L.USER_PROMPT,priority:4,delay:1e3,message:"✨ 点击我来开始对话吧！"});break;case h.Curious:n.push({type:L.HOVER_FEEDBACK,priority:4,duration:1e3,animation:"curious_hover",message:"🔍 神宠好奇地看着你..."});break;case h.Sleepy:n.push({type:L.HOVER_FEEDBACK,priority:2,duration:1500,animation:"sleepy_hover",message:"😴 神宠迷迷糊糊地注意到了你"});break;case h.Calm:default:n.push({type:L.HOVER_FEEDBACK,priority:3,duration:1200,animation:"calm_hover",message:"😌 神宠平静地回应你的注视"});break}return n}}class ay extends ha{constructor(){super(...arguments),this.name="AwakenState",this.description="唤醒状态下的激活响应策略",this.priority=7}canApply(t){return t.state===v.Awaken}generateBehaviors(t){const n=[];switch(t.emotion){case h.Happy:n.push({type:L.AWAKEN_RESPONSE,priority:7,duration:1e3,animation:"happy_awaken",message:"😊 神宠开心地醒来了！"}),n.push({type:L.PLUGIN_TRIGGER,priority:6,delay:500,message:"🔌 启动互动插件...",metadata:{triggerType:"happy_awaken"}});break;case h.Excited:n.push({type:L.AWAKEN_RESPONSE,priority:8,duration:800,animation:"excited_awaken",message:"🎉 神宠兴奋地跳起来！"}),n.push({type:L.PLUGIN_TRIGGER,priority:7,delay:200,message:"⚡ 快速启动所有功能！",metadata:{triggerType:"excited_awaken"}});break;case h.Curious:n.push({type:L.AWAKEN_RESPONSE,priority:6,duration:1200,animation:"curious_awaken",message:"🔍 神宠好奇地被唤醒"}),n.push({type:L.PLUGIN_TRIGGER,priority:5,delay:800,message:"🔍 启动探索插件...",pluginId:"screenshot",metadata:{triggerType:"curious_awaken"}});break;case h.Sleepy:n.push({type:L.AWAKEN_RESPONSE,priority:3,duration:2e3,animation:"sleepy_awaken",message:"😴 神宠慢慢地醒来..."});break;case h.Calm:default:n.push({type:L.AWAKEN_RESPONSE,priority:5,duration:1500,animation:"calm_awaken",message:"😌 神宠平静地被唤醒"});break}return n}}class iy extends ha{constructor(){super(...arguments),this.name="ControlState",this.description="控制状态下的功能激活策略",this.priority=8}canApply(t){return t.state===v.Control}generateBehaviors(t){const n=[];switch(t.emotion){case h.Happy:n.push({type:L.CONTROL_ACTIVATION,priority:8,duration:1200,animation:"happy_control",message:"😊 神宠开心地进入控制模式！"}),n.push({type:L.PLUGIN_TRIGGER,priority:7,delay:300,message:"🎮 启动控制面板...",metadata:{triggerType:"happy_control"}});break;case h.Excited:n.push({type:L.CONTROL_ACTIVATION,priority:9,duration:1e3,animation:"excited_control",message:"🎉 神宠兴奋地进入超级控制模式！"}),n.push({type:L.PLUGIN_TRIGGER,priority:8,delay:100,message:"🚀 所有系统全速启动！",metadata:{triggerType:"excited_control"}});break;case h.Curious:n.push({type:L.CONTROL_ACTIVATION,priority:7,duration:1300,animation:"curious_control",message:"🔍 神宠好奇地探索控制选项"});break;case h.Focused:n.push({type:L.CONTROL_ACTIVATION,priority:8,duration:1e3,animation:"focused_control",message:"🎯 神宠专注地进入工作模式"}),n.push({type:L.PLUGIN_TRIGGER,priority:7,delay:200,message:"⚡ 启动专业工具...",metadata:{triggerType:"focused_control"}});break;case h.Sleepy:n.push({type:L.CONTROL_ACTIVATION,priority:4,duration:2e3,animation:"sleepy_control",message:"😴 神宠困倦地进入控制模式..."});break;case h.Calm:default:n.push({type:L.CONTROL_ACTIVATION,priority:6,duration:1500,animation:"calm_control",message:"😌 神宠平静地进入控制模式"});break}return n}}class ly extends ha{constructor(){super(...arguments),this.name="EmotionDriven",this.description="基于情绪强度的补充行为策略",this.priority=2}canApply(t){var n;return((n=t.emotionContext)==null?void 0:n.intensity)!==void 0&&t.emotionContext.intensity>.7}generateBehaviors(t){var i;const n=[],a=((i=t.emotionContext)==null?void 0:i.intensity)||.5;return a>.8&&n.push({type:L.EMOTIONAL_EXPRESSION,priority:9,duration:Math.floor(a*2e3),message:`💫 神宠的${t.emotion}情绪非常强烈！`,metadata:{emotionIntensity:a,expressionLevel:"intense"}}),t.emotion===h.Excited&&a>.7&&n.push({type:L.ANIMATION_SEQUENCE,priority:6,duration:3e3,animation:"excitement_burst",message:"🎆 神宠兴奋得快要飞起来了！"}),n}}class sy extends ha{constructor(){super(...arguments),this.name="TimeAware",this.description="基于时间和用户活动的适应性策略",this.priority=1}canApply(t){var n;return((n=t.environmentFactors)==null?void 0:n.timeOfDay)!==void 0}generateBehaviors(t){var i;const n=[];switch((i=t.environmentFactors)==null?void 0:i.timeOfDay){case"morning":t.state===v.Idle&&n.push({type:L.USER_PROMPT,priority:4,delay:5e3,message:"🌅 早上好！准备开始新的一天了吗？"});break;case"night":t.emotion!==h.Sleepy&&n.push({type:L.MOOD_TRANSITION,priority:3,duration:2e3,message:"🌙 夜深了，神宠开始感到困倦...",metadata:{targetEmotion:h.Sleepy}});break}return n}}class uy{constructor(){this.strategies=[],this.initializeDefaultStrategies()}initializeDefaultStrategies(){this.strategies=[new ey,new ny,new ay,new iy,new ly,new sy],this.strategies.sort((t,n)=>n.priority-t.priority),console.log("🎯 策略管理器初始化完成，加载策略：",this.strategies.map(t=>t.name))}registerStrategy(t){this.strategies.push(t),this.strategies.sort((n,a)=>a.priority-n.priority),console.log(`🎯 注册新策略: ${t.name} (优先级: ${t.priority})`)}removeStrategy(t){const n=this.strategies.findIndex(a=>a.name===t);n!==-1&&(this.strategies.splice(n,1),console.log(`🎯 移除策略: ${t}`))}generateBehaviors(t){const n=[],a=[];for(const i of this.strategies)if(i.canApply(t)){const l=i.generateBehaviors(t);n.push(...l),a.push(i.name)}return console.log(`🎯 应用策略: [${a.join(", ")}]，生成行为数量: ${n.length}`),this.prioritizeAndDeduplicateBehaviors(n)}prioritizeAndDeduplicateBehaviors(t){t.sort((a,i)=>i.priority-a.priority);const n=new Map;for(const a of t)(!n.has(a.type)||n.get(a.type).priority<a.priority)&&n.set(a.type,a);return Array.from(n.values())}getStrategies(){return this.strategies.map(t=>({name:t.name,description:t.description,priority:t.priority}))}}const jn=class jn{constructor(t="steady"){this.tickCallbacks=new Set,this.stateListeners=new Set,this.timerId=null,this.lastTickTime=0,this.state={isActive:!1,currentMode:t,currentInterval:jn.DEFAULT_CONFIGS[t].baseInterval,lastTickTime:0,tickCount:0,config:{...jn.DEFAULT_CONFIGS[t]}},console.log(`[RhythmManager] 初始化完成，默认模式: ${t}`)}setRhythmMode(t,n){console.log(`[RhythmManager] 切换节奏模式: ${this.state.currentMode} → ${t}`);const i={...jn.DEFAULT_CONFIGS[t],...n},l=this.state.isActive;l&&this.stop(),this.state.currentMode=t,this.state.config=i,this.state.currentInterval=i.baseInterval,this.state.tickCount=0,this.stateListeners.forEach(s=>{try{s(t,i)}catch(u){console.error("[RhythmManager] 状态监听器错误:",u)}}),l&&this.start()}tick(t){this.tickCallbacks.add(t),console.log(`[RhythmManager] 注册节拍回调，当前回调数: ${this.tickCallbacks.size}`)}start(){if(this.state.isActive){console.warn("[RhythmManager] 节拍器已在运行");return}console.log(`[RhythmManager] 启动节拍器，模式: ${this.state.currentMode}`),this.state.isActive=!0,this.lastTickTime=Date.now(),this.scheduleNextTick()}stop(){this.state.isActive&&(console.log("[RhythmManager] 停止节拍器"),this.state.isActive=!1,this.timerId&&(clearTimeout(this.timerId),this.timerId=null))}pause(){this.state.isActive&&(console.log("[RhythmManager] 暂停节拍器"),this.stop())}resume(){this.state.isActive||(console.log("[RhythmManager] 恢复节拍器"),this.start())}getCurrentState(){return{...this.state}}isActive(){return this.state.isActive}getCurrentMode(){return this.state.currentMode}onRhythmChange(t){this.stateListeners.add(t)}offRhythmChange(t){this.stateListeners.delete(t)}syncWithExternal(t,n){console.log(`[RhythmManager] 与外部源同步: ${t}, 间隔: ${n}ms`),this.setRhythmMode("sync",{syncSource:t,baseInterval:n,variation:.05})}adaptToEmotion(t){if(this.state.currentMode!=="adaptive")return;const n=this.state.config.baseInterval,a=Math.max(.3,1-t*.7),i=Math.round(n*a);console.log(`[RhythmManager] 适应情绪强度: ${t}, 间隔调整: ${n} → ${i}ms`),this.state.currentInterval=i}calculateNextInterval(){const t=this.state.config;switch(t.mode){case"steady":return t.baseInterval+(Math.random()-.5)*t.baseInterval*t.variation;case"pulse":const n=this.state.tickCount%4/4*Math.PI*2,a=.8+.4*Math.sin(n);return t.baseInterval*a;case"sequence":if(t.sequence&&t.sequence.length>0){const i=this.state.tickCount%t.sequence.length;return t.sequence[i]}return t.baseInterval;case"adaptive":return this.state.currentInterval+(Math.random()-.5)*this.state.currentInterval*t.variation;case"sync":return t.baseInterval;default:return t.baseInterval}}scheduleNextTick(){if(!this.state.isActive)return;const t=Math.max(50,this.calculateNextInterval());this.timerId=setTimeout(()=>{this.executeTick(),this.scheduleNextTick()},t)}executeTick(){const t=Date.now(),n=t-this.lastTickTime;this.state.lastTickTime=t,this.state.tickCount++,this.lastTickTime=t,this.tickCallbacks.forEach(a=>{try{a(t,n)}catch(i){console.error("[RhythmManager] 节拍回调执行错误:",i)}})}dispose(){this.stop(),this.tickCallbacks.clear(),this.stateListeners.clear(),console.log("[RhythmManager] 已清理资源")}};jn.DEFAULT_CONFIGS={steady:{mode:"steady",baseInterval:1e3,intensity:"medium",variation:.1},pulse:{mode:"pulse",baseInterval:400,intensity:"medium",variation:.3},sequence:{mode:"sequence",baseInterval:500,intensity:"medium",variation:.2,sequence:[300,600,200,800,400]},adaptive:{mode:"adaptive",baseInterval:600,intensity:"medium",variation:.4},sync:{mode:"sync",baseInterval:1e3,intensity:"medium",variation:.1}};let Tu=jn;const oy={ADAPTIVE:"adaptive"},ry={highFrequencyThreshold:3,lowFrequencyThreshold:1,idleTimeThreshold:15,adaptiveTimeThreshold:30,emotionHistoryWindow:10,rhythmModeConfig:{pulse:{priority:4,conditions:["excited_high_frequency","burst_interaction"]},sequence:{priority:3,conditions:["calm_idle","sleepy_long_idle"]},adaptive:{priority:2,conditions:["focused_moderate","curious_stable"]},steady:{priority:1,conditions:["default_fallback"]},sync:{priority:5,conditions:["special_sync_mode"]}}};class cy{constructor(t){this.emotionHistory=[],this.interactionTimestamps=[],this.currentRhythm="steady",this.lastUpdateTime=0,this.config={...ry,...t},console.log("🎵 [RhythmAdaptationEngine] 节奏适配引擎初始化完成")}updateRhythmByContext(t,n,a,i=!0){const l=this.calculateInteractionStats(a),s=this.determineRhythmMode(t,n,l,a);i&&this.updateInteractionHistory(a),this.updateEmotionHistory(n),s!==this.currentRhythm&&(console.log(`🎵 [RhythmAdaptationEngine] 节奏切换: ${this.currentRhythm} → ${s}`),this.currentRhythm=s),this.lastUpdateTime=a}getCurrentRhythm(){return this.currentRhythm}updateInteractionHistory(t){this.interactionTimestamps.push(t);const n=t-2*60*1e3;this.interactionTimestamps=this.interactionTimestamps.filter(a=>a>n)}updateEmotionHistory(t){this.emotionHistory.push(t),this.emotionHistory.length>this.config.emotionHistoryWindow&&this.emotionHistory.shift()}calculateInteractionStats(t){const n=t-6e4,a=this.interactionTimestamps.filter(u=>u>n),i=this.interactionTimestamps.length>0?this.interactionTimestamps[this.interactionTimestamps.length-1]:t-60*1e3,l=(t-i)/1e3;return{recentInteractionRate:a.length,idleTime:l,lastInteractionTime:i}}determineRhythmMode(t,n,a,i){return a.recentInteractionRate>=this.config.highFrequencyThreshold*2||n===h.Excited&&a.recentInteractionRate>=this.config.highFrequencyThreshold?"pulse":n===h.Focused||n===h.Curious&&a.recentInteractionRate>=this.config.lowFrequencyThreshold&&a.recentInteractionRate<=this.config.highFrequencyThreshold||n===h.Happy&&a.recentInteractionRate>=this.config.lowFrequencyThreshold?"adaptive":n===h.Sleepy&&this.interactionTimestamps.length>0&&a.idleTime>this.config.idleTimeThreshold/2?"sequence":n===h.Sleepy?"steady":n===h.Calm&&a.idleTime>this.config.idleTimeThreshold?"sequence":"steady"}getStats(){return{emotion:[...this.emotionHistory],interactions:this.interactionTimestamps.length,currentRhythm:this.currentRhythm}}reset(){this.emotionHistory=[],this.interactionTimestamps=[],this.currentRhythm="steady",this.lastUpdateTime=0}destroy(){this.reset()}}function fy(e){return new cy(e)}var L=(e=>(e.IDLE_ANIMATION="idle_animation",e.HOVER_FEEDBACK="hover_feedback",e.AWAKEN_RESPONSE="awaken_response",e.CONTROL_ACTIVATION="control_activation",e.EMOTIONAL_EXPRESSION="emotional_expression",e.MOOD_TRANSITION="mood_transition",e.PLUGIN_TRIGGER="plugin_trigger",e.PLUGIN_CALLBACK="plugin_callback",e.USER_PROMPT="user_prompt",e.SYSTEM_NOTIFICATION="system_notification",e.DELAYED_ACTION="delayed_action",e.ANIMATION_SEQUENCE="animation_sequence",e))(L||{});class hy{constructor(t,n){this.activeBehaviors=new Map,this.behaviorQueue=[],this.scheduledBehaviors=new Map,this.sessionId="",this.lastInteractionTimestamp=Date.now(),this.sessionId=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,this.behaviorRules=this.initializeBehaviorRules(),this.strategyManager=new uy,this.emotionEngine=t,this.pluginRegistry=n,this.rhythmManager=new Tu,this.rhythmAdaptationEngine=fy(),console.log(`🎯 BehaviorScheduler initialized with session: ${this.sessionId}`),t&&console.log("🧠 EmotionEngine integrated"),n&&console.log("🔌 PluginRegistry integrated"),console.log("🎵 RhythmAdaptationEngine integrated"),this.registerRhythmCallbacks()}registerStrategy(t){this.strategyManager.registerStrategy(t)}removeStrategy(t){this.strategyManager.removeStrategy(t)}getStrategies(){return this.strategyManager.getStrategies()}updateLastInteraction(){this.lastInteractionTimestamp=Date.now()}getLastInteractionTime(){return this.lastInteractionTimestamp}getTimeOfDay(){const t=new Date().getHours();return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<22?"evening":"night"}getSystemLoad(){return Math.random()*100}getUserActivity(){const t=Date.now()-this.lastInteractionTimestamp;return t<6e4?"active":t<3e5?"idle":"away"}initializeBehaviorRules(){return{[v.Idle]:{[h.Happy]:[{type:"idle_animation",priority:3,duration:2e3,animation:"happy_idle",message:"😊 神宠正在开心地等待..."},{type:"emotional_expression",priority:2,duration:1500,message:"✨ 散发着愉悦的光芒"}],[h.Calm]:[{type:"idle_animation",priority:2,duration:3e3,animation:"calm_idle",message:"😌 神宠正在静静地冥想..."}],[h.Excited]:[{type:"idle_animation",priority:4,duration:1e3,animation:"excited_idle",message:"🎉 神宠兴奋地期待着互动！"},{type:"user_prompt",priority:3,delay:2e3,message:"💫 看起来有什么有趣的事情要发生了！"}],[h.Curious]:[{type:"idle_animation",priority:3,duration:2500,animation:"curious_idle",message:"🔍 神宠好奇地观察着周围..."}],[h.Sleepy]:[{type:"idle_animation",priority:2,duration:4e3,animation:"sleepy_idle",message:"😴 神宠正在打瞌睡..."}],[h.Focused]:[{type:"idle_animation",priority:2,duration:3e3,animation:"focused_idle",message:"🎯 神宠正在专注地思考..."}]},[v.Hover]:{[h.Happy]:[{type:"hover_feedback",priority:5,duration:800,animation:"happy_hover",message:"😊 神宠感受到了你的关注！"}],[h.Calm]:[{type:"hover_feedback",priority:3,duration:1200,animation:"calm_hover",message:"😌 神宠平静地回应你的注视"}],[h.Excited]:[{type:"hover_feedback",priority:6,duration:600,animation:"excited_hover",message:"🎉 神宠兴奋地迎接你的互动！"},{type:"user_prompt",priority:4,delay:1e3,message:"✨ 点击我来开始对话吧！"}],[h.Curious]:[{type:"hover_feedback",priority:4,duration:1e3,animation:"curious_hover",message:"🔍 神宠好奇地看着你..."}],[h.Sleepy]:[{type:"hover_feedback",priority:2,duration:1500,animation:"sleepy_hover",message:"😴 神宠迷迷糊糊地注意到了你"}],[h.Focused]:[{type:"hover_feedback",priority:3,duration:1e3,animation:"focused_hover",message:"🎯 神宠专注地关注着你"}]},[v.Awaken]:{[h.Happy]:[{type:"awaken_response",priority:7,duration:1e3,animation:"happy_awaken",message:"😊 神宠开心地醒来了！"},{type:"plugin_trigger",priority:6,delay:500,message:"🔌 启动互动插件..."}],[h.Calm]:[{type:"awaken_response",priority:5,duration:1500,animation:"calm_awaken",message:"😌 神宠平静地被唤醒"}],[h.Excited]:[{type:"awaken_response",priority:8,duration:800,animation:"excited_awaken",message:"🎉 神宠兴奋地跳起来！"},{type:"plugin_trigger",priority:7,delay:200,message:"⚡ 快速启动所有功能！"}],[h.Curious]:[{type:"awaken_response",priority:6,duration:1200,animation:"curious_awaken",message:"🔍 神宠好奇地被唤醒"}],[h.Sleepy]:[{type:"awaken_response",priority:3,duration:2e3,animation:"sleepy_awaken",message:"😴 神宠慢慢地醒来..."}],[h.Focused]:[{type:"awaken_response",priority:6,duration:1e3,animation:"focused_awaken",message:"🎯 神宠专注地被激活"}]},[v.Control]:{[h.Happy]:[{type:"control_activation",priority:8,duration:1200,animation:"happy_control",message:"😊 神宠开心地进入控制模式！"},{type:"plugin_trigger",priority:7,delay:300,message:"🎮 启动控制面板..."}],[h.Calm]:[{type:"control_activation",priority:6,duration:1500,animation:"calm_control",message:"😌 神宠平静地进入控制模式"}],[h.Excited]:[{type:"control_activation",priority:9,duration:1e3,animation:"excited_control",message:"🎉 神宠兴奋地进入超级控制模式！"},{type:"plugin_trigger",priority:8,delay:100,message:"🚀 所有系统全速启动！"}],[h.Curious]:[{type:"control_activation",priority:7,duration:1300,animation:"curious_control",message:"🔍 神宠好奇地探索控制选项"}],[h.Sleepy]:[{type:"control_activation",priority:4,duration:2e3,animation:"sleepy_control",message:"😴 神宠困倦地进入控制模式..."}],[h.Focused]:[{type:"control_activation",priority:8,duration:1100,animation:"focused_control",message:"🎯 神宠专注地进入精确控制模式"}]}}}async schedule(t,n,a){var c;const i=Date.now();let l;this.emotionEngine&&typeof this.emotionEngine.getCurrentContext=="function"?l=this.emotionEngine.getCurrentContext():l={currentEmotion:n,intensity:.7,duration:3e4,triggers:["state_change"],history:[]};const s={state:t,emotion:n,emotionContext:l,pluginContext:a,timestamp:i,userPresence:!0,lastInteraction:Date.now()-this.getLastInteractionTime(),environmentFactors:{timeOfDay:this.getTimeOfDay(),systemLoad:this.getSystemLoad(),userActivity:this.getUserActivity()}},u={state:t,emotion:l,timestamp:i,sessionId:this.sessionId,userContext:a};console.log(`🎯 [行为调度] 状态: ${t} | 情绪: ${n} | 强度: ${(c=l.intensity)==null?void 0:c.toFixed(2)} | 会话: ${this.sessionId}`),this.rhythmAdaptationEngine.updateRhythmByContext(t,n,i);const o=this.rhythmAdaptationEngine.getCurrentRhythm();if(this.rhythmManager&&(this.rhythmManager.setRhythmMode(o),this.rhythmManager.isActive())){const m=this.rhythmManager.getCurrentState();console.log(`🎵 [节奏集成] 适配节奏: ${o} | 当前节奏: ${m.currentMode} | 间隔: ${m.currentInterval}ms`),m.currentMode===oy.ADAPTIVE&&this.rhythmManager.adaptToEmotion(l.intensity)}try{const m=this.strategyManager.generateBehaviors(s),p=m.length===0?this.findMatchingBehaviors(t,n,a):[],r=[...m,...p];if(r.length===0)return console.warn(`⚠️ [行为调度] 未找到匹配的行为规则 | 状态: ${t} | 情绪: ${n}`),{success:!1,executedBehaviors:[],duration:Date.now()-i,nextSchedule:this.calculateNextScheduleTime(t,n)};const g=await this.executeBehaviors(r,u),T=Date.now()-i;return console.log(`✅ [行为调度] 调度完成 | 执行了 ${g.length} 个行为 | 耗时: ${T}ms`),{success:!0,executedBehaviors:g,duration:T,nextSchedule:this.calculateNextScheduleTime(t,n)}}catch(m){return console.error("❌ [行为调度] 调度失败:",m),{success:!1,executedBehaviors:[],duration:Date.now()-i,error:m instanceof Error?m.message:String(m)}}}async scheduleLegacy(t,n,a){const i=Date.now(),s={state:t,emotion:{currentEmotion:n,intensity:.7,duration:3e4,triggers:["state_change"],history:[]},timestamp:i,sessionId:this.sessionId,userContext:a};console.log(`🎯 [BehaviorScheduler] 开始调度 | 状态: ${t} | 情绪: ${n} | 会话: ${this.sessionId}`);try{const u=this.findMatchingBehaviors(t,n,a);if(u.length===0)return console.log(`⚠️ [BehaviorScheduler] 未找到匹配的行为规则 | 状态: ${t} | 情绪: ${n}`),{success:!1,executedBehaviors:[],duration:Date.now()-i,nextSchedule:this.calculateNextScheduleTime(t,n)};const o=await this.executeBehaviors(u,s),c=Date.now()-i;return console.log(`✅ [BehaviorScheduler] 调度完成 | 执行了 ${o.length} 个行为 | 耗时: ${c}ms`),{success:!0,executedBehaviors:o,duration:c,nextSchedule:this.calculateNextScheduleTime(t,n)}}catch(u){return console.error("❌ [BehaviorScheduler] 调度失败:",u),{success:!1,executedBehaviors:[],duration:Date.now()-i,error:u instanceof Error?u.message:String(u)}}}findMatchingBehaviors(t,n,a){var l;return(((l=this.behaviorRules[t])==null?void 0:l[n])||[]).sort((s,u)=>u.priority-s.priority)}async executeBehaviors(t,n){const a=[];for(const i of t)try{if(i.delay&&i.delay>0){const l=`${i.type}-${Date.now()}`;console.log(`⏰ [BehaviorScheduler] 延时执行行为: ${i.type} | 延时: ${i.delay}ms`);const s=setTimeout(async()=>{await this.executeBehavior(i,n),this.scheduledBehaviors.delete(l)},i.delay);this.scheduledBehaviors.set(l,s)}else await this.executeBehavior(i,n);a.push(i)}catch(l){console.error("❌ [BehaviorScheduler] 执行行为失败:",i.type,l)}return a}async executeBehavior(t,n){const{state:a,emotion:i}=n;switch(console.log(`🎬 [BehaviorScheduler] 执行行为: ${t.type} | 状态: ${a} | 情绪: ${i.currentEmotion} | 优先级: ${t.priority}`),t.message&&console.log(`💬 [BehaviorScheduler] 行为消息: ${t.message}`),t.type){case"idle_animation":break;case"hover_feedback":break;case"awaken_response":break;case"control_activation":break;case"emotional_expression":break;case"mood_transition":break;case"plugin_trigger":this.pluginRegistry&&t.pluginId;break;case"user_prompt":break;case"system_notification":break;default:console.warn(`⚠️ [BehaviorScheduler] 未知的行为类型: ${t.type}`)}t.duration&&t.duration>0&&await new Promise(l=>setTimeout(l,t.duration))}calculateNextScheduleTime(t,n){let a=5e3;switch(t){case v.Idle:a=1e4;break;case v.Hover:a=3e3;break;case v.Awaken:a=2e3;break;case v.Control:a=1e3;break}switch(n){case h.Excited:a*=.7;break;case h.Calm:a*=1.5;break;case h.Sleepy:a*=2;break}return Date.now()+a}registerRhythmCallbacks(){this.rhythmManager&&(this.rhythmManager.tick((t,n)=>{this.onRhythmTick(t,n)}),this.rhythmManager.onRhythmChange((t,n)=>{console.log(`🎵 [BehaviorScheduler] 节奏模式变化: ${t}, 间隔: ${n.baseInterval}ms`)}),console.log("🕰️ [BehaviorScheduler] 节奏管理器已集成"))}onRhythmTick(t,n){}setRhythmMode(t){this.rhythmManager&&(this.rhythmManager.setRhythmMode(t),console.log(`🎵 [BehaviorScheduler] 切换至节奏模式: ${t}`))}startRhythm(){this.rhythmManager&&(this.rhythmManager.start(),console.log("🎵 [BehaviorScheduler] 节奏管理器已启动"))}stopRhythm(){this.rhythmManager&&(this.rhythmManager.stop(),console.log("🎵 [BehaviorScheduler] 节奏管理器已停止"))}dispose(){this.scheduledBehaviors.forEach(t=>clearTimeout(t)),this.scheduledBehaviors.clear(),this.rhythmManager&&this.rhythmManager.dispose(),console.log("🧹 [BehaviorScheduler] 资源已清理")}destroy(){this.dispose()}getBehaviorStats(){return{totalScheduled:this.scheduledBehaviors.size,activeTimers:this.scheduledBehaviors.size,sessionId:this.sessionId,lastInteraction:this.lastInteractionTimestamp}}addBehaviorRule(t,n,a){this.behaviorRules[t]||(this.behaviorRules[t]={}),this.behaviorRules[t][n]||(this.behaviorRules[t][n]=[]),this.behaviorRules[t][n].push(a),console.log(`📋 [BehaviorScheduler] 添加行为规则: ${t}/${n} → ${a.type}`)}}class dy{constructor(t,n){this.emotionEngine=t,this.pluginRegistry=n,this.behaviorScheduler=new hy(t,n),console.log("🎭 BehaviorSchedulingIntegrator 初始化完成")}async schedule(t,n,a){return this.updateLastInteraction(),await this.behaviorScheduler.schedule(t,n,a)}registerStrategy(t){this.behaviorScheduler.registerStrategy(t),console.log(`🎯 已注册自定义策略: ${t.name}`)}removeStrategy(t){this.behaviorScheduler.removeStrategy(t),console.log(`🗑️ 已移除策略: ${t}`)}getStrategies(){return this.behaviorScheduler.getStrategies()}updateLastInteraction(){this.behaviorScheduler.updateLastInteraction()}async scheduleBatch(t){const n=[];for(const a of t){a.delay&&a.delay>0&&await this.sleep(a.delay);const i=await this.schedule(a.state,a.emotion,a.context);n.push(i)}return n}async scheduleByEmotionChange(t,n,a,i){if(console.log(`😊➡️😔 [情绪变化调度] ${t} -> ${n} | 状态: ${a}`),this.isSignificantEmotionChange(t,n)){const l={currentState:a,emotion:(i==null?void 0:i.emotion)||{currentEmotion:n,intensity:.7,duration:3e4,triggers:["emotion_change"],history:[]},userPreferences:i==null?void 0:i.userPreferences,stateHistory:i==null?void 0:i.stateHistory,interaction:{type:"passive",trigger:"state_change",timestamp:Date.now()}};return await this.schedule(a,n,l)}return await this.schedule(a,n,i)}async scheduleByStateChange(t,n,a,i){console.log(`🔄 [状态变化调度] ${t} -> ${n} | 情绪: ${a}`);const l={currentState:n,emotion:(i==null?void 0:i.emotion)||{currentEmotion:a,intensity:.7,duration:3e4,triggers:["state_change"],history:[]},userPreferences:i==null?void 0:i.userPreferences,stateHistory:i!=null&&i.stateHistory?[...i.stateHistory,t]:[t],interaction:{type:"passive",trigger:"state_change",timestamp:Date.now()}};return await this.schedule(n,a,l)}async scheduleIntelligent(t,n,a){const i={respectCooldown:!0,prioritizeUserInteraction:!0,adaptToEnvironment:!0,...a};return console.log("🧠 [智能调度] 选项:",i),await this.schedule(t,n)}getSchedulingStats(){return{totalSchedules:0,successRate:1,averageExecutionTime:100,lastScheduleTime:Date.now()}}isSignificantEmotionChange(t,n){return t===n?!1:[[h.Calm,h.Excited],[h.Excited,h.Sleepy],[h.Happy,h.Sleepy],[h.Sleepy,h.Excited]].some(([i,l])=>t===i&&n===l||t===l&&n===i)}sleep(t){return new Promise(n=>setTimeout(n,t))}}function Hi(e,t){return new dy(e,t)}class gy{constructor(t={}){this.isInitialized=!1,this.eventListeners=new Map,this.dispatchCount=0,this.lastDispatchTime=0,this.config={enableEventDriven:!0,enableLogging:!0,autoEmotionUpdate:!0,defaultEmotionIntensity:.7,bridgeId:`bridge-${Date.now()}-${Math.random().toString(36).substr(2,6)}`,...t},this.bridgeId=this.config.bridgeId,this.scheduler=Hi(),this.config.enableLogging&&console.log(`🌉 PetBrainBridge 初始化 | 桥接器ID: ${this.bridgeId}`)}async initPetBrainBridge(t,n){if(this.isInitialized){console.warn("⚠️ PetBrainBridge 已经初始化，跳过重复初始化");return}try{t&&this.setEmotionEngine(t),n&&this.setPluginManager(n),this.scheduler=Hi(this.emotionEngine,this.pluginRegistry),this.isInitialized=!0,this.config.enableLogging&&console.log(`✅ PetBrainBridge 初始化完成 | 情绪引擎: ${!!this.emotionEngine} | 插件管理: ${!!this.pluginRegistry}`),this.emitEvent("state_changed",{action:"bridge_initialized",hasEmotionEngine:!!this.emotionEngine,hasPluginRegistry:!!this.pluginRegistry})}catch(a){throw console.error("❌ PetBrainBridge 初始化失败:",a),this.emitEvent("error_occurred",{error:a instanceof Error?a.message:"未知错误",phase:"initialization"}),a}}setEmotionEngine(t){this.emotionEngine=t,this.config.enableLogging&&console.log(`🧠 EmotionEngine 已注入到桥接器: ${this.bridgeId}`),this.isInitialized&&(this.scheduler=Hi(this.emotionEngine,this.pluginRegistry))}setPluginManager(t){this.pluginRegistry=t,this.config.enableLogging&&console.log(`🔌 PluginRegistry 已注入到桥接器: ${this.bridgeId}`),this.isInitialized&&(this.scheduler=Hi(this.emotionEngine,this.pluginRegistry))}async dispatch(t){if(!this.isInitialized)throw new Error("PetBrainBridge 未初始化，请先调用 initPetBrainBridge()");try{let n,a;return this.emotionEngine&&typeof this.emotionEngine.getCurrentEmotion=="function"?(a=this.emotionEngine.getCurrentEmotion(),n=a.currentEmotion):(n=h.Calm,this.config.enableLogging&&console.warn("⚠️ EmotionEngine 不可用，使用默认情绪: Calm")),await this.dispatchPetBehavior(t,n,{currentState:t,emotion:a||{currentEmotion:n,intensity:this.config.defaultEmotionIntensity,duration:3e4,triggers:["auto_dispatch"],history:[]}})}catch(n){throw console.error("❌ PetBrainBridge dispatch 失败:",n),this.emitEvent("error_occurred",{error:n instanceof Error?n.message:"未知错误",state:t,phase:"dispatch"}),n}}async dispatchWithEmotion(t,n){if(!this.isInitialized)throw new Error("PetBrainBridge 未初始化，请先调用 initPetBrainBridge()");return await this.dispatchPetBehavior(t,n)}async dispatchPetBehavior(t,n,a){const i=Date.now();this.dispatchCount++;const l=this.lastState!==void 0&&this.lastState!==t,s=this.lastEmotion!==void 0&&this.lastEmotion!==n;this.config.enableLogging&&console.log(`🌉 [PetBrainBridge] 调度行为 #${this.dispatchCount} | 状态: ${this.lastState||"none"} → ${t} | 情绪: ${this.lastEmotion||"none"} → ${n}`);try{this.scheduler.updateLastInteraction();let u;return l&&s?(this.config.enableLogging&&console.log("🔄 [PetBrainBridge] 状态+情绪双重变化调度"),u=await this.scheduler.schedule(t,n,a)):l?(this.config.enableLogging&&console.log("🔄 [PetBrainBridge] 状态变化调度"),u=await this.scheduler.schedule(t,n,a)):s?(this.config.enableLogging&&console.log("😊 [PetBrainBridge] 情绪变化调度"),u=await this.scheduler.schedule(t,n,a)):u=await this.scheduler.schedule(t,n,a),this.lastState=t,this.lastEmotion=n,this.lastDispatchTime=i,l&&this.emitEvent("state_changed",{previousState:this.lastState,currentState:t,dispatchId:this.dispatchCount}),s&&this.emitEvent("emotion_changed",{previousEmotion:this.lastEmotion,currentEmotion:n,dispatchId:this.dispatchCount}),this.emitEvent("behavior_dispatched",{state:t,emotion:n,result:u,executionTime:Date.now()-i,dispatchId:this.dispatchCount}),this.config.enableLogging&&console.log(`✅ [PetBrainBridge] 调度完成 | 执行: ${u.executedBehaviors.length}个行为 | 耗时: ${u.duration}ms`),u}catch(u){throw console.error("❌ [PetBrainBridge] 行为调度失败:",u),this.emitEvent("error_occurred",{error:u instanceof Error?u.message:"未知错误",state:t,emotion:n,dispatchId:this.dispatchCount}),u}}async dispatchEvent(t,n){if(!this.isInitialized)throw new Error("PetBrainBridge 未初始化，请先调用 initPetBrainBridge()");this.config.enableLogging&&console.log(`📡 [PetBrainBridge] 处理事件: ${t}`);try{const a=this.parseEvent(t);if(!a)return console.warn(`⚠️ [PetBrainBridge] 无法解析事件: ${t}`),null;const{state:i,emotion:l}=a;return await this.dispatchPetBehavior(i,l,{currentState:i,emotion:{currentEmotion:l,intensity:this.config.defaultEmotionIntensity,duration:3e4,triggers:["event_driven",t],history:[]},interaction:{type:"active",trigger:"manual",timestamp:Date.now()},...n})}catch(a){throw console.error(`❌ [PetBrainBridge] 事件调度失败: ${t}`,a),this.emitEvent("error_occurred",{error:a instanceof Error?a.message:"未知错误",event:t,phase:"event_dispatch"}),a}}registerStrategy(t){this.scheduler.registerStrategy(t),this.config.enableLogging&&console.log(`🎯 [PetBrainBridge] 注册自定义策略: ${t.name}`)}getStats(){return{bridgeId:this.bridgeId,isInitialized:this.isInitialized,dispatchCount:this.dispatchCount,lastDispatchTime:this.lastDispatchTime,lastState:this.lastState,lastEmotion:this.lastEmotion,hasEmotionEngine:!!this.emotionEngine,hasPluginRegistry:!!this.pluginRegistry,strategies:this.scheduler.getStrategies()}}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(n)}off(t,n){const a=this.eventListeners.get(t);if(a){const i=a.indexOf(n);i!==-1&&a.splice(i,1)}}reset(){this.config.enableLogging&&console.log(`🔄 [PetBrainBridge] 重置桥接器状态: ${this.bridgeId}`),this.lastState=void 0,this.lastEmotion=void 0,this.dispatchCount=0,this.lastDispatchTime=0,this.eventListeners.clear(),this.emitEvent("state_changed",{action:"bridge_reset",timestamp:Date.now()})}destroy(){this.config.enableLogging&&console.log(`💥 [PetBrainBridge] 销毁桥接器: ${this.bridgeId}`),this.reset(),this.isInitialized=!1,this.emotionEngine=void 0,this.pluginRegistry=void 0}parseEvent(t){const n=t.toLowerCase(),a={user_interaction:{state:v.Hover,emotion:h.Curious},user_click:{state:v.Awaken,emotion:h.Excited},user_idle:{state:v.Idle,emotion:h.Calm},work_mode:{state:v.Control,emotion:h.Focused},sleep_mode:{state:v.Idle,emotion:h.Sleepy}};if(a[n])return a[n];if(n.includes(":")){const[s,u]=n.split(":"),o=this.parseState(s),c=this.parseEmotion(u);if(o&&c)return{state:o,emotion:c}}const i=this.parseState(n),l=this.parseEmotion(n);return i&&l?{state:i,emotion:l}:i?{state:i,emotion:this.lastEmotion||h.Calm}:l?{state:this.lastState||v.Idle,emotion:l}:null}parseState(t){return{idle:v.Idle,hover:v.Hover,awaken:v.Awaken,control:v.Control}[t.toLowerCase()]||null}parseEmotion(t){return{happy:h.Happy,calm:h.Calm,excited:h.Excited,curious:h.Curious,sleepy:h.Sleepy,focused:h.Focused}[t.toLowerCase()]||null}emitEvent(t,n){const a={type:t,timestamp:Date.now(),data:n,bridgeId:this.bridgeId},i=this.eventListeners.get(t);i&&i.forEach(l=>{try{l(a)}catch(s){console.error(`❌ [PetBrainBridge] 事件监听器错误 ${t}:`,s)}})}}class my{constructor(t={}){this.isInitialized=!1,this.lastInteractionTime=Date.now(),this.eventListeners=new Map,this.heartbeatTimer=null,this.stateHistory=[],this.stateTransitionCallbacks=new Map,this.config={defaultState:v.Idle,defaultEmotion:h.Calm,memoryLimit:1e3,aiProviders:[Vn.OpenAI,Vn.Claude],plugins:[],...t},this.currentState=v.Idle,this.stateHistory=[v.Idle],this.pluginRegistry=new Jm,this.intentRouter=new Im,this.emotionEngine=new Pm,this.stateMemory=new ty(this.config.memoryLimit);const n={enableEventDriven:!0,enableLogging:!0,autoEmotionUpdate:!0,defaultEmotionIntensity:.7,bridgeId:`petbrain-${Date.now()}`};this.petBrainBridge=new gy(n),console.log("🧠 PetBrain initialized with config:",this.config),console.log(`🎛️ Initial state: ${this.currentState}, state history: [${this.stateHistory.join(", ")}]`),console.log("🌉 PetBrainBridge integrated into main system")}async initialize(){if(this.isInitialized){console.warn("⚠️ PetBrain already initialized");return}try{console.log("🧠 ===== 主脑系统初始化开始 ====="),console.log("🌉 Initializing PetBrainBridge..."),await this.petBrainBridge.initPetBrainBridge(this.emotionEngine,this.pluginRegistry),console.log(`😊 Setting default emotion: ${this.config.defaultEmotion}`),this.emotionEngine.setEmotion(this.config.defaultEmotion,.5,3e4),await this.setupDefaultStateCallbacks(),console.log("💓 Starting heartbeat system"),this.startHeartbeat(),console.log("📚 Loading user preferences"),await this.loadUserPreferences(),this.isInitialized=!0,this.emit("initialized",{state:this.currentState,emotion:this.emotionEngine.getCurrentEmotion(),timestamp:Date.now()}),console.log("✅ PetBrain successfully initialized"),console.log(`🎭 Current state: ${this.currentState}`),console.log(`😊 Current emotion: ${this.emotionEngine.getCurrentEmotion().currentEmotion}`),console.log("🌉 PetBrainBridge is ready for behavior dispatch"),console.log(`🧠 ===== 主脑系统初始化完成 =====
`)}catch(t){throw console.error("❌ Failed to initialize PetBrain:",t),t}}async processInput(t,n={}){var a;this.lastInteractionTime=Date.now();try{console.log(`🎯 Processing input: "${t}"`);const i={...n,currentState:this.currentState,emotionState:this.emotionEngine.getCurrentEmotion().currentEmotion,previousIntents:this.stateMemory.getRecentConversations(5).map(m=>({type:m.intent,confidence:m.intentConfidence}))},s=this.intentRouter.parseIntentWithContext(t,i)[0];if(!s)return await this.handleUnknownIntent(t);this.emotionEngine.updateEmotionFromIntent(s),this.stateMemory.recordBehavior(s.type,{input:t,state:this.currentState,emotion:this.emotionEngine.getCurrentEmotion().currentEmotion});const u=await this.executeIntent(s,n);this.stateMemory.recordConversation(t,s,u.message||"Action completed",u.emotion||this.emotionEngine.getCurrentEmotion().currentEmotion,u.success),this.emotionEngine.updateEmotionFromTaskResult(u.success,s.type);const o=this.emotionEngine.recommendStateTransition(this.currentState),c=u.nextState||o;return c&&c!==this.currentState&&await this.transitionToState(c),this.emit("input_processed",{input:t,intent:s,response:u,emotion:this.emotionEngine.getCurrentEmotion(),state:this.currentState}),{response:u.message||"Action completed successfully",emotion:this.emotionEngine.getCurrentEmotion().currentEmotion,nextState:this.currentState,actions:((a=u.data)==null?void 0:a.actions)||[]}}catch(i){console.error("❌ Error processing input:",i);const l=i instanceof Error?i.message:String(i);return this.stateMemory.recordConversation(t,{type:"error",confidence:0,parameters:{},rawInput:t,timestamp:Date.now()},l,h.Calm,!1),{response:`抱歉，处理您的请求时出现了问题：${l}`,emotion:h.Calm}}}async executeIntent(t,n){const a=this.pluginRegistry.getPluginsForIntent(t.type);if(a.length===0)return await this.handleNoPluginFound(t);const i=a[0];try{return console.log(`🔌 Executing plugin: ${i.name} for intent: ${t.type}`),await this.pluginRegistry.executePlugin(i.id,t,{...n,currentState:this.currentState,emotion:this.emotionEngine.getCurrentEmotion(),userPreferences:this.stateMemory.getAllPreferences()})}catch(l){if(console.error(`❌ Plugin execution failed: ${i.name}`,l),a.length>1)for(let s=1;s<a.length;s++)try{const u=a[s];return console.log(`🔄 Trying fallback plugin: ${u.name}`),await this.pluginRegistry.executePlugin(u.id,t,n)}catch{console.error(`❌ Fallback plugin also failed: ${a[s].name}`)}throw l}}async handleUnknownIntent(t){return console.log(`❓ Unknown intent for input: "${t}"`),t.length>3&&!this.isCommandLike(t)?(this.emotionEngine.setEmotion(h.Curious,.6,2e4),{response:`我还在学习理解"${t}"，能换个方式告诉我您想要什么吗？或者说"帮助"查看我能做什么～`,emotion:h.Curious}):{response:'我不太明白这个指令，您可以尝试说"截图"、"记录"、"设置"等，或者右键点击我查看更多功能。',emotion:h.Calm}}async handleNoPluginFound(t){return console.log(`🔍 No plugin found for intent: ${t.type}`),{success:!1,data:null,message:`抱歉，我还没有学会"${t.type}"功能，您可以通过设置菜单添加相关插件。`,emotion:h.Curious}}async transitionToState(t){const n=this.currentState;if(t===this.currentState){console.log(`🔄 State already in ${t}, skipping transition`);return}console.log("🧠 ===== PetBrain 状态转换开始 ====="),console.log(`🔄 状态转换: ${n} → ${t}`),this.handleStateChange(t),console.log("🌉 Dispatching behavior through PetBrainBridge...");try{await this.petBrainBridge.dispatch(t),console.log("✅ PetBrainBridge dispatch completed successfully")}catch(a){console.error("❌ PetBrainBridge dispatch failed:",a)}await this.executeStateTransitionCallbacks(t),this.stateMemory.recordBehavior("state_transition",{from:n,to:t,emotion:this.emotionEngine.getCurrentEmotion().currentEmotion,timestamp:Date.now(),stateHistory:[...this.stateHistory],dispatchMethod:"petbrain_bridge"}),this.emit("state_changed",{oldState:n,newState:t,emotion:this.emotionEngine.getCurrentEmotion(),stateHistory:[...this.stateHistory]}),console.log(`✅ Enhanced state transition completed: ${n} → ${t} (via PetBrainBridge)`),console.log(`🧠 ===== PetBrain 状态转换完成 =====
`)}handleStateChange(t){const n=this.currentState;if(t===n){console.log(`🔄 State unchanged: ${n}`);return}console.log("🎛️ ===== 状态机管理 ====="),console.log(`🔄 状态从 ${n} 切换到 ${t}`),this.currentState=t,this.stateHistory.push(t),this.stateHistory.length>10&&(this.stateHistory=this.stateHistory.slice(-10),console.log("📝 状态历史已限制为最近10个状态")),console.log(`📊 当前状态: ${this.currentState}`),console.log(`📜 状态历史: [${this.stateHistory.join(" → ")}]`),console.log(`�️ ===== 状态切换完成 =====
`),this.lastInteractionTime=Date.now()}async updateEmotionForState(t,n){switch(console.log(`😊 Updating emotion for state: ${t}`),t){case v.Idle:n===v.Awaken||n===v.Control?(console.log("💤 从活跃状态回到静态，设置平静情绪"),this.emotionEngine.setEmotion(h.Calm,.4,3e4)):(console.log("😴 长期静态，可能进入困倦状态"),this.emotionEngine.blendEmotion(h.Sleepy,.3,6e4));break;case v.Hover:console.log("🤔 感应到用户，激发好奇情绪"),this.emotionEngine.setEmotion(h.Curious,.6,2e4);break;case v.Awaken:console.log("🎯 被唤醒，进入专注工作状态"),this.emotionEngine.setEmotion(h.Focused,.7,45e3);break;case v.Control:console.log("⚙️ 进入设置模式，保持专注情绪"),this.emotionEngine.setEmotion(h.Focused,.5,6e4);break}const a=this.emotionEngine.getCurrentEmotion();console.log(`😊 Emotion updated: ${a.currentEmotion} (intensity: ${a.intensity.toFixed(2)})`)}async triggerPluginsForState(t){var o,c;console.log(`🔌 [插件触发] 状态: ${t} | 开始触发所有插件`);const n=this.pluginRegistry.getAllPlugins(),a=this.emotionEngine.getCurrentEmotion(),i=[],l={currentState:t,emotion:a,userPreferences:this.stateMemory.getAllPreferences(),stateHistory:[...this.stateHistory],interaction:{type:"passive",trigger:"state_change",timestamp:Date.now()}};for(const m of n){const p=((o=m.capabilities)==null?void 0:o.emotionAware)||!1;if((c=m.capabilities)!=null&&c.stateAware,typeof m.trigger=="function"){console.log(`🎯 [插件响应] ${m.name} | 状态: ${t} | 情绪: ${a.currentEmotion} | 情绪感知: ${p?"✅":"❌"}`);try{let r;p?r=await m.trigger(t,a,l):r=await m.trigger(t,{currentState:t,emotion:a,userPreferences:this.stateMemory.getAllPreferences(),stateHistory:[...this.stateHistory]}),i.push({pluginId:m.id,pluginName:m.name,success:r.success,response:r,emotionAware:p}),console.log(`✅ [插件完成] ${m.name} | 状态: ${t} | 情绪: ${a.currentEmotion} | 结果: ${r.message}`),r.nextState&&r.nextState!==t&&console.log(`💡 [插件建议] ${m.name} 建议状态切换: ${t} → ${r.nextState}`)}catch(r){const g=r instanceof Error?r.message:String(r);i.push({pluginId:m.id,pluginName:m.name,success:!1,error:g,emotionAware:p}),console.error(`❌ [插件错误] ${m.name} | 状态: ${t} | 错误: ${g}`)}}else console.log(`⏭️ [插件跳过] ${m.name} 不支持状态触发`)}this.emit("plugins_triggered",{state:t,emotion:a,results:i,timestamp:Date.now()});const s=i.filter(m=>m.success).length,u=i.filter(m=>m.emotionAware).length;console.log(`🔌 [插件汇总] 状态: ${t} | 总数: ${i.length} | 成功: ${s} | 情绪感知: ${u}`)}async triggerStateChangedHooks(t,n){var o,c;console.log(`🪝 [状态钩子] 状态变化: ${t} → ${n} | 开始触发 onStateChanged 钩子`);const a=this.pluginRegistry.getAllPlugins(),i=this.emotionEngine.getCurrentEmotion(),l=[],s={currentState:n,emotion:i,userPreferences:this.stateMemory.getAllPreferences(),stateHistory:[...this.stateHistory],interaction:{type:"passive",trigger:"state_change",timestamp:Date.now()}};for(const m of a)if(typeof m.onStateChanged=="function"){const p=((c=(o=m.capabilities)==null?void 0:o.supportedHooks)==null?void 0:c.includes("onStateChanged"))||!1;console.log(`🪝 [钩子响应] ${m.name} | ${t} → ${n} | 情绪: ${i.currentEmotion} | 钩子支持: ${p?"✅":"❌"}`);try{const r=await m.onStateChanged(t,n,i,s);l.push({pluginId:m.id,pluginName:m.name,success:r.success,response:r}),console.log(`✅ [钩子完成] ${m.name} | 状态钩子执行成功: ${r.message}`)}catch(r){const g=r instanceof Error?r.message:String(r);l.push({pluginId:m.id,pluginName:m.name,success:!1,error:g}),console.error(`❌ [钩子错误] ${m.name} | 状态钩子执行失败: ${g}`)}}else console.log(`⏭️ [钩子跳过] ${m.name} 不支持 onStateChanged 钩子`);this.emit("state_hooks_triggered",{hookType:"onStateChanged",oldState:t,newState:n,emotion:i,results:l,timestamp:Date.now()});const u=l.filter(m=>m.success).length;console.log(`🪝 [钩子汇总] onStateChanged | 状态: ${t} → ${n} | 总数: ${l.length} | 成功: ${u}`)}async executeStateTransitionCallbacks(t){const n=this.stateTransitionCallbacks.get(t)||[];if(n.length>0){console.log(`📞 Executing ${n.length} callbacks for state: ${t}`);for(const a of n)try{await a(t,this.emotionEngine.getCurrentEmotion())}catch(i){console.error("❌ State transition callback failed:",i)}}}onStateTransition(t,n){this.stateTransitionCallbacks.has(t)||this.stateTransitionCallbacks.set(t,[]),this.stateTransitionCallbacks.get(t).push(n),console.log(`📞 Registered callback for state: ${t}`)}getStateHistory(){return[...this.stateHistory]}getStateStatistics(){console.log("📈 State statistics requested"),console.log(`📜 State history (${this.stateHistory.length} states): [${this.stateHistory.join(" → ")}]`);const t={[v.Idle]:0,[v.Hover]:0,[v.Awaken]:0,[v.Control]:0};this.stateHistory.forEach(l=>{t[l]=(t[l]||0)+1}),this.stateHistory.includes(this.currentState)||(t[this.currentState]=(t[this.currentState]||0)+1);let n=this.currentState,a=0;Object.entries(t).forEach(([l,s])=>{s>a&&(a=s,n=l)});const i={stateHistory:[...this.stateHistory],currentState:this.currentState,mostFrequentState:n,stateFrequency:t};return console.log(`📊 Current state: ${i.currentState}`),console.log(`🏆 Most frequent state: ${i.mostFrequentState} (${a} times)`),console.log("📊 State frequency breakdown:"),Object.entries(t).forEach(([l,s])=>{const u=this.stateHistory.length>0?(s/this.stateHistory.length*100).toFixed(1):"0.0";console.log(`   • ${l}: ${s} times (${u}%)`)}),i}async registerPlugin(t){await this.pluginRegistry.registerPlugin(t),this.emit("plugin_registered",{plugin:t})}async unregisterPlugin(t){await this.pluginRegistry.unregisterPlugin(t),this.emit("plugin_unregistered",{pluginId:t})}getCurrentState(){return console.log(`📊 Current state requested: ${this.currentState}`),this.currentState}getCurrentEmotion(){const t=this.emotionEngine.getCurrentEmotion(),n=this.emotionEngine.getEmotionDisplay();return{emotion:t.currentEmotion,intensity:t.intensity,display:n}}getSystemStatus(){return{state:this.currentState,emotion:this.emotionEngine.getCurrentEmotion().currentEmotion,pluginCount:this.pluginRegistry.getAllPlugins().length,memoryUsage:this.stateMemory.getMemoryStats(),uptime:Date.now()-this.lastInteractionTime,lastInteraction:this.lastInteractionTime}}getRecommendedActions(){const t=this.stateMemory.analyzeUsagePatterns(),n=this.emotionEngine.getCurrentEmotion(),a=new Date().getHours(),i=[];switch(t.commonIntents.includes("screenshot")&&i.push("screenshot"),t.commonIntents.includes("note")&&i.push("note"),n.currentEmotion){case h.Excited:i.push("chat","explore");break;case h.Focused:i.push("screenshot","note");break;case h.Sleepy:i.push("settings","help");break}return a>=9&&a<18?i.push("screenshot","note","copy"):a>=18&&a<22&&i.push("chat","settings"),Array.from(new Set(i)).slice(0,4)}startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>{this.emotionEngine.tick(5e3),Math.random()<.1&&this.stateMemory.cleanup();const t=Date.now()-this.lastInteractionTime;t>3e5&&this.currentState!==v.Idle&&this.transitionToState(v.Idle),this.emit("heartbeat",{state:this.currentState,emotion:this.emotionEngine.getCurrentEmotion(),idleTime:t})},5e3)}async loadUserPreferences(){this.stateMemory.recordPreference("appearance","skin","tangyuan",1),this.stateMemory.recordPreference("behavior","response_speed","normal",1),this.stateMemory.recordPreference("interaction","verbose_mode",!1,1)}isCommandLike(t){return t.length<10&&!/[？?。！!，,]/.test(t)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(n)}off(t,n){const a=this.eventListeners.get(t);if(a){const i=a.indexOf(n);i>-1&&a.splice(i,1)}}emit(t,n){const a=this.eventListeners.get(t);a&&a.forEach(i=>{try{i(n)}catch(l){console.error(`❌ Error in event listener for ${t}:`,l)}})}async destroy(){console.log("🧠 Starting PetBrain destruction..."),this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null);try{console.log("🌉 Destroying PetBrainBridge..."),this.petBrainBridge.destroy(),console.log("✅ PetBrainBridge destroyed successfully")}catch(n){console.error("❌ Error destroying PetBrainBridge:",n)}const t=this.pluginRegistry.getAllPlugins();for(const n of t)try{await this.pluginRegistry.unregisterPlugin(n.id)}catch(a){console.error(`❌ Error unregistering plugin ${n.id}:`,a)}this.eventListeners.clear(),this.isInitialized=!1,console.log("🧠 PetBrain destroyed")}async enterIdleState(){console.log("💤 Entering Idle state (静碗) via PetBrainBridge"),await this.transitionToState(v.Idle)}async enterHoverState(){console.log("✨ Entering Hover state (感应碗) via PetBrainBridge"),await this.transitionToState(v.Hover)}async enterAwakenState(){console.log("🌟 Entering Awaken state (唤醒碗) via PetBrainBridge"),await this.transitionToState(v.Awaken)}async enterControlState(){console.log("⚙️ Entering Control state (控制碗) via PetBrainBridge"),await this.transitionToState(v.Control)}async onMouseHover(){console.log("🖱️ Mouse hover detected"),this.currentState===v.Idle&&(await this.transitionToState(v.Hover),await this.dispatchEventBehavior("user_hover"))}async onLeftClick(){console.log("👆 Left click detected"),this.currentState===v.Hover?(await this.transitionToState(v.Awaken),await this.dispatchEventBehavior("user_click")):this.currentState===v.Idle&&(await this.transitionToState(v.Hover),await this.dispatchEventBehavior("user_interaction"))}async onRightClick(){console.log("👆 Right click detected"),await this.transitionToState(v.Control),await this.dispatchEventBehavior("user_right_click")}async onMouseLeave(){console.log("🖱️ Mouse leave detected"),this.currentState===v.Hover&&setTimeout(async()=>{this.currentState===v.Hover&&(await this.transitionToState(v.Idle),await this.dispatchEventBehavior("user_leave"))},3e3)}getAvailableActions(){const t=this.emotionEngine.getCurrentEmotion();switch(this.currentState){case v.Idle:return{state:this.currentState,actions:["hover","click","right_click"],description:"静碗状态 - 汤圆安静漂浮，等待交互",emotion:t.currentEmotion};case v.Hover:return{state:this.currentState,actions:["click_to_awaken","right_click_settings","leave"],description:"感应碗状态 - 汤圆感知用户，准备响应",emotion:t.currentEmotion};case v.Awaken:return{state:this.currentState,actions:["screenshot","note","copy","cast","back_to_hover"],description:"唤醒碗状态 - 工具功能已激活",emotion:t.currentEmotion};case v.Control:return{state:this.currentState,actions:["settings","preferences","plugins","chat","skin_change","back_to_idle"],description:"控制碗状态 - 设置和配置面板",emotion:t.currentEmotion};default:return{state:this.currentState,actions:[],description:"未知状态",emotion:t.currentEmotion}}}async setupDefaultStateCallbacks(){console.log("📞 Setting up default state transition callbacks"),this.onStateTransition(v.Idle,async(t,n)=>{console.log(`💤 Idle state callback: emotion=${n.currentEmotion}`)}),this.onStateTransition(v.Hover,async(t,n)=>{console.log(`✨ Hover state callback: emotion=${n.currentEmotion}`)}),this.onStateTransition(v.Awaken,async(t,n)=>{console.log(`🌟 Awaken state callback: emotion=${n.currentEmotion}`)}),this.onStateTransition(v.Control,async(t,n)=>{console.log(`⚙️ Control state callback: emotion=${n.currentEmotion}`)}),console.log("✅ Default state callbacks configured")}async dispatchEmotionBehavior(t){console.log(`😊 Dispatching emotion-driven behavior: ${t}`);try{await this.petBrainBridge.dispatchWithEmotion(this.currentState,t),console.log(`✅ Emotion behavior dispatch completed for: ${t}`)}catch(n){console.error(`❌ Emotion behavior dispatch failed for ${t}:`,n)}}async dispatchEventBehavior(t){console.log(`📡 Dispatching event-driven behavior: ${t}`);try{await this.petBrainBridge.dispatchEvent(t),console.log(`✅ Event behavior dispatch completed for: ${t}`)}catch(n){console.error(`❌ Event behavior dispatch failed for ${t}:`,n)}}async updateEmotionWithBehaviorDispatch(t,n=.7){console.log(`😊 Updating emotion with behavior dispatch: ${t} (intensity: ${n})`),this.emotionEngine.setEmotion(t,n,3e4),await this.dispatchEmotionBehavior(t),this.emit("emotion_changed",{emotion:t,intensity:n,timestamp:Date.now(),state:this.currentState})}getPetBrainBridge(){return this.petBrainBridge}async resetBehaviorSystem(){console.log("🔄 Resetting PetBrainBridge behavior system...");try{this.petBrainBridge.reset(),console.log("✅ PetBrainBridge reset completed")}catch(t){console.error("❌ Failed to reset PetBrainBridge:",t)}}getBehaviorSystemStats(){return this.petBrainBridge.getStats()}}class yy{constructor(){this.id="screenshot_plugin",this.name="截图助手",this.version="2.0.0",this.description="提供屏幕截图功能，支持全屏、区域和窗口截图，具备情绪感知能力",this.supportedIntents=["screenshot"],this.capabilities={stateAware:!0,emotionAware:!0,contextAware:!0,supportedHooks:["onStateChanged"]}}async initialize(){console.log(`📷 ${this.name} v${this.version} 插件已初始化 (支持情绪感知)`)}async execute(t,n){var a;try{switch(console.log("📷 执行截图操作:",t),((a=t.parameters)==null?void 0:a.mode)||"fullscreen"){case"fullscreen":return await this.captureFullscreen(n);case"area":return await this.captureArea(n);case"window":return await this.captureWindow(n);default:return await this.captureFullscreen(n)}}catch(i){return console.error("❌ 截图失败:",i),{success:!1,data:null,message:`截图失败: ${i instanceof Error?i.message:String(i)}`,emotion:h.Calm}}}async captureFullscreen(t){await this.delay(1e3);const n=`screenshot_${Date.now()}.png`;return console.log(`📸 全屏截图已保存: ${n}`),{success:!0,data:{filename:n,path:`/Desktop/${n}`,mode:"fullscreen",size:{width:1920,height:1080},actions:["screenshot_taken"]},message:`全屏截图已保存为 ${n}`,emotion:h.Happy,nextState:v.Hover}}async captureArea(t){await this.delay(500);const n=`area_screenshot_${Date.now()}.png`;return console.log(`📸 区域截图已保存: ${n}`),{success:!0,data:{filename:n,path:`/Desktop/${n}`,mode:"area",size:{width:800,height:600},actions:["screenshot_taken","area_selected"]},message:`区域截图已保存为 ${n}`,emotion:h.Focused,nextState:v.Hover}}async captureWindow(t){await this.delay(800);const n=`window_screenshot_${Date.now()}.png`;return console.log(`📸 窗口截图已保存: ${n}`),{success:!0,data:{filename:n,path:`/Desktop/${n}`,mode:"window",size:{width:1200,height:800},actions:["screenshot_taken","window_captured"]},message:`当前窗口截图已保存为 ${n}`,emotion:h.Happy,nextState:v.Hover}}async trigger(t,n,a){if(console.log(`📷 [插件响应] ScreenshotPlugin | 状态: ${t} | 情绪: ${n.currentEmotion} | 强度: ${n.intensity.toFixed(2)}`),t===v.Awaken&&n.currentEmotion===h.Curious)return console.log("🌟 [智能响应] Awaken状态 + Curious情绪 → 执行探索性截图"),await this.captureExploratoryScreenshot(n,a);if(t===v.Awaken&&n.currentEmotion===h.Focused)return console.log("🎯 [智能响应] Awaken状态 + Focused情绪 → 执行精准截图"),await this.captureFocusedScreenshot(n,a);switch(t){case v.Awaken:return console.log(`🌟 [状态响应] 唤醒状态 → 快速截图 (情绪: ${n.currentEmotion})`),await this.captureQuickScreenshot(n,a);case v.Hover:return console.log(`✨ [状态响应] 感应状态 → 显示截图选项 (情绪: ${n.currentEmotion})`),await this.showScreenshotOptions(n,a);case v.Control:return console.log(`⚙️ [状态响应] 控制状态 → 打开截图设置 (情绪: ${n.currentEmotion})`),await this.showScreenshotSettings(n,a);default:return console.log(`💤 [状态响应] ${t}状态 → 截图插件待命 (情绪: ${n.currentEmotion})`),{success:!0,data:null,message:`截图插件在${t}状态下待命中 (情绪: ${n.currentEmotion})`,emotion:h.Calm}}}async onStateChanged(t,n,a,i){return console.log(`📷 [钩子响应] ScreenshotPlugin.onStateChanged | ${t} → ${n} | 情绪: ${a.currentEmotion}`),t===v.Idle&&n===v.Awaken&&(console.log("🔥 [钩子智能] 从静态直接唤醒 → 可能需要紧急截图"),a.intensity>.7)?(console.log(`⚡ [紧急响应] 高强度情绪(${a.intensity.toFixed(2)}) → 立即执行截图`),await this.captureEmergencyScreenshot(a,i)):n===v.Control&&a.currentEmotion===h.Focused?(console.log("🎛️ [钩子智能] 进入控制状态且专注 → 预加载截图工具"),{success:!0,data:{actions:["preload_tools"],tools:["screenshot_selector","annotation_tools","share_options"]},message:"截图工具已预加载完成",emotion:h.Focused}):{success:!0,data:null,message:`状态钩子执行完成: ${t} → ${n}`,emotion:a.currentEmotion}}async captureExploratoryScreenshot(t,n){await this.delay(800);const a=`curious_exploration_${Date.now()}.png`;return console.log(`🔍 [情绪响应] 好奇探索截图已保存: ${a}`),{success:!0,data:{filename:a,path:`/Desktop/${a}`,mode:"exploration",size:{width:1920,height:1080},emotionContext:{type:t.currentEmotion,intensity:t.intensity,triggers:t.triggers},actions:["screenshot_taken","exploration_mode"]},message:`好奇心驱动的探索截图完成: ${a}`,emotion:h.Excited,nextState:v.Hover}}async captureFocusedScreenshot(t,n){await this.delay(600);const a=`focused_precision_${Date.now()}.png`;return console.log(`🎯 [情绪响应] 专注精准截图已保存: ${a}`),{success:!0,data:{filename:a,path:`/Desktop/${a}`,mode:"precision",size:{width:1920,height:1080},emotionContext:{type:t.currentEmotion,intensity:t.intensity,precision:"high"},actions:["screenshot_taken","precision_mode"]},message:`专注状态下的精准截图完成: ${a}`,emotion:h.Happy,nextState:v.Hover}}async captureEmergencyScreenshot(t,n){await this.delay(300);const a=`emergency_${Date.now()}.png`;return console.log(`🚨 [紧急响应] 紧急截图已保存: ${a}`),{success:!0,data:{filename:a,path:`/Desktop/${a}`,mode:"emergency",size:{width:1920,height:1080},emotionContext:{type:t.currentEmotion,intensity:t.intensity,urgency:"high"},actions:["screenshot_taken","emergency_mode"]},message:`紧急情况截图完成: ${a}`,emotion:h.Calm,nextState:v.Hover}}async captureQuickScreenshot(t,n){await this.delay(500);const a=`quick_${Date.now()}.png`;return console.log(`⚡ [快速响应] 快速截图已保存: ${a}`),{success:!0,data:{filename:a,path:`/Desktop/${a}`,mode:"quick",emotionContext:{type:t.currentEmotion,intensity:t.intensity},actions:["screenshot_taken"]},message:`快速截图完成: ${a}`,emotion:h.Happy,nextState:v.Hover}}async showScreenshotOptions(t,n){const a=this.getEmotionBasedOptions(t);return console.log(`✨ [选项展示] 基于${t.currentEmotion}情绪的截图选项`),{success:!0,data:{actions:["fullscreen_screenshot","area_screenshot","window_screenshot",...a],hints:["全屏截图","区域截图","窗口截图",...this.getEmotionBasedHints(t)],emotionContext:{type:t.currentEmotion,intensity:t.intensity}},message:`截图选项已准备就绪 (情绪感知: ${t.currentEmotion})`,emotion:h.Curious,nextState:v.Hover}}async showScreenshotSettings(t,n){const a=this.getEmotionBasedSettings(t);return console.log(`⚙️ [设置展示] 基于${t.currentEmotion}情绪的截图设置`),{success:!0,data:{settings:{defaultMode:"fullscreen",saveLocation:"/Desktop",format:"png",quality:"high",...a},emotionContext:{type:t.currentEmotion,intensity:t.intensity}},message:`截图设置已打开 (情绪优化: ${t.currentEmotion})`,emotion:h.Focused,nextState:v.Control}}getEmotionBasedOptions(t){switch(t.currentEmotion){case h.Excited:return["gif_capture","quick_share"];case h.Focused:return["annotation_mode","precision_crop"];case h.Curious:return["explore_mode","discovery_capture"];default:return[]}}getEmotionBasedHints(t){switch(t.currentEmotion){case h.Excited:return["GIF录制","快速分享"];case h.Focused:return["注释模式","精准裁剪"];case h.Curious:return["探索模式","发现截图"];default:return[]}}getEmotionBasedSettings(t){switch(t.currentEmotion){case h.Excited:return{quickMode:!0,autoShare:!0};case h.Focused:return{precisionMode:!0,gridOverlay:!0};case h.Sleepy:return{oneClickMode:!0,autoSave:!0};default:return{}}}async destroy(){console.log(`📷 ${this.name} 插件已销毁`)}delay(t){return new Promise(n=>setTimeout(n,t))}}class py{constructor(){this.id="note_plugin",this.name="笔记助手",this.version="2.0.0",this.description="快速记录文字笔记，支持自动分类、搜索和情绪感知标注",this.supportedIntents=["note"],this.capabilities={stateAware:!0,emotionAware:!0,contextAware:!0,supportedHooks:["onStateChanged"]},this.notes=[]}async initialize(){console.log(`📝 ${this.name} v${this.version} 插件已初始化 (支持情绪感知)`),await this.loadNotes()}async execute(t,n){var a;try{console.log("📝 执行笔记操作:",t);const i=((a=t.parameters)==null?void 0:a.content)||t.rawInput.replace(/记录[：:]?\s*/,"");return!i||i.trim().length===0?{success:!1,data:null,message:'请告诉我要记录什么内容，比如"记录：今天要买菜"',emotion:h.Curious}:await this.saveNote(i.trim(),n)}catch(i){return console.error("❌ 笔记保存失败:",i),{success:!1,data:null,message:`笔记保存失败: ${i instanceof Error?i.message:String(i)}`,emotion:h.Calm}}}async saveNote(t,n){const a=(n==null?void 0:n.emotion)||null,i=(n==null?void 0:n.currentState)||v.Idle,l={id:`note_${Date.now()}`,content:t,timestamp:Date.now(),tags:this.extractTags(t),emotionContext:a?{emotion:a.currentEmotion,intensity:a.intensity,state:i}:void 0};this.notes.push(l),await this.delay(300),console.log("📝 笔记已保存:",l);const s=l.emotionContext?` (情绪: ${l.emotionContext.emotion}, 强度: ${l.emotionContext.intensity.toFixed(2)})`:"";return{success:!0,data:{noteId:l.id,content:l.content,tags:l.tags,totalNotes:this.notes.length,emotionContext:l.emotionContext,actions:["note_saved"]},message:`笔记已保存！${l.tags.length>0?`标签: ${l.tags.join(", ")}`:""}${s}`,emotion:h.Happy,nextState:v.Hover}}extractTags(t){const n=[],a=t.match(/#[\u4e00-\u9fa5\w]+/g);return a&&n.push(...a.map(i=>i.substring(1))),/工作|任务|项目|会议/.test(t)&&n.push("工作"),/学习|课程|知识|笔记/.test(t)&&n.push("学习"),/生活|日常|购物|吃饭/.test(t)&&n.push("生活"),Array.from(new Set(n))}async loadNotes(){console.log("📚 加载历史笔记...")}async destroy(){console.log(`📝 ${this.name} 插件已销毁`),await this.saveNotesToFile()}async saveNotesToFile(){console.log(`💾 保存 ${this.notes.length} 条笔记到文件`)}async trigger(t,n,a){if(console.log(`📝 [插件响应] NotePlugin | 状态: ${t} | 情绪: ${n.currentEmotion} | 强度: ${n.intensity.toFixed(2)}`),t===v.Hover&&n.currentEmotion===h.Focused)return console.log("🎯 [智能响应] Hover状态 + Focused情绪 → 自动记录摘要"),await this.createFocusedSummary(n,a);if(t===v.Awaken&&n.currentEmotion===h.Excited)return console.log("🚀 [智能响应] Awaken状态 + Excited情绪 → 创意记录模式"),await this.activateCreativeMode(n,a);switch(t){case v.Awaken:return console.log(`🌟 [状态响应] 唤醒状态 → 快速笔记 (情绪: ${n.currentEmotion})`),await this.activateQuickNoteMode(n,a);case v.Hover:return console.log(`✨ [状态响应] 感应状态 → 显示笔记统计 (情绪: ${n.currentEmotion})`),await this.showNotesStatistics(n,a);case v.Control:return console.log(`⚙️ [状态响应] 控制状态 → 打开笔记管理 (情绪: ${n.currentEmotion})`),await this.showNotesManagement(n,a);default:return console.log(`💤 [状态响应] ${t}状态 → 笔记插件待命 (情绪: ${n.currentEmotion})`),{success:!0,data:{notesCount:this.notes.length,emotionContext:{type:n.currentEmotion,intensity:n.intensity}},message:`笔记助手在${t}状态下待命 (情绪: ${n.currentEmotion})`,emotion:h.Calm}}}async onStateChanged(t,n,a,i){return console.log(`📝 [钩子响应] NotePlugin.onStateChanged | ${t} → ${n} | 情绪: ${a.currentEmotion}`),t===v.Awaken&&n===v.Hover&&a.currentEmotion===h.Happy?(console.log("😊 [钩子智能] 愉快地从唤醒转到悬浮 → 可能刚完成了什么，建议记录"),{success:!0,data:{suggestion:{type:"achievement_record",message:"看起来刚刚完成了什么，要记录一下成果吗？",templates:["刚刚完成了...","学到了...","解决了..."]},emotionContext:{type:a.currentEmotion,intensity:a.intensity}},message:"检测到成就时刻，建议记录",emotion:h.Happy}):n===v.Awaken&&a.intensity>.8?(console.log(`⚡ [钩子智能] 高强度情绪${a.currentEmotion}进入唤醒 → 快速情绪记录`),{success:!0,data:{emotionRecord:{emotion:a.currentEmotion,intensity:a.intensity,timestamp:Date.now(),quickTemplates:this.getEmotionBasedTemplates(a.currentEmotion)}},message:`检测到强烈${a.currentEmotion}情绪，建议记录当前感受`,emotion:a.currentEmotion}):{success:!0,data:null,message:`状态钩子执行完成: ${t} → ${n}`,emotion:a.currentEmotion}}async createFocusedSummary(t,n){const a=`[专注摘要 ${new Date().toLocaleString()}]
当前专注于重要工作中...`,i={id:`summary_${Date.now()}`,content:a,timestamp:Date.now(),tags:["专注","摘要","自动"],emotionContext:{emotion:t.currentEmotion,intensity:t.intensity,state:v.Hover}};return this.notes.push(i),console.log("🎯 [情绪响应] 专注摘要已自动创建"),{success:!0,data:{noteId:i.id,content:i.content,autoCreated:!0,emotionContext:i.emotionContext,actions:["summary_created","auto_focus_mode"]},message:"基于专注状态自动创建工作摘要",emotion:h.Focused,nextState:v.Hover}}async activateCreativeMode(t,n){return console.log("🚀 [情绪响应] 激活创意记录模式"),{success:!0,data:{mode:"creative",actions:["brainstorm_note","idea_capture","inspiration_record"],templates:["💡 新想法：","🌟 灵感闪现：","🎨 创意构思："],emotionContext:{type:t.currentEmotion,intensity:t.intensity},features:["快速记录","灵感链接","创意标签"]},message:"创意记录模式已激活！快速捕捉你的灵感",emotion:h.Excited,nextState:v.Awaken}}async activateQuickNoteMode(t,n){const a=this.getEmotionBasedTemplates(t.currentEmotion);return{success:!0,data:{actions:["quick_note","voice_note","clipboard_note"],templates:["工作记录","学习笔记","生活备忘",...a],recentNotes:this.notes.slice(-3),emotionContext:{type:t.currentEmotion,intensity:t.intensity}},message:`快速笔记模式已激活 (情绪优化: ${t.currentEmotion})`,emotion:h.Focused,nextState:v.Awaken}}async showNotesStatistics(t,n){const a=this.notes.filter(l=>new Date(l.timestamp).toDateString()===new Date().toDateString()),i=this.getEmotionBasedHints(t.currentEmotion);return{success:!0,data:{totalNotes:this.notes.length,todayNotes:a.length,recentTags:this.getRecentTags(),hints:["记录新笔记","查看历史","搜索笔记",...i],emotionContext:{type:t.currentEmotion,intensity:t.intensity}},message:`今日已记录 ${a.length} 条笔记 (情绪感知: ${t.currentEmotion})`,emotion:h.Curious,nextState:v.Hover}}async showNotesManagement(t,n){return{success:!0,data:{settings:{autoSave:!0,tagSuggestions:!0,exportFormat:"markdown",syncEnabled:!1,...this.getEmotionBasedSettings(t.currentEmotion)},management:{totalNotes:this.notes.length,categories:this.getCategorizedNotes(),storageUsed:this.calculateStorageUsage()},emotionContext:{type:t.currentEmotion,intensity:t.intensity}},message:`笔记管理面板已打开 (情绪优化: ${t.currentEmotion})`,emotion:h.Focused,nextState:v.Control}}getEmotionBasedTemplates(t){switch(t){case h.Excited:return["🚀 新发现：","💡 突发奇想："];case h.Focused:return["� 重点记录：","🎯 关键信息："];case h.Happy:return["😊 美好时刻：","🎉 值得纪念："];case h.Curious:return["🤔 疑问记录：","🔍 探索发现："];default:return[]}}getEmotionBasedHints(t){switch(t){case h.Excited:return["快速记录灵感","分享有趣发现"];case h.Focused:return["记录重点内容","整理思路"];case h.Sleepy:return["简单记录","明日提醒"];default:return[]}}getEmotionBasedSettings(t){switch(t){case h.Excited:return{quickSave:!0,autoShare:!0};case h.Focused:return{detailedMode:!0,structuredFormat:!0};case h.Sleepy:return{simpleMode:!0,minimalInterface:!0};default:return{}}}getRecentTags(){const t=new Map;return this.notes.slice(-10).forEach(n=>{n.tags.forEach(a=>{t.set(a,(t.get(a)||0)+1)})}),Array.from(t.entries()).sort((n,a)=>a[1]-n[1]).slice(0,5).map(([n])=>n)}getCategorizedNotes(){const t={};return this.notes.forEach(n=>{n.tags.forEach(a=>{t[a]=(t[a]||0)+1})}),t}calculateStorageUsage(){const t=this.notes.reduce((a,i)=>a+i.content.length,0);return`${Math.round(t*2/1024)} KB`}delay(t){return new Promise(n=>setTimeout(n,t))}}class vy{constructor(){this.isRunning=!1,this.petBrain=new my({defaultState:v.Idle,defaultEmotion:h.Calm,memoryLimit:2e3,aiProviders:[Vn.OpenAI,Vn.Claude,Vn.Doubao],plugins:["screenshot_plugin","note_plugin"]}),this.setupEventListeners()}async start(){if(this.isRunning){console.warn("⚠️ 神宠系统已经在运行中");return}try{console.log("🌐 启动 SaintGrid 神宠系统..."),await this.petBrain.initialize(),await this.registerPlugins(),this.isRunning=!0,console.log("✅ 神宠系统启动成功！"),this.showWelcomeMessage(),this.startInteractionDemo()}catch(t){throw console.error("❌ 神宠系统启动失败:",t),t}}async registerPlugins(){console.log("🧩 注册插件...");const t=new yy;await this.petBrain.registerPlugin(t);const n=new py;await this.petBrain.registerPlugin(n),console.log("✅ 所有插件注册完成")}setupEventListeners(){this.petBrain.on("state_changed",t=>{console.log(`🔄 状态变化: ${t.oldState} → ${t.newState}`),this.onStateChanged(t.newState,t.emotion)}),this.petBrain.on("input_processed",t=>{console.log(`😊 情绪状态: ${t.emotion.currentEmotion} (${t.emotion.intensity.toFixed(2)})`)}),this.petBrain.on("plugin_registered",t=>{console.log(`🧩 插件已注册: ${t.plugin.name}`)}),this.petBrain.on("heartbeat",t=>{Math.random()<.05&&this.logSystemStatus()})}async handleUserInput(t){if(!this.isRunning){console.warn("⚠️ 神宠系统未启动");return}try{console.log(`
👤 用户输入: "${t}"`);const n=await this.petBrain.processInput(t);console.log(`🤖 神宠回应: ${n.response}`),console.log(`😊 当前情绪: ${n.emotion}`),n.actions&&n.actions.length>0&&console.log(`🎬 执行动作: ${n.actions.join(", ")}`),this.displayEmotionFeedback()}catch(n){console.error("❌ 处理用户输入失败:",n)}}onStateChanged(t,n){switch(t){case v.Idle:console.log("💤 进入静碗状态 - 汤圆安静地漂浮着...");break;case v.Hover:console.log("✨ 进入感应碗状态 - 汤圆开始发光，准备响应...");break;case v.Awaken:console.log("🌟 进入唤醒碗状态 - 工具菜单已激活！");break;case v.Control:console.log("⚙️ 进入控制碗状态 - 设置菜单已打开");break}}displayEmotionFeedback(){const n=this.petBrain.getCurrentEmotion().display;console.log(`🎭 情绪表现: ${n.animation} | 颜色: ${n.color} | 特效: ${n.particle||"无"}`)}showWelcomeMessage(){console.log(`
🍡 欢迎使用 SaintGrid 神宠系统！

我是您的汤圆小助手，支持以下功能：
📷 截图功能 - 说"截图"、"全屏截图"、"区域截图"
📝 笔记功能 - 说"记录：您的内容"
💬 对话交流 - 随时与我聊天
⚙️ 设置管理 - 说"设置"或"帮助"

四态交互模式：
① 静碗 (Idle) - 默认状态，安静待命
② 感应碗 (Hover) - 悬浮激活，显示提示
③ 唤醒碗 (Awaken) - 工具激活，执行功能
④ 控制碗 (Control) - 设置面板，系统配置

快来试试和我交流吧！
    `)}async startInteractionDemo(){console.log(`
🎮 开始交互演示...
`);const t=["你好","截图","记录：今天学习了AI宠物系统开发","我很开心！","设置","区域截图","记录：#工作 完成了神宠系统的主脑架构","帮助"];for(let n=0;n<t.length;n++)await new Promise(a=>setTimeout(a,2e3)),await this.handleUserInput(t[n]);console.log(`
🎉 交互演示完成！`),this.logSystemStatus()}logSystemStatus(){const t=this.petBrain.getSystemStatus();console.log(`
📊 系统状态报告:
- 当前状态: ${t.state}
- 当前情绪: ${t.emotion}
- 注册插件: ${t.pluginCount} 个
- 内存使用: ${t.memoryUsage.totalMemories}/${t.memoryUsage.memoryLimit}
- 运行时间: ${Math.floor(t.uptime/1e3)} 秒
- 最后交互: ${new Date(t.lastInteraction).toLocaleTimeString()}
    `)}getRecommendations(){return this.petBrain.getRecommendedActions()}getCurrentState(){return this.petBrain.getCurrentState()}getCurrentEmotion(){return this.petBrain.getCurrentEmotion()}getFullStateInfo(){const t=this.petBrain.getStateStatistics(),n=this.petBrain.getCurrentEmotion(),a=this.petBrain.getSystemStatus();return{currentState:this.petBrain.getCurrentState(),stateHistory:t.stateHistory,emotion:n.emotion,lastInteraction:a.lastInteraction}}async onMouseHover(){return this.petBrain.onMouseHover()}async onLeftClick(){return this.petBrain.onLeftClick()}async onRightClick(){return this.petBrain.onRightClick()}async onMouseLeave(){return this.petBrain.onMouseLeave()}getAvailableActions(){return this.petBrain.getAvailableActions()}getStateHistory(){return this.petBrain.getStateHistory()}getStateStatistics(){return this.petBrain.getStateStatistics()}onStateTransition(t,n){this.petBrain.onStateTransition(t,n)}async switchToState(t){await this.petBrain.transitionToState(t)}async stop(){this.isRunning&&(console.log("🛑 正在关闭神宠系统..."),await this.petBrain.destroy(),this.isRunning=!1,console.log("✅ 神宠系统已关闭"))}}let ut=[],te=null;const Ki=[],Ae=()=>{Ki.forEach(e=>e())},Sy=e=>(Ki.push(e),()=>{const t=Ki.indexOf(e);t>-1&&Ki.splice(t,1)}),As=e=>{try{typeof localStorage<"u"&&localStorage.setItem("pet_strategies",JSON.stringify(e))}catch(t){console.warn("Failed to save strategies to localStorage:",t)}},Kh=()=>{try{if(typeof localStorage<"u"){const e=localStorage.getItem("pet_strategies");if(e)return JSON.parse(e)}}catch(e){console.warn("Failed to load strategies from localStorage:",e)}return Jh()},Jh=()=>[{id:"default_happy_strategy",name:"Happy Behaviors",description:"Behaviors to perform when the pet is happy",enabled:!0,priority:80,conditions:{emotion:"happy"},actions:[{behaviorName:"bounce",parameters:{amplitude:.5,speed:2},weight:1},{behaviorName:"spin",parameters:{rotations:2,duration:1e3},weight:.8}]},{id:"default_idle_strategy",name:"Idle Behaviors",description:"Behaviors to perform during idle time",enabled:!0,priority:50,conditions:{state:"idle"},actions:[{behaviorName:"idle_blink",parameters:{frequency:.3},weight:1},{behaviorName:"idle_sway",parameters:{amplitude:.1,speed:.5},weight:.6}]},{id:"default_sleepy_strategy",name:"Sleepy Behaviors",description:"Behaviors to perform when the pet is sleepy",enabled:!0,priority:70,conditions:{emotion:"sleepy"},actions:[{behaviorName:"yawn",parameters:{duration:2e3},weight:1},{behaviorName:"nod_off",parameters:{duration:5e3},weight:.9}]}];ut.length===0&&(ut=Kh());const Ey=()=>{const[e,t]=G.useState(ut),[n,a]=G.useState(te);G.useEffect(()=>Sy(()=>{t([...ut]),a(te)}),[]);const i=G.useCallback(d=>{ut.push(d),Ae()},[]),l=G.useCallback((d,f)=>{const y=ut.findIndex(S=>S.id===d);y>-1&&(ut[y]={...ut[y],...f},Ae())},[]),s=G.useCallback(d=>{const f=ut.findIndex(y=>y.id===d);f>-1&&(ut.splice(f,1),(te==null?void 0:te.id)===d&&(te=null),Ae())},[]),u=G.useCallback(d=>{te=ut.find(f=>f.id===d)||null,Ae()},[]),o=G.useCallback(()=>{te=null,Ae()},[]),c=G.useCallback(()=>{ut=Kh(),Ae()},[]),m=G.useCallback(()=>{As(ut)},[]),p=G.useCallback(()=>{ut=Jh(),te=null,As(ut),Ae()},[]),r=G.useCallback(()=>JSON.stringify(ut,null,2),[]),g=G.useCallback(d=>{try{const f=JSON.parse(d);if(Array.isArray(f))return ut=f,te=null,As(ut),Ae(),!0}catch(f){console.error("Failed to import strategies:",f)}return!1},[]),T=G.useCallback(d=>ut.find(f=>f.id===d),[]),x=G.useCallback(()=>ut.filter(d=>d.enabled).sort((d,f)=>f.priority-d.priority),[]),w=G.useCallback((d,f)=>ut.filter(y=>!(!y.enabled||d&&y.conditions.emotion&&y.conditions.emotion!==d||f&&y.conditions.state&&y.conditions.state!==f)).sort((y,S)=>S.priority-y.priority),[]);return{strategies:e,selectedStrategy:n,addStrategy:i,updateStrategy:l,removeStrategy:s,selectStrategy:u,clearSelection:o,loadStrategies:c,saveStrategies:m,resetToDefaults:p,exportStrategies:r,importStrategies:g,getStrategyById:T,getEnabledStrategies:x,getStrategiesForCondition:w}},by=({className:e="",onStrategyChange:t})=>{const{strategies:n,selectedStrategy:a,addStrategy:i,updateStrategy:l,removeStrategy:s,selectStrategy:u,loadStrategies:o,saveStrategies:c}=Ey(),[m,p]=G.useState(!1),[r,g]=G.useState(null),[T,x]=G.useState([]);G.useEffect(()=>{o()},[o]),G.useEffect(()=>{t&&t(n)},[n,t]);const w=_=>{const z=[];return(!_.name||_.name.trim()==="")&&z.push("Strategy name is required"),(!_.description||_.description.trim()==="")&&z.push("Strategy description is required"),(_.priority<0||_.priority>100)&&z.push("Priority must be between 0 and 100"),_.actions.length===0&&z.push("At least one action is required"),_.actions.forEach((et,Fe)=>{(!et.behaviorName||et.behaviorName.trim()==="")&&z.push(`Action ${Fe+1}: Behavior name is required`),(et.weight<0||et.weight>10)&&z.push(`Action ${Fe+1}: Weight must be between 0 and 10`)}),z},d=()=>{const _={id:`strategy_${Date.now()}`,name:"New Strategy",description:"A new behavior strategy",enabled:!0,priority:50,conditions:{},actions:[]};g(_),p(!0)},f=_=>{g({..._}),p(!0),x([])},y=()=>{if(!r)return;const _=w(r);if(_.length>0){x(_);return}x([]),n.find(z=>z.id===r.id)?l(r.id,r):i(r),p(!1),g(null),c()},S=()=>{p(!1),g(null),x([])},C=_=>{window.confirm("Are you sure you want to delete this strategy?")&&(s(_),c())},R=_=>{const z=n.find(et=>et.id===_);z&&(l(_,{...z,enabled:!z.enabled}),c())},M=()=>{if(!r)return;const _={behaviorName:"",parameters:{},weight:1};g({...r,actions:[...r.actions,_]})},D=(_,z)=>{if(!r)return;const et=[...r.actions];et[_]=z,g({...r,actions:et})},tt=_=>{if(!r)return;const z=r.actions.filter((et,Fe)=>Fe!==_);g({...r,actions:z})};return m&&r?b.jsxs("div",{className:`strategy-config-panel editing ${e}`,style:{padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[b.jsxs("div",{style:{marginBottom:"20px"},children:[b.jsx("h3",{children:"Edit Strategy"}),b.jsx("button",{onClick:y,style:{marginRight:"10px",padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"}),b.jsx("button",{onClick:S,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]}),T.length>0&&b.jsxs("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"16px",border:"1px solid #f5c6cb"},children:[b.jsx("strong",{children:"Validation Errors:"}),b.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:T.map((_,z)=>b.jsx("li",{children:_},z))})]}),b.jsxs("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"6px",marginBottom:"16px"},children:[b.jsx("h4",{children:"Basic Information"}),b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Name:"}),b.jsx("input",{type:"text",value:r.name,onChange:_=>g({...r,name:_.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]}),b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Description:"}),b.jsx("textarea",{value:r.description,onChange:_=>g({...r,description:_.target.value}),rows:3,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",resize:"vertical"}})]}),b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Priority:"}),b.jsx("input",{type:"number",min:"0",max:"100",value:r.priority,onChange:_=>g({...r,priority:parseInt(_.target.value)||0}),style:{width:"100px",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),b.jsxs("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"6px",marginBottom:"16px"},children:[b.jsx("h4",{children:"Conditions"}),b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Required Emotion:"}),b.jsxs("select",{value:r.conditions.emotion||"",onChange:_=>g({...r,conditions:{...r.conditions,emotion:_.target.value||void 0}}),style:{width:"200px",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[b.jsx("option",{value:"",children:"Any"}),b.jsx("option",{value:"happy",children:"Happy"}),b.jsx("option",{value:"sad",children:"Sad"}),b.jsx("option",{value:"excited",children:"Excited"}),b.jsx("option",{value:"calm",children:"Calm"}),b.jsx("option",{value:"sleepy",children:"Sleepy"}),b.jsx("option",{value:"lonely",children:"Lonely"})]})]}),b.jsxs("div",{style:{marginBottom:"12px"},children:[b.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Required State:"}),b.jsxs("select",{value:r.conditions.state||"",onChange:_=>g({...r,conditions:{...r.conditions,state:_.target.value||void 0}}),style:{width:"200px",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},children:[b.jsx("option",{value:"",children:"Any"}),b.jsx("option",{value:"idle",children:"Idle"}),b.jsx("option",{value:"active",children:"Active"}),b.jsx("option",{value:"resting",children:"Resting"}),b.jsx("option",{value:"interacting",children:"Interacting"})]})]})]}),b.jsxs("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"6px"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[b.jsx("h4",{children:"Actions"}),b.jsx("button",{onClick:M,style:{padding:"6px 12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add Action"})]}),r.actions.map((_,z)=>b.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"12px",marginBottom:"8px",backgroundColor:"#f8f9fa"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[b.jsxs("span",{children:["Action ",z+1]}),b.jsx("button",{onClick:()=>tt(z),style:{padding:"4px 8px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]}),b.jsxs("div",{style:{marginBottom:"8px"},children:[b.jsx("label",{style:{display:"block",marginBottom:"4px"},children:"Behavior Name:"}),b.jsx("input",{type:"text",value:_.behaviorName,onChange:et=>D(z,{..._,behaviorName:et.target.value}),style:{width:"100%",padding:"6px",border:"1px solid #ddd",borderRadius:"4px"}})]}),b.jsxs("div",{children:[b.jsx("label",{style:{display:"block",marginBottom:"4px"},children:"Weight:"}),b.jsx("input",{type:"number",min:"0",max:"10",step:"0.1",value:_.weight,onChange:et=>D(z,{..._,weight:parseFloat(et.target.value)||0}),style:{width:"100px",padding:"6px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},z))]})]}):b.jsxs("div",{className:`strategy-config-panel ${e}`,style:{padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[b.jsx("h3",{children:"Strategy Configuration"}),b.jsx("button",{onClick:d,style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Create New Strategy"})]}),b.jsx("div",{style:{backgroundColor:"white",borderRadius:"6px",overflow:"hidden"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[b.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Name"}),b.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Description"}),b.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd"},children:"Priority"}),b.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd"},children:"Enabled"}),b.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd"},children:"Actions"})]})}),b.jsx("tbody",{children:n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:5,style:{padding:"20px",textAlign:"center",color:"#666"},children:"No strategies configured. Create your first strategy to get started."})}):n.map(_=>b.jsxs("tr",{style:{backgroundColor:(a==null?void 0:a.id)===_.id?"#e3f2fd":"white",cursor:"pointer"},onClick:()=>u(_.id),children:[b.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #eee"},children:b.jsx("div",{style:{fontWeight:"bold"},children:_.name})}),b.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #eee"},children:b.jsx("div",{style:{fontSize:"14px",color:"#666"},children:_.description})}),b.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #eee"},children:_.priority}),b.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #eee"},children:b.jsx("input",{type:"checkbox",checked:_.enabled,onChange:z=>{z.stopPropagation(),R(_.id)}})}),b.jsxs("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #eee"},children:[b.jsx("button",{onClick:z=>{z.stopPropagation(),f(_)},style:{marginRight:"8px",padding:"4px 8px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Edit"}),b.jsx("button",{onClick:z=>{z.stopPropagation(),C(_.id)},style:{padding:"4px 8px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})]})]},_.id))})]})})]})},_y=()=>{var r;const[e,t]=G.useState(null),[n,a]=G.useState({currentState:v.Idle,currentEmotion:h.Calm,isSystemReady:!1,pluginStatus:"",rhythmMode:"steady",lastBehavior:"",showStrategyPanel:!1});G.useEffect(()=>((async()=>{try{console.log("🎯 Initializing SaintGrid Pet System...");const T=new vy;await T.start(),t(T),a(x=>({...x,isSystemReady:!0})),console.log("✅ Pet System UI Integration Completed"),window.electronAPI&&await window.electronAPI.onPetStateChange({state:v.Idle,emotion:h.Calm,timestamp:Date.now()})}catch(T){console.error("❌ Pet System Initialization Failed:",T)}})(),()=>{e&&e.stop().catch(console.error)}),[]);const i=G.useCallback(async()=>{if(e)try{console.log("🖱️ Mouse Enter - Triggering Hover State"),await e.onLeftClick(),a(g=>({...g,currentState:v.Hover,currentEmotion:h.Curious,lastBehavior:"hover_enter"})),window.electronAPI&&await window.electronAPI.onPetStateChange({state:v.Hover,emotion:h.Curious,action:"mouse_enter",timestamp:Date.now()})}catch(g){console.error("❌ Hover state transition failed:",g)}},[e]),l=G.useCallback(async()=>{if(e)try{console.log("🖱️ Mouse Leave - Returning to Idle State"),await e.onMouseLeave(),a(g=>({...g,currentState:v.Idle,currentEmotion:h.Calm,lastBehavior:"hover_exit"})),window.electronAPI&&await window.electronAPI.onPetStateChange({state:v.Idle,emotion:h.Calm,action:"mouse_leave",timestamp:Date.now()})}catch(g){console.error("❌ Idle state transition failed:",g)}},[e]),s=G.useCallback(async()=>{if(e)try{console.log("👆 Left Click - Triggering Awaken State"),await e.onLeftClick(),a(g=>({...g,currentState:v.Awaken,currentEmotion:h.Excited,lastBehavior:"awaken_click",pluginStatus:"screenshot_ready"})),window.electronAPI&&await window.electronAPI.onPetBehaviorTrigger({state:v.Awaken,emotion:h.Excited,action:"left_click",plugin:"screenshot",timestamp:Date.now()})}catch(g){console.error("❌ Awaken state transition failed:",g)}},[e]),u=G.useCallback(async g=>{if(g.preventDefault(),!!e)try{console.log("👆 Right Click - Triggering Control State"),await e.onRightClick(),a(T=>({...T,currentState:v.Control,currentEmotion:h.Focused,lastBehavior:"control_menu",pluginStatus:"note_ready"})),window.electronAPI&&await window.electronAPI.onPetBehaviorTrigger({state:v.Control,emotion:h.Focused,action:"right_click",plugin:"note",timestamp:Date.now()})}catch(T){console.error("❌ Control state transition failed:",T)}},[e]),o=G.useCallback(()=>{a(g=>({...g,showStrategyPanel:!g.showStrategyPanel}))},[]),c=()=>{const g=`pet-state-${n.currentState.toLowerCase()}`,T=`emotion-${n.currentEmotion.toLowerCase()}`;return`pet-bowl ${g} ${T}`},m=()=>{switch(n.currentState){case v.Idle:return"💤 静碗";case v.Hover:return"✨ 感应碗";case v.Awaken:return"🌟 唤醒碗";case v.Control:return"⚙️ 控制碗";default:return"🔄 未知"}},p=()=>{switch(n.currentEmotion){case h.Calm:return"😌 平静";case h.Curious:return"🔍 好奇";case h.Focused:return"🎯 专注";case h.Happy:return"😊 开心";case h.Excited:return"🎉 兴奋";default:return"😐 未知"}};return b.jsxs("div",{className:"pet-container",children:[b.jsx("button",{onClick:o,style:{position:"absolute",top:"10px",right:"10px",padding:"8px 12px",backgroundColor:n.showStrategyPanel?"#dc3545":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",zIndex:1e3},children:n.showStrategyPanel?"❌ 关闭配置":"⚙️ 策略配置"}),n.showStrategyPanel&&b.jsx("div",{style:{position:"absolute",top:"50px",right:"10px",width:"600px",maxHeight:"calc(100vh - 70px)",overflow:"auto",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",zIndex:999},children:b.jsx(by,{})}),b.jsx("div",{className:"state-indicator",children:m()}),b.jsx("div",{className:"emotion-indicator",children:p()}),b.jsx("div",{className:c(),onMouseEnter:i,onMouseLeave:l,onClick:s,onContextMenu:u,title:`状态: ${n.currentState} | 情绪: ${n.currentEmotion}`,children:b.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",fontWeight:"bold",textShadow:"0 2px 4px rgba(0,0,0,0.5)",pointerEvents:"none"},children:[b.jsx("div",{style:{fontSize:"48px",marginBottom:"8px"},children:"🍡"}),b.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"SaintGrid"})]})}),b.jsx("div",{className:`plugin-indicator ${n.pluginStatus?"show":""}`,children:n.pluginStatus&&`🔌 ${n.pluginStatus}`}),((r=window.electronAPI)==null?void 0:r.isDev)&&b.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"10px",background:"rgba(0,0,0,0.8)",color:"white",padding:"8px",borderRadius:"4px",fontSize:"10px",maxWidth:"200px",pointerEvents:"none"},children:[b.jsxs("div",{children:["系统: ",n.isSystemReady?"✅ 就绪":"⏳ 初始化"]}),b.jsxs("div",{children:["状态: ",n.currentState]}),b.jsxs("div",{children:["情绪: ",n.currentEmotion]}),b.jsxs("div",{children:["行为: ",n.lastBehavior]}),b.jsxs("div",{children:["节奏: ",n.rhythmMode]})]})]})};console.log("🌐 SaintGrid Pet System UI Starting...");Km.createRoot(document.getElementById("root")).render(b.jsx(gd.StrictMode,{children:b.jsx(_y,{})}));console.log("✅ SaintGrid Pet System UI Rendered");
//# sourceMappingURL=index-Bym3nwoh.js.map
