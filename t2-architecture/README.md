# T2-Architecture | ç¥å® ç³»ç»Ÿæ¶æ„é˜¶æ®µ

## ğŸ“‹ é˜¶æ®µæ¦‚è¿°

T2é˜¶æ®µä¸“æ³¨äºç¥å® ç³»ç»Ÿçš„æŠ€æœ¯æ¶æ„è®¾è®¡ï¼Œå®šä¹‰äº†ç³»ç»Ÿå„ç»„ä»¶é—´çš„å…³ç³»ã€æ•°æ®æµã€æ’ä»¶æœºåˆ¶å’ŒAIè°ƒåº¦ç­–ç•¥ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¥å® ç³»ç»Ÿæ¶æ„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T6-UI Layer                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ PetSystemAppâ”‚  â”‚ EmotionUI   â”‚  â”‚ InteractionUIâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T5-Core Layer                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ PetBrain    â”‚  â”‚ EmotionEngineâ”‚  â”‚ BehaviorSchedâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T4-Models Layer                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ StrategyDB  â”‚  â”‚ BehaviorModelâ”‚  â”‚ StateMemory â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T3-Player Layer                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ DirPlayer   â”‚  â”‚ PlayerPlugin â”‚  â”‚ MediaControlâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘

```
User Input â†’ T6-UI â†’ T5-Core â†’ T4-Models â†’ T3-Player
    â†‘                                           â†“
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Feedback Loop â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â”˜
```

## ğŸ”Œ æ’ä»¶æ¶æ„

### æ’ä»¶æ³¨å†Œæœºåˆ¶

```typescript
interface PluginInterface {
  id: string;
  name: string;
  version: string;
  init(): Promise<void>;
  execute(params: any): Promise<any>;
  destroy(): void;
}
```

### çƒ­æ›´æ–°æµç¨‹

1. **æ’ä»¶å‘ç°** - æ‰«æpluginsç›®å½•
2. **ä¾èµ–æ£€æŸ¥** - éªŒè¯æ’ä»¶ç‰ˆæœ¬å…¼å®¹æ€§
3. **åŠ¨æ€åŠ è½½** - è¿è¡Œæ—¶æ³¨å†Œæ’ä»¶
4. **äº‹ä»¶ç»‘å®š** - ç»‘å®šè¡Œä¸ºè§¦å‘å™¨
5. **çŠ¶æ€åŒæ­¥** - æ›´æ–°ç³»ç»ŸçŠ¶æ€

## ğŸ¤– AIè°ƒåº¦ç­–ç•¥

### è¡Œä¸ºå†³ç­–æ ‘

```
ç”¨æˆ·äº¤äº’
    â”œâ”€â”€ æƒ…ç»ªè¯†åˆ«
    â”‚   â”œâ”€â”€ å¼€å¿ƒ â†’ æ´»è·ƒè¡Œä¸º
    â”‚   â”œâ”€â”€ éš¾è¿‡ â†’ å®‰æ…°è¡Œä¸º
    â”‚   â””â”€â”€ ä¸­æ€§ â†’ æ—¥å¸¸è¡Œä¸º
    â”œâ”€â”€ è¡Œä¸ºé€‰æ‹©
    â”‚   â”œâ”€â”€ ç­–ç•¥åŒ¹é…
    â”‚   â”œâ”€â”€ æ¦‚ç‡è®¡ç®—
    â”‚   â””â”€â”€ æ‰§è¡Œé˜Ÿåˆ—
    â””â”€â”€ åé¦ˆå­¦ä¹ 
        â”œâ”€â”€ æ•ˆæœè¯„ä¼°
        â”œâ”€â”€ ç­–ç•¥è°ƒæ•´
        â””â”€â”€ è®°å¿†æ›´æ–°
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
t2-architecture/
â”œâ”€â”€ README.md                    # æœ¬æ–‡æ¡£
â”œâ”€â”€ diagrams/                    # æ¶æ„å›¾
â”‚   â”œâ”€â”€ system-architecture.png  # ç³»ç»Ÿæ¶æ„å›¾
â”‚   â”œâ”€â”€ data-flow.png           # æ•°æ®æµå‘å›¾
â”‚   â”œâ”€â”€ plugin-lifecycle.png    # æ’ä»¶ç”Ÿå‘½å‘¨æœŸ
â”‚   â””â”€â”€ ai-decision-tree.png    # AIå†³ç­–æ ‘
â”œâ”€â”€ specs/                       # æŠ€æœ¯è§„æ ¼
â”‚   â”œâ”€â”€ api-specification.md    # APIè§„æ ¼å®šä¹‰
â”‚   â”œâ”€â”€ plugin-interface.md     # æ’ä»¶æ¥å£è§„èŒƒ
â”‚   â”œâ”€â”€ data-schema.md          # æ•°æ®ç»“æ„å®šä¹‰
â”‚   â””â”€â”€ security-policy.md      # å®‰å…¨ç­–ç•¥
â””â”€â”€ patterns/                    # è®¾è®¡æ¨¡å¼
    â”œâ”€â”€ observer-pattern.md     # è§‚å¯Ÿè€…æ¨¡å¼åº”ç”¨
    â”œâ”€â”€ strategy-pattern.md     # ç­–ç•¥æ¨¡å¼åº”ç”¨
    â””â”€â”€ factory-pattern.md      # å·¥å‚æ¨¡å¼åº”ç”¨
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **React 18** - UIç»„ä»¶æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **CSS3** - æ¸å˜èƒŒæ™¯å’ŒåŠ¨ç”»

### åç«¯/æ ¸å¿ƒ
- **Node.js** - JavaScriptè¿è¡Œæ—¶
- **Electron** - æ¡Œé¢åº”ç”¨åŒ…è£…
- **Jest** - å•å…ƒæµ‹è¯•æ¡†æ¶

### æ•°æ®å­˜å‚¨
- **JSON** - é…ç½®å’ŒçŠ¶æ€å­˜å‚¨
- **LocalStorage** - æµè§ˆå™¨æœ¬åœ°å­˜å‚¨
- **Memory** - è¿è¡Œæ—¶çŠ¶æ€ç®¡ç†

## ğŸ”§ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```bash
npm run dev        # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run ui:dev     # å¯åŠ¨UIå¼€å‘ç¯å¢ƒ
npm run test       # è¿è¡Œæµ‹è¯•å¥—ä»¶
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
npm run build      # æ„å»ºTypeScript
npm run ui:build   # æ„å»ºUIèµ„æº
npm run package    # æ‰“åŒ…Electronåº”ç”¨
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [T1-Prototype](../t1-prototype/README.md) - åŸå‹è®¾è®¡
- [T3-Player](../t3-player/README.md) - æ’­æ”¾å™¨æ¨¡å—
- [T4-Models](../t4-models/README.md) - æ•°æ®æ¨¡å‹
- [T5-Core](../t5-core/README.md) - æ ¸å¿ƒé€»è¾‘
- [T6-UI](../t6-ui/README.md) - ç”¨æˆ·ç•Œé¢

---

*T2é˜¶æ®µä¸ºç¥å® ç³»ç»Ÿå»ºç«‹äº†åšå®çš„æŠ€æœ¯æ¶æ„åŸºç¡€ï¼Œç¡®ä¿ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚*
