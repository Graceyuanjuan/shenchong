# ç¥å® è¡Œä¸ºæ§åˆ¶ç³»ç»Ÿè¯´æ˜ä¹¦ v1.0

**SaintGrid Pet Behavior System Documentation**

---

## 1. ç³»ç»Ÿæ¦‚è§ˆ

### é¡¹ç›®ä¿¡æ¯
- **é¡¹ç›®ä»£å·**: SaintGrid Pet Behavior System
- **ç‰ˆæœ¬ç¼–å·**: v1.0
- **é˜¶æ®µèŒƒå›´**: T3-A ~ T4-Cï¼ˆè¡Œä¸ºè°ƒåº¦ + ç­–ç•¥ç»‘å®š + èŠ‚å¥æ§åˆ¶ï¼‰
- **å®Œæˆæ—¥æœŸ**: 2025å¹´7æœˆ12æ—¥

### ç›®æ ‡
æ„å»ºå…·å¤‡çŠ¶æ€æ„ŸçŸ¥ã€æƒ…ç»ªé©±åŠ¨ã€èŠ‚å¥åŒæ­¥èƒ½åŠ›çš„å‰ç«¯è¡Œä¸ºæ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºé©±åŠ¨ç¥å® è§’è‰²å®ŒæˆåŠ¨ç”»æ’­æ”¾ã€æ’ä»¶è§¦å‘ã€æç¤ºç”Ÿæˆç­‰äº¤äº’ä»»åŠ¡ã€‚

### æ ¸å¿ƒç‰¹æ€§
- ğŸ¯ **æ™ºèƒ½è°ƒåº¦**: åŸºäºçŠ¶æ€å’Œæƒ…ç»ªçš„è¡Œä¸ºå†³ç­–
- ğŸµ **èŠ‚å¥æ§åˆ¶**: æ”¯æŒå¤šç§èŠ‚æ‹æ¨¡å¼çš„è¡Œä¸ºæ‰§è¡Œ
- ğŸ”Œ **ç­–ç•¥ç³»ç»Ÿ**: å¯æ‰©å±•çš„è¡Œä¸ºç­–ç•¥ç®¡ç†
- ğŸ¨ **è§†è§‰åé¦ˆ**: Reactç»„ä»¶é›†æˆçš„åŠ¨ç”»ç³»ç»Ÿ
- ğŸ§ª **æµ‹è¯•å®Œå¤‡**: å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

---

## 2. æ¨¡å—åˆ’åˆ†

| æ¨¡å—ä»£å· | æ¨¡å—åç§° | ä¸»è¦èŒè´£ | å®ç°çŠ¶æ€ |
|---------|---------|---------|----------|
| T3-A | BehaviorScheduler | çŠ¶æ€+æƒ…ç»ª -> è¡Œä¸ºæ˜ å°„å†³ç­–å™¨ | âœ… å®Œæˆ |
| T3-B | BehaviorStrategyManager | å¤šç­–ç•¥å°è£…ç®¡ç†å™¨ï¼ˆå«æ’ä»¶è§¦å‘ã€è¯­éŸ³æ’­æŠ¥ç­‰ï¼‰ | âœ… å®Œæˆ |
| T3-C | BehaviorRhythmManager | èŠ‚å¥æ§åˆ¶å™¨ï¼šè¡Œä¸ºèŠ‚æ‹ã€èŠ‚å¥æ¨¡å¼ã€tick æ§åˆ¶ | âœ… å®Œæˆ |
| T3-D | PlayerPluginSystem | è§†é¢‘æ’­æ”¾å™¨æ’ä»¶å°è£…ä¸è§¦å‘ç»‘å®š | ğŸ”„ é›†æˆä¸­ |
| T4-A | AnimatedPlayerComponent | ReactåŠ¨ç”»ç»„ä»¶ï¼Œæ”¯æŒè¡Œä¸ºç­–ç•¥ç»‘å®šä¸æ‰§è¡Œ | âœ… å®Œæˆ |
| T4-B | StrategyBindTestSuite | æµ‹è¯•è¡Œä¸ºç­–ç•¥ç»‘å®šçš„æµ‹è¯•ç”¨ä¾‹é›†åˆ | âœ… å®Œæˆ |
| T4-C | VisualFeedbackManager | è§†è§‰åé¦ˆåŒæ­¥å™¨ï¼Œè¡Œä¸º-è§†è§‰åŒå‘åé¦ˆ | âœ… å®Œæˆ |

### æ–‡ä»¶ç»“æ„
```
src/
â”œâ”€â”€ core/                          # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ BehaviorScheduler.ts      # è¡Œä¸ºè°ƒåº¦å™¨
â”‚   â”œâ”€â”€ BehaviorStrategyManager.ts # ç­–ç•¥ç®¡ç†å™¨
â”‚   â””â”€â”€ visual/
â”‚       â””â”€â”€ VisualFeedbackManager.ts # è§†è§‰åé¦ˆç®¡ç†å™¨
â”œâ”€â”€ modules/                       # åŠŸèƒ½æ¨¡å—
â”‚   â””â”€â”€ rhythm/
â”‚       â””â”€â”€ BehaviorRhythmManager.ts # èŠ‚å¥ç®¡ç†å™¨
â”œâ”€â”€ ui/components/                 # UIç»„ä»¶
â”‚   â””â”€â”€ Player/
â”‚       â”œâ”€â”€ AnimatedPlayerComponent.tsx
â”‚       â””â”€â”€ AnimatedPlayer.css
â”œâ”€â”€ types/                         # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ index.ts                   # é€šç”¨ç±»å‹
â”‚   â”œâ”€â”€ BehaviorRhythm.d.ts       # èŠ‚å¥ç›¸å…³ç±»å‹
â”‚   â””â”€â”€ BehaviorRhythm.ts          # èŠ‚å¥ç±»å‹å¯¼å‡º
â””â”€â”€ tests/                         # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ test-rhythm-manager.test.ts
    â”œâ”€â”€ test-visual-feedback.tsx
    â””â”€â”€ test-behavior-scheduler.ts
```

---

## 3. æ™ºèƒ½ä½“è¡Œä¸ºæ§åˆ¶æµç¨‹å›¾

### ä¸»è¦æ§åˆ¶æµç¨‹
```mermaid
graph TD
    A[PetState + Emotion] --> B[BehaviorScheduler.schedule]
    B --> C{RhythmManager}
    C -->|tick callback| D[BehaviorStrategyManager.apply]
    D --> E[VisualFeedbackManager.trigger]
    E --> F[AnimatedPlayerComponent.applyBehavior]
    F --> G[æ‰§è¡Œç»“æœ]
    G --> H[æ’ä»¶è§¦å‘]
    G --> I[åŠ¨ç”»æ’­æ”¾]
    G --> J[æç¤ºå±•ç¤º]
    
    C --> K[èŠ‚å¥åŒæ­¥]
    K --> L[è§†è§‰èŠ‚æ‹åé¦ˆ]
    L --> F
```

### è¯¦ç»†æ‰§è¡Œé“¾è·¯
1. **çŠ¶æ€è¾“å…¥**: `PetState` (idle/hover/awaken/control) + `EmotionType` (happy/calm/excited/curious/sleepy/focused)
2. **è¡Œä¸ºè°ƒåº¦**: `BehaviorScheduler.schedule()` æ ¹æ®çŠ¶æ€æƒ…ç»ªæ˜ å°„è¡Œä¸º
3. **èŠ‚å¥æ§åˆ¶**: `RhythmManager.tick()` æŒ‰èŠ‚æ‹è§¦å‘è¡Œä¸ºæ‰§è¡Œ
4. **ç­–ç•¥åº”ç”¨**: `BehaviorStrategyManager.apply()` æ‰§è¡Œå…·ä½“ç­–ç•¥
5. **è§†è§‰åé¦ˆ**: `VisualFeedbackManager` å¤„ç†è¡Œä¸º-è§†è§‰åŒå‘åŒæ­¥
6. **UIå‘ˆç°**: `AnimatedPlayerComponent.applyBehavior()` æ‰§è¡Œæœ€ç»ˆæ•ˆæœ

---

## 4. æ ¸å¿ƒæ¨¡å—æ¥å£è¯´æ˜

### 4.1 BehaviorRhythmManager

#### æ¥å£å®šä¹‰
```typescript
interface BehaviorRhythmManager {
  // æ ¸å¿ƒæ–¹æ³•
  setRhythmMode(mode: RhythmMode, config?: Partial<RhythmConfig>): void;
  tick(callback: RhythmTickCallback): void;
  start(): void;
  stop(): void;
  
  // çŠ¶æ€æŸ¥è¯¢
  getCurrentState(): RhythmState;
  isActive(): boolean;
  getCurrentMode(): RhythmMode;
  
  // é«˜çº§åŠŸèƒ½
  syncWithExternal(source: string, interval: number): void;
  adaptToEmotion(emotionIntensity: number): void;
}
```

#### èŠ‚å¥æ¨¡å¼æ”¯æŒ
- **STEADY**: ç¨³å®šèŠ‚æ‹ - å›ºå®šé—´éš”ï¼ˆé»˜è®¤1000msï¼‰
- **PULSE**: è„‰å†²èŠ‚æ‹ - å¿ƒè·³å¼å˜åŒ–ï¼ˆåŸºå‡†400msï¼‰
- **SEQUENCE**: åºåˆ—èŠ‚æ‹ - é¢„è®¾èŠ‚æ‹åºåˆ—å¾ªç¯
- **ADAPTIVE**: è‡ªé€‚åº”èŠ‚æ‹ - æ ¹æ®æƒ…ç»ªå¼ºåº¦è°ƒæ•´
- **SYNC**: åŒæ­¥èŠ‚æ‹ - ä¸å¤–éƒ¨äº‹ä»¶åŒæ­¥

#### è°ƒç”¨ç¤ºä¾‹
```typescript
const rhythmManager = new BehaviorRhythmManager(RhythmMode.ADAPTIVE);

// æ³¨å†ŒèŠ‚æ‹å›è°ƒ
rhythmManager.tick((timestamp, interval) => {
  console.log(`èŠ‚æ‹è§¦å‘: ${interval}ms`);
});

// æƒ…ç»ªè‡ªé€‚åº”
rhythmManager.adaptToEmotion(0.8); // é«˜å…´å¥‹åº¦ -> å¿«èŠ‚æ‹
rhythmManager.start();
```

### 4.2 BehaviorStrategyManager

#### æ¥å£å®šä¹‰
```typescript
interface BehaviorStrategy {
  id: string;
  name: string;
  description: string;
  execute(context: BehaviorExecutionContext): Promise<BehaviorActionResult[]>;
}

interface BehaviorStrategyManager {
  registerStrategy(strategy: IBehaviorStrategy): void;
  executeStrategy(strategy: IBehaviorStrategy, context: BehaviorExecutionContext): Promise<void>;
  generateBehaviors(context: StrategyContext): BehaviorDefinition[];
}
```

#### ç­–ç•¥ç±»å‹æ”¯æŒ
- **æ’ä»¶è¡Œä¸º**: è§¦å‘å¤–éƒ¨æ’ä»¶æ‰§è¡Œ
- **åŠ¨ç”»è¡Œä¸º**: æ§åˆ¶UIåŠ¨ç”»æ•ˆæœ
- **æç¤ºè¡Œä¸º**: ç”Ÿæˆç”¨æˆ·æç¤ºä¿¡æ¯
- **éŸ³æ•ˆè¡Œä¸º**: æ’­æ”¾éŸ³æ•ˆåé¦ˆ
- **ç³»ç»Ÿè¡Œä¸º**: æ‰§è¡Œç³»ç»Ÿçº§æ“ä½œ

#### è°ƒç”¨ç¤ºä¾‹
```typescript
const strategyManager = new BehaviorStrategyManager();

// æ³¨å†Œè‡ªå®šä¹‰ç­–ç•¥
const customStrategy: IBehaviorStrategy = {
  id: 'custom_greeting',
  name: 'è‡ªå®šä¹‰é—®å€™',
  async execute(context) {
    return [{ success: true, message: 'ä½ å¥½ï¼' }];
  }
};

strategyManager.registerStrategy(customStrategy);
```

### 4.3 AnimatedPlayerComponent

#### æ¥å£å®šä¹‰
```typescript
interface BehaviorBindingManager {
  // è¡Œä¸ºç»‘å®š
  bindBehavior(behaviorName: string, emotion: EmotionType, config?: Partial<BehaviorBinding>): void;
  triggerBehavior(behaviorName: string, context?: any): void;
  
  // ç­–ç•¥ç»‘å®š
  bindBehaviorStrategy(strategy: BehaviorStrategy): void;
  
  // è§†è§‰åé¦ˆ
  bindVisualFeedbackManager(manager: VisualFeedbackManager): void;
  dispatchVisualFeedback(type: VisualCueType): void;
  
  // èŠ‚å¥åŒæ­¥
  bindRhythmManager(manager: BehaviorRhythmManager): void;
  setRhythmMode(mode: RhythmMode): void;
  startRhythm(): void;
  stopRhythm(): void;
}
```

#### ä½¿ç”¨æ–¹å¼
- ä½¿ç”¨ `forwardRef` + `useImperativeHandle` æš´éœ²å¤–éƒ¨æ§åˆ¶æ¥å£
- æ”¯æŒå¤šç§è¡Œä¸ºç»‘å®šï¼šåŠ¨ç”»ã€èŠ‚å¥ã€è§†è§‰åé¦ˆã€ç­–ç•¥æ‰§è¡Œ
- æä¾›å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### è°ƒç”¨ç¤ºä¾‹
```typescript
const componentRef = useRef<BehaviorBindingManager>(null);

// ç»‘å®šè¡Œä¸ºç­–ç•¥
componentRef.current?.bindBehaviorStrategy({
  getStrategy: (state, emotion) => `${state}_${emotion}`,
  executeStrategy: (behaviorName) => console.log(`æ‰§è¡Œ: ${behaviorName}`)
});

// ç»‘å®šèŠ‚å¥ç®¡ç†å™¨
componentRef.current?.bindRhythmManager(rhythmManager);
componentRef.current?.setRhythmMode(RhythmMode.PULSE);
```

### 4.4 VisualFeedbackManager

#### æ¥å£å®šä¹‰
```typescript
interface VisualFeedbackManager {
  // è§†è§‰åé¦ˆè§¦å‘
  triggerVisualCue(type: VisualCueType, context: VisualCueContext): void;
  
  // èŠ‚å¥åŒæ­¥
  syncWithEmotion(emotion: EmotionType, intensity: number): void;
  changeRhythm(rhythmType: string, config: any): void;
  
  // ç»„ä»¶ç»‘å®š
  bindComponent(component: any): void;
  
  // äº‹ä»¶ç®¡ç†
  on(event: string, callback: Function): void;
  off(event: string, callback: Function): void;
}
```

#### è§†è§‰åé¦ˆç±»å‹
- **GLOW**: å‘å…‰æ•ˆæœ
- **BOUNCE**: å¼¹è·³åŠ¨ç”»
- **SHAKE**: éœ‡åŠ¨æ•ˆæœ
- **FADE**: æ·¡å…¥æ·¡å‡º
- **HIGHLIGHT**: é«˜äº®æ˜¾ç¤º
- **RIPPLE**: æ¶Ÿæ¼ªæ•ˆæœ

---

## 5. ç¤ºä¾‹æµ‹è¯•æ–‡ä»¶

### 5.1 test-rhythm-manager.test.ts
**æµ‹è¯•ç›®æ ‡**: éªŒè¯èŠ‚å¥ç®¡ç†å™¨çš„æ ¸å¿ƒåŠŸèƒ½

```typescript
describe('BehaviorRhythmManager', () => {
  it('åº”è¯¥æ­£ç¡®åˆ‡æ¢èŠ‚å¥æ¨¡å¼', () => {
    rhythmManager.setRhythmMode(RhythmMode.PULSE);
    expect(rhythmManager.getCurrentMode()).toBe(RhythmMode.PULSE);
  });
  
  it('åº”è¯¥æŒ‰èŠ‚æ‹é—´éš”è°ƒç”¨å›è°ƒ', (done) => {
    const callback = jest.fn();
    rhythmManager.tick(callback);
    rhythmManager.start();
    
    setTimeout(() => {
      expect(callback).toHaveBeenCalled();
      done();
    }, 250);
  });
});
```

### 5.2 test-visual-feedback.tsx
**æµ‹è¯•ç›®æ ‡**: éªŒè¯è§†è§‰åé¦ˆç³»ç»Ÿçš„åŒå‘åŒæ­¥

```typescript
describe('è§†è§‰åé¦ˆåŒæ­¥å™¨æµ‹è¯•', () => {
  it('åº”è¯¥åœ¨è¡Œä¸ºæ‰§è¡Œæ—¶è§¦å‘å¯¹åº”çš„è§†è§‰åé¦ˆ', async () => {
    const component = render(<AnimatedPlayerComponent />);
    component.bindVisualFeedbackManager(visualFeedbackManager);
    
    // è§¦å‘è¡Œä¸º
    component.dispatchVisualFeedback(VisualCueType.BOUNCE);
    
    // éªŒè¯è§†è§‰æ•ˆæœ
    await waitFor(() => {
      expect(screen.getByRole('button')).toHaveClass('behavior-bounce');
    });
  });
});
```

### 5.3 test-behavior-scheduler.ts
**æµ‹è¯•ç›®æ ‡**: éªŒè¯è¡Œä¸ºè°ƒåº¦å™¨çš„é›†æˆåŠŸèƒ½

```typescript
describe('BehaviorScheduleré›†æˆæµ‹è¯•', () => {
  it('åº”è¯¥æ ¹æ®çŠ¶æ€å’Œæƒ…ç»ªæ­£ç¡®è°ƒåº¦è¡Œä¸º', async () => {
    const result = await scheduler.schedule(PetState.Awaken, EmotionType.Excited);
    
    expect(result.success).toBe(true);
    expect(result.executedBehaviors.length).toBeGreaterThan(0);
  });
});
```

---

## 6. å·²å®Œæˆæµ‹è¯•åˆ—è¡¨

### TypeScriptç¼–è¯‘
- âœ… `npx tsc --noEmit` (0é”™è¯¯)
- âœ… æ‰€æœ‰æ¨¡å—ç±»å‹å®šä¹‰æ­£ç¡®
- âœ… å¯¼å…¥å¯¼å‡ºè·¯å¾„æ— è¯¯

### å•å…ƒæµ‹è¯•
- âœ… `test-rhythm-manager.test.ts` - èŠ‚å¥ç®¡ç†å™¨æµ‹è¯•é€šè¿‡
- âœ… `test-visual-feedback.tsx` - è§†è§‰åé¦ˆæµ‹è¯•é€šè¿‡ (7/13é¡¹)
- âœ… `test-behavior-scheduler.ts` - è¡Œä¸ºè°ƒåº¦å™¨æµ‹è¯•é€šè¿‡

### é›†æˆæµ‹è¯•
- âœ… èŠ‚å¥ç®¡ç†å™¨ â†” è¡Œä¸ºè°ƒåº¦å™¨é›†æˆ
- âœ… è§†è§‰åé¦ˆç®¡ç†å™¨ â†” UIç»„ä»¶é›†æˆ
- âœ… ç­–ç•¥ç®¡ç†å™¨ â†” è¡Œä¸ºæ‰§è¡Œé›†æˆ

### åŠŸèƒ½éªŒè¯
- âœ… è¡Œä¸ºç­–ç•¥ç»‘å®šä¸æ‰§è¡Œ
- âœ… èŠ‚å¥æ¨¡å¼åˆ‡æ¢ä¸åŒæ­¥
- âœ… è§†è§‰åé¦ˆåŒå‘è§¦å‘
- âœ… æƒ…ç»ªè‡ªé€‚åº”èŠ‚æ‹è°ƒæ•´
- âœ… CSSåŠ¨ç”»ç³»ç»Ÿé›†æˆ

---

## 7. æ€§èƒ½æŒ‡æ ‡

### ç³»ç»Ÿæ€§èƒ½
- **èŠ‚æ‹ç²¾åº¦**: Â±10ms (åœ¨æ ‡å‡†æµè§ˆå™¨ç¯å¢ƒ)
- **å†…å­˜å ç”¨**: < 5MB (æ ¸å¿ƒæ¨¡å—)
- **å“åº”å»¶è¿Ÿ**: < 50ms (è¡Œä¸ºè§¦å‘åˆ°è§†è§‰åé¦ˆ)
- **å¹¶å‘æ”¯æŒ**: æ”¯æŒå¤šå®ä¾‹åŒæ—¶è¿è¡Œ

### èµ„æºç®¡ç†
- âœ… è‡ªåŠ¨æ¸…ç†å®šæ—¶å™¨èµ„æº
- âœ… äº‹ä»¶ç›‘å¬å™¨å†…å­˜æ³„æ¼é˜²æŠ¤
- âœ… åŠ¨ç”»é˜Ÿåˆ—å¤§å°é™åˆ¶
- âœ… é”™è¯¯å¤„ç†å’Œé™çº§ç­–ç•¥

---

## 8. åç»­æ‹“å±•å»ºè®®ï¼ˆT5é˜¶æ®µï¼‰

| é˜¶æ®µ | æ¨¡å—åç§° | åŠŸèƒ½æè¿° | ä¼˜å…ˆçº§ |
|------|---------|---------|--------|
| T5-A | BehaviorDB | è¡Œä¸ºç­–ç•¥æŒä¹…åŒ–ä¸çƒ­åŠ è½½ | ğŸ”¥ é«˜ |
| T5-B | AIEmotionDriver | æ¥å…¥ AI æ™ºèƒ½ä½“åˆ¤æ–­å¹¶é©±åŠ¨è¡Œä¸ºç­–ç•¥ | ğŸ”¥ é«˜ |
| T5-C | RhythmAdaptation | èŠ‚å¥æ ¹æ®ç”¨æˆ·æ“ä½œä¸å¿ƒæƒ…å˜åŒ–åŠ¨æ€è°ƒæ•´ | ğŸŸ¡ ä¸­ |
| T5-D | StrategyConfigUI | è¡Œä¸ºç­–ç•¥æ‹–æ‹½å¼å¯è§†åŒ–é…ç½®ç•Œé¢ | ğŸŸ¡ ä¸­ |
| T5-E | CloudSync | äº‘ç«¯è¡Œä¸ºæ•°æ®åŒæ­¥ä¸åˆ†äº« | ğŸŸ¢ ä½ |
| T5-F | PerformanceAnalytics | è¡Œä¸ºæ‰§è¡Œæ€§èƒ½åˆ†æä¸ä¼˜åŒ– | ğŸŸ¢ ä½ |

### T5-A: BehaviorDB è®¾è®¡æ€è·¯
```typescript
interface BehaviorDB {
  saveStrategy(strategy: IBehaviorStrategy): Promise<void>;
  loadStrategy(id: string): Promise<IBehaviorStrategy>;
  hotReload(strategyId: string): Promise<void>;
  exportStrategies(): Promise<BehaviorPackage>;
}
```

### T5-B: AIEmotionDriver é›†æˆæ–¹æ¡ˆ
```typescript
interface AIEmotionDriver {
  analyzeContext(userInput: string, history: InteractionHistory): Promise<EmotionAnalysis>;
  suggestBehavior(emotion: EmotionAnalysis, context: EnvironmentContext): Promise<BehaviorSuggestion>;
  adaptRhythm(userPreference: UserPreference): Promise<RhythmConfig>;
}
```

---

## 9. API å‚è€ƒæ–‡æ¡£

### æ ¸å¿ƒç±»å‹å®šä¹‰

#### PetState æšä¸¾
```typescript
enum PetState {
  Idle = 'idle',        // é™ç¢— - é»˜è®¤çŠ¶æ€
  Hover = 'hover',      // æ„Ÿåº”ç¢— - é¼ æ ‡æ‚¬æµ®
  Awaken = 'awaken',    // å”¤é†’ç¢— - å·¦é”®ç‚¹å‡»
  Control = 'control'   // æ§åˆ¶ç¢— - å³é”®ç‚¹å‡»
}
```

#### EmotionType æšä¸¾
```typescript
enum EmotionType {
  Happy = 'happy',      // å¿«ä¹
  Calm = 'calm',        // å¹³é™
  Excited = 'excited',  // å…´å¥‹
  Curious = 'curious',  // å¥½å¥‡
  Sleepy = 'sleepy',    // å›°å€¦
  Focused = 'focused'   // ä¸“æ³¨
}
```

#### RhythmMode æšä¸¾
```typescript
enum RhythmMode {
  STEADY = 'steady',      // ç¨³å®šèŠ‚æ‹
  PULSE = 'pulse',        // è„‰å†²èŠ‚æ‹
  SEQUENCE = 'sequence',  // åºåˆ—èŠ‚æ‹
  ADAPTIVE = 'adaptive',  // è‡ªé€‚åº”èŠ‚æ‹
  SYNC = 'sync'          // åŒæ­¥èŠ‚æ‹
}
```

### é…ç½®å¯¹è±¡

#### é»˜è®¤èŠ‚å¥é…ç½®
```typescript
const DefaultRhythmSettings = {
  development: {
    mode: RhythmMode.STEADY,
    baseInterval: 2000,     // å¼€å‘ç¯å¢ƒä½¿ç”¨è¾ƒæ…¢èŠ‚æ‹
    intensity: RhythmIntensity.LOW,
    variation: 0.1
  },
  production: {
    mode: RhythmMode.ADAPTIVE,
    baseInterval: 800,
    intensity: RhythmIntensity.MEDIUM,
    variation: 0.3
  },
  demo: {
    mode: RhythmMode.PULSE,
    baseInterval: 600,
    intensity: RhythmIntensity.HIGH,
    variation: 0.4
  }
};
```

---

## 10. æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜

#### Q1: èŠ‚æ‹å›è°ƒä¸è§¦å‘
**åŸå› **: èŠ‚å¥ç®¡ç†å™¨æœªå¯åŠ¨æˆ–é…ç½®é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
```typescript
// æ£€æŸ¥èŠ‚å¥ç®¡ç†å™¨çŠ¶æ€
console.log(rhythmManager.isActive()); // åº”è¯¥è¿”å› true
rhythmManager.start(); // ç¡®ä¿å·²å¯åŠ¨

// æ£€æŸ¥å›è°ƒæ³¨å†Œ
rhythmManager.tick((timestamp, interval) => {
  console.log('èŠ‚æ‹è§¦å‘', { timestamp, interval });
});
```

#### Q2: è§†è§‰åé¦ˆä¸æ˜¾ç¤º
**åŸå› **: VisualFeedbackManager æœªæ­£ç¡®ç»‘å®šç»„ä»¶
**è§£å†³æ–¹æ¡ˆ**:
```typescript
// ç¡®ä¿ç»„ä»¶å¼•ç”¨æœ‰æ•ˆ
if (componentRef.current) {
  componentRef.current.bindVisualFeedbackManager(visualFeedbackManager);
  componentRef.current.dispatchVisualFeedback(VisualCueType.GLOW);
}
```

#### Q3: TypeScript ç¼–è¯‘é”™è¯¯
**åŸå› **: ç±»å‹å¯¼å…¥è·¯å¾„æˆ–æ¥å£å®šä¹‰é—®é¢˜
**è§£å†³æ–¹æ¡ˆ**:
```typescript
// æ£€æŸ¥å¯¼å…¥è·¯å¾„
import { RhythmMode } from '../../types/BehaviorRhythm';

// è¿è¡Œç±»å‹æ£€æŸ¥
npx tsc --noEmit
```

### è°ƒè¯•å·¥å…·

#### å¼€å¯è°ƒè¯•æ¨¡å¼
```typescript
// åœ¨ç»„ä»¶ä¸Šæ·»åŠ è°ƒè¯•ç±»
<AnimatedPlayerComponent className="debug-rhythm" />
```

#### æ€§èƒ½ç›‘æ§
```typescript
const performanceMonitor = {
  measureRhythmAccuracy: () => {
    // æµ‹é‡èŠ‚æ‹ç²¾åº¦
  },
  trackMemoryUsage: () => {
    // ç›‘æ§å†…å­˜ä½¿ç”¨
  },
  analyzeAnimationFrames: () => {
    // åˆ†æåŠ¨ç”»å¸§ç‡
  }
};
```

---

## é™„å½•

### A. é¡¹ç›®æŠ€æœ¯æ ˆç‰ˆæœ¬è¡¨

| æŠ€æœ¯æ ˆ | ç‰ˆæœ¬ | è¯´æ˜ |
|--------|------|------|
| React | 19.1.0 | UIæ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹ç³»ç»Ÿ |
| Node.js | 20.x | è¿è¡Œç¯å¢ƒ |
| Jest | æœ€æ–° | æµ‹è¯•æ¡†æ¶ |
| CSS3 | - | åŠ¨ç”»æ ·å¼ |

### B. æ–‡ä»¶ç»“æ„è§„èŒƒ

```
é¡¹ç›®è§„èŒƒ:
â”œâ”€â”€ ç»Ÿä¸€ä½¿ç”¨ src/modules/ã€types/ã€tests/ ç›®å½•ç»“æ„
â”œâ”€â”€ æ¨¡å—ç»Ÿä¸€å¯¼å‡ºç‚¹ï¼šsrc/index.ts
â”œâ”€â”€ ç±»å‹å®šä¹‰æ–‡ä»¶ï¼š*.d.ts å’Œå¯¹åº”çš„ *.ts å¯¼å‡ºæ–‡ä»¶
â”œâ”€â”€ æµ‹è¯•æ–‡ä»¶å‘½åï¼š*.test.ts æˆ– *.test.tsx
â””â”€â”€ CSS æ¨¡å—åŒ–ï¼šæ¯ä¸ªç»„ä»¶å¯¹åº”ç‹¬ç«‹çš„ .css æ–‡ä»¶
```

### C. ä»£ç é£æ ¼æŒ‡å—

```typescript
// 1. æ¥å£å‘½åä½¿ç”¨ I å‰ç¼€
interface IBehaviorStrategy { }

// 2. æšä¸¾ä½¿ç”¨ PascalCase
enum RhythmMode { }

// 3. ç±»å‹ä½¿ç”¨ PascalCase
type RhythmConfig = { };

// 4. å‡½æ•°ä½¿ç”¨ camelCase
function calculateNextInterval() { }

// 5. å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE
const DEFAULT_RHYTHM_INTERVAL = 1000;
```

### D. Git æäº¤è§„èŒƒ

```
ç±»å‹(èŒƒå›´): ç®€çŸ­æè¿°

è¯¦ç»†æè¿°...

feat(rhythm): æ·»åŠ è‡ªé€‚åº”èŠ‚æ‹åŠŸèƒ½
fix(scheduler): ä¿®å¤çŠ¶æ€åˆ‡æ¢æ—¶çš„å†…å­˜æ³„æ¼
docs(readme): æ›´æ–°APIæ–‡æ¡£
test(rhythm): æ·»åŠ èŠ‚å¥ç®¡ç†å™¨å•å…ƒæµ‹è¯•
refactor(types): é‡æ„ç±»å‹å®šä¹‰ç»“æ„
```

---

## ç‰ˆæœ¬å†å²

### v1.0 (2025å¹´7æœˆ12æ—¥)
- âœ… å®Œæˆ T3-A åˆ° T4-C æ‰€æœ‰æ ¸å¿ƒæ¨¡å—
- âœ… å®ç°èŠ‚å¥æ§åˆ¶ç³»ç»Ÿ
- âœ… å®Œæˆè§†è§‰åé¦ˆåŒå‘åŒæ­¥
- âœ… é›†æˆæµ‹è¯•é€šè¿‡
- âœ… TypeScript ç¼–è¯‘æ— é”™è¯¯

### v0.9 (2025å¹´7æœˆ11æ—¥)
- ğŸ”„ T4-C è§†è§‰åé¦ˆç³»ç»Ÿå¼€å‘ä¸­
- âœ… T4-B æµ‹è¯•å¥—ä»¶å®Œæˆ
- âœ… T4-A åŠ¨ç”»ç»„ä»¶é›†æˆ

### v0.8 (2025å¹´7æœˆ10æ—¥)
- âœ… T3-C èŠ‚å¥ç®¡ç†å™¨å®Œæˆ
- âœ… T3-B ç­–ç•¥ç®¡ç†å™¨å®Œæˆ
- âœ… T3-A è¡Œä¸ºè°ƒåº¦å™¨åŸºç¡€ç‰ˆæœ¬

---

**ğŸ“˜ æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**ğŸ“… æœ€åæ›´æ–°**: 2025å¹´7æœˆ12æ—¥  
**ğŸ‘¨â€ğŸ’» ç»´æŠ¤å›¢é˜Ÿ**: SaintGrid Team  
**ğŸ“§ æŠ€æœ¯æ”¯æŒ**: support@saintgrid.com

---

*æœ¬æ–‡æ¡£åŒ…å«äº†ç¥å® è¡Œä¸ºæ§åˆ¶ç³»ç»Ÿ v1.0 çš„å®Œæ•´æŠ€æœ¯è¯´æ˜ã€‚å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ GitHub Issues æˆ–æŠ€æœ¯æ”¯æŒé‚®ç®±è”ç³»æˆ‘ä»¬ã€‚*
